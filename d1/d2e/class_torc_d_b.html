<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torc: TorcDB Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torc
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d1/d74/class_torc_d_b-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TorcDB Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base Sql database access class.  
 <a href="../../d1/d2e/class_torc_d_b.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TorcDB:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/da6/class_torc_d_b__inherit__graph.svg" width="119" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a92348e9893800ec8bae5ad3b4dba0342"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a92348e9893800ec8bae5ad3b4dba0342">TorcDB</a> (const QString &amp;DatabaseName, const QString &amp;DatabaseType)</td></tr>
<tr class="separator:a92348e9893800ec8bae5ad3b4dba0342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc6fed48eb8f184e99a63a6d7c9b9e8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a9cc6fed48eb8f184e99a63a6d7c9b9e8">~TorcDB</a> ()</td></tr>
<tr class="separator:a9cc6fed48eb8f184e99a63a6d7c9b9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7084504f6e6c5de02f8be9c2c4e03f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a1e7084504f6e6c5de02f8be9c2c4e03f">IsValid</a> (void)</td></tr>
<tr class="memdesc:a1e7084504f6e6c5de02f8be9c2c4e03f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the datbase has been opened/created.  <a href="#a1e7084504f6e6c5de02f8be9c2c4e03f">More...</a><br /></td></tr>
<tr class="separator:a1e7084504f6e6c5de02f8be9c2c4e03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86e3ad0bf76596a6c9d4cde71dcce62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#ad86e3ad0bf76596a6c9d4cde71dcce62">CloseThreadConnection</a> (void)</td></tr>
<tr class="memdesc:ad86e3ad0bf76596a6c9d4cde71dcce62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the database connection for the current thread.  <a href="#ad86e3ad0bf76596a6c9d4cde71dcce62">More...</a><br /></td></tr>
<tr class="separator:ad86e3ad0bf76596a6c9d4cde71dcce62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc381ffee8ad754b2fb61edbe121adc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#afc381ffee8ad754b2fb61edbe121adc7">LoadSettings</a> (QMap&lt; QString, QString &gt; &amp;Settings)</td></tr>
<tr class="memdesc:afc381ffee8ad754b2fb61edbe121adc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all persistent settings stored in the database.  <a href="#afc381ffee8ad754b2fb61edbe121adc7">More...</a><br /></td></tr>
<tr class="separator:afc381ffee8ad754b2fb61edbe121adc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac544ff1f1447a2f36dd45ab60c500f6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#ac544ff1f1447a2f36dd45ab60c500f6c">SetSetting</a> (const QString &amp;Name, const QString &amp;Value)</td></tr>
<tr class="memdesc:ac544ff1f1447a2f36dd45ab60c500f6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the setting Name to the value Value.  <a href="#ac544ff1f1447a2f36dd45ab60c500f6c">More...</a><br /></td></tr>
<tr class="separator:ac544ff1f1447a2f36dd45ab60c500f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aeab563e80b1615e7ba09dee0adfa99de"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#aeab563e80b1615e7ba09dee0adfa99de">InitDatabase</a> (void)=0</td></tr>
<tr class="separator:aeab563e80b1615e7ba09dee0adfa99de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45e675e888fdd4145ebb0e5120d3a19"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#ac45e675e888fdd4145ebb0e5120d3a19">GetThreadConnection</a> (void)</td></tr>
<tr class="memdesc:ac45e675e888fdd4145ebb0e5120d3a19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a database connection for the current thread.  <a href="#ac45e675e888fdd4145ebb0e5120d3a19">More...</a><br /></td></tr>
<tr class="separator:ac45e675e888fdd4145ebb0e5120d3a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a306027e5d52bd311dfb2aa4d7a9ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#aa9a306027e5d52bd311dfb2aa4d7a9ab">CloseConnections</a> (void)</td></tr>
<tr class="memdesc:aa9a306027e5d52bd311dfb2aa4d7a9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all cached database connections.  <a href="#aa9a306027e5d52bd311dfb2aa4d7a9ab">More...</a><br /></td></tr>
<tr class="separator:aa9a306027e5d52bd311dfb2aa4d7a9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a2f81f0e32d1328aafa1b2cdddc5ccb9d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a2f81f0e32d1328aafa1b2cdddc5ccb9d">DebugError</a> (QSqlQuery *Query)</td></tr>
<tr class="memdesc:a2f81f0e32d1328aafa1b2cdddc5ccb9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log database errors following a failed query.  <a href="#a2f81f0e32d1328aafa1b2cdddc5ccb9d">More...</a><br /></td></tr>
<tr class="separator:a2f81f0e32d1328aafa1b2cdddc5ccb9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684ce31ddca78a1d776ea5414e10d515"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a684ce31ddca78a1d776ea5414e10d515">DebugError</a> (QSqlDatabase *Database)</td></tr>
<tr class="memdesc:a684ce31ddca78a1d776ea5414e10d515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log database errors following database creation.  <a href="#a684ce31ddca78a1d776ea5414e10d515">More...</a><br /></td></tr>
<tr class="separator:a684ce31ddca78a1d776ea5414e10d515"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a490db48015138278aaf626339172ecd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a490db48015138278aaf626339172ecd0">m_databaseValid</a></td></tr>
<tr class="separator:a490db48015138278aaf626339172ecd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914055cd3258da01c601de323cb63188"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a914055cd3258da01c601de323cb63188">m_databaseName</a></td></tr>
<tr class="separator:a914055cd3258da01c601de323cb63188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d056dd0041f5e706573d9573bdb1c05"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a8d056dd0041f5e706573d9573bdb1c05">m_databaseType</a></td></tr>
<tr class="separator:a8d056dd0041f5e706573d9573bdb1c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931966307ce54e14983d553c8e1861ed"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a931966307ce54e14983d553c8e1861ed">m_lock</a></td></tr>
<tr class="separator:a931966307ce54e14983d553c8e1861ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd5f85d2d46dc4649651762d7b6142f"><td class="memItemLeft" align="right" valign="top">QHash&lt; QThread *, QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d2e/class_torc_d_b.html#a4dd5f85d2d46dc4649651762d7b6142f">m_connectionMap</a></td></tr>
<tr class="separator:a4dd5f85d2d46dc4649651762d7b6142f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base Sql database access class. </p>
<p><a class="el" href="../../d1/d2e/class_torc_d_b.html" title="Base Sql database access class. ">TorcDB</a> is the base implementation for Sql database access. It is currently limited to setting and retrieving settings and whilst designed for generic Sql usage, the only current concrete subclass is TorcSQliteDB. Changes may (will) be required for other database types and usage.</p>
<p>By default, QSql database access is not thread safe and a new connection must be opened for each thread that wishes to use the database. <a class="el" href="../../d1/d2e/class_torc_d_b.html" title="Base Sql database access class. ">TorcDB</a> (and its subclasses) will ask for a connection each time the database is accessed and connections are cached on a per-thread basis. The thread name (and pointer) is used for cache tracking and thus any thread must have a name. This implicitly limits database access to a QThread or one its subclasses (e.g. <a class="el" href="../../d2/d41/class_torc_q_thread.html" title="A Torc specific wrapper around QThread. ">TorcQThread</a>) and hence database access will not work from QRunnable's or other miscellaneous threads - this is by design and is NOT a bug.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/de8/class_torc_s_q_lite_d_b.html" title="SQLite implementation of TorcDB. ">TorcSQLiteDB</a> </dd>
<dd>
<a class="el" href="../../d7/d17/class_torc_local_context.html" title="TorcLocalContext is the core Torc object. ">TorcLocalContext</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00011">11</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a92348e9893800ec8bae5ad3b4dba0342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TorcDB::TorcDB </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>DatabaseName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>DatabaseType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00051">51</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9cc6fed48eb8f184e99a63a6d7c9b9e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TorcDB::~TorcDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00060">60</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa9a306027e5d52bd311dfb2aa4d7a9ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TorcDB::CloseConnections </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close all cached database connections. </p>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00079">79</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad86e3ad0bf76596a6c9d4cde71dcce62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TorcDB::CloseThreadConnection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the database connection for the current thread. </p>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00104">104</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2f81f0e32d1328aafa1b2cdddc5ccb9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TorcDB::DebugError </td>
          <td>(</td>
          <td class="paramtype">QSqlQuery *&#160;</td>
          <td class="paramname"><em>Query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log database errors following a failed query. </p>
<dl class="section see"><dt>See also</dt><dd>Debugerror(QSqlDatabase*) </dd></dl>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00164">164</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a684ce31ddca78a1d776ea5414e10d515"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TorcDB::DebugError </td>
          <td>(</td>
          <td class="paramtype">QSqlDatabase *&#160;</td>
          <td class="paramname"><em>Database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log database errors following database creation. </p>
<dl class="section see"><dt>See also</dt><dd>Debugerror(QSqlQuery*) </dd></dl>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00195">195</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac45e675e888fdd4145ebb0e5120d3a19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString TorcDB::GetThreadConnection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a database connection for the current thread. </p>
<p>Database connections are cached (thus limiting connections to one per thread).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d2e/class_torc_d_b.html#aa9a306027e5d52bd311dfb2aa4d7a9ab" title="Close all cached database connections. ">CloseConnections</a> </dd>
<dd>
<a class="el" href="../../d1/d2e/class_torc_d_b.html#ad86e3ad0bf76596a6c9d4cde71dcce62" title="Close the database connection for the current thread. ">CloseThreadConnection</a> </dd></dl>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00125">125</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeab563e80b1615e7ba09dee0adfa99de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TorcDB::InitDatabase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="../../da/de8/class_torc_s_q_lite_d_b.html#a28e63f5f267b50bc7cc7fefbb551e01b">TorcSQLiteDB</a>.</p>

</div>
</div>
<a class="anchor" id="a1e7084504f6e6c5de02f8be9c2c4e03f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TorcDB::IsValid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the datbase has been opened/created. </p>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00070">70</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc381ffee8ad754b2fb61edbe121adc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TorcDB::LoadSettings </td>
          <td>(</td>
          <td class="paramtype">QMap&lt; QString, QString &gt; &amp;&#160;</td>
          <td class="paramname"><em>Settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all persistent settings stored in the database. </p>
<p>Settings are key/value pairs (of strings).</p>
<p>Settings are designed as application wide configurable settings that can only changed by the administrative user (if present, otherwise the default user).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d2e/class_torc_d_b.html#ac544ff1f1447a2f36dd45ab60c500f6c" title="Set the setting Name to the value Value. ">SetSetting</a> </dd></dl>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00231">231</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac544ff1f1447a2f36dd45ab60c500f6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TorcDB::SetSetting </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>Value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the setting Name to the value Value. </p>

<p>Definition at line <a class="el" href="../../dd/d35/torcdb_8cpp_source.html#l00252">252</a> of file <a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4dd5f85d2d46dc4649651762d7b6142f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHash&lt;QThread*,QString&gt; TorcDB::m_connectionMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00035">35</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a914055cd3258da01c601de323cb63188"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString TorcDB::m_databaseName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00032">32</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d056dd0041f5e706573d9573bdb1c05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString TorcDB::m_databaseType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00033">33</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a490db48015138278aaf626339172ecd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TorcDB::m_databaseValid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00031">31</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a931966307ce54e14983d553c8e1861ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex TorcDB::m_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/da3/torcdb_8h_source.html#l00034">34</a> of file <a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d4/da3/torcdb_8h_source.html">torcdb.h</a></li>
<li><a class="el" href="../../dd/d35/torcdb_8cpp_source.html">torcdb.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 21 2018 15:38:43 for Torc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
