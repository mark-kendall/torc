<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torc: torcloggingimp.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torc
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_19e1fafdf157c27762559b97f5d6a2d3.html">torc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">torcloggingimp.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d24/torcloggingimp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Std</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// Qt</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;QtGlobal&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;QMutex&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;QList&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;QTime&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;QRegExp&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;QHash&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;QMap&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;QByteArray&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;QWaitCondition&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;QFileInfo&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;QStringList&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;QQueue&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// Torc</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dbd/torcexitcodes_8h.html">torcexitcodes.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d76/torccompat_8h.html">torccompat.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/db0/torcqthread_8h.html">torcqthread.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/df9/torclogging_8h.html">torclogging.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d0a/torcloggingimp_8h.html">torcloggingimp.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// Various ways to get to thread&#39;s tid</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef Q_OS_LINUX</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;sys/syscall.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#elif defined(__FreeBSD__)</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;sys/ucontext.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;sys/thr.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#elif defined(Q_OS_MAC)</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;mach/mach.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d38/class_logging_thread.html">LoggingThread</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">class </span><a class="code" href="../../df/dd2/class_log_item.html">LogItem</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">   47</a></span>&#160;QMutex                   <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">gLoggerListLock</a>;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">   48</a></span>&#160;QList&lt;LoggerBase *&gt;      <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">   49</a></span>&#160;QMutex                   <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">   50</a></span>&#160;QQueue&lt;LogItem *&gt;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ab1a4f5c2aca7aec09932f872ffeea576">   51</a></span>&#160;QRegExp                  <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab1a4f5c2aca7aec09932f872ffeea576">gLogRexExp</a> = QRegExp(<span class="stringliteral">&quot;[%]{1,2}&quot;</span>);</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">   52</a></span>&#160;QMutex                   <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a>;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">   53</a></span>&#160;QHash&lt;uint64_t, char *&gt;  <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">   54</a></span>&#160;QMutex                   <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a>;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">   55</a></span>&#160;QHash&lt;uint64_t, int64_t&gt; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9ca8989d9c2f0921fdddfe360fdb9c4d">   56</a></span>&#160;<a class="code" href="../../da/d38/class_logging_thread.html">LoggingThread</a>           *<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9ca8989d9c2f0921fdddfe360fdb9c4d">gLogThread</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">   57</a></span>&#160;<span class="keywordtype">bool</span>                     <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">   58</a></span>&#160;<span class="keywordtype">bool</span>                     <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">gDebugRegistration</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3">   60</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4">   61</a></span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4">kMessage</a>       = 0x01,</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9">   62</a></span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9">kRegistering</a>   = 0x02,</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee">   63</a></span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee">kDeregistering</a> = 0x04,</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1">   64</a></span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1">kFlush</a>         = 0x08,</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8">   65</a></span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8">kStandardIO</a>    = 0x10,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;} <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3">LoggingType</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keywordtype">char</span>*   <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad4d8c15ca3f22bcfbe5b3c90426505bf">GetThreadName</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;int64_t <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">GetThreadTid</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html">   71</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../df/dd2/class_log_item.html">LogItem</a></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">   74</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a>* <a class="code" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">Create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* File, <span class="keyword">const</span> <span class="keywordtype">char</span>* Function,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                           <span class="keywordtype">int</span> Line, LogLevel Level, <span class="keywordtype">int</span> Type, quint64 Mask)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a>(File, Function, Line, Level, Type, Mask);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">   80</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">Delete</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (Item &amp;&amp; !Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>.deref())</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                free(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keyword">delete</span> Item;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">protected</span>:</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a61c17dbf04a789d015e92e64a8ab06d2">   91</a></span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html#a61c17dbf04a789d015e92e64a8ab06d2">LogItem</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *File, <span class="keyword">const</span> <span class="keywordtype">char</span> *Function,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordtype">int</span> Line, LogLevel Level, <span class="keywordtype">int</span> Type, quint64 Mask)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      : refCount(),</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        threadId((uint64_t)(QThread::currentThreadId())),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        usec(0),</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        line(Line),         type(Type),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        level(Level),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        tm(),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        file(File),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        function(Function), threadName(nullptr),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        mask(Mask)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        SetTime();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        SetThreadTid();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        message[0]=<span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        message[<a class="code" href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a>]=<span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        refCount.ref();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a19127642d7da11b81c5c5bb8d6253f58">  113</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../df/dd2/class_log_item.html#a19127642d7da11b81c5c5bb8d6253f58">SetTime</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        time_t epoch;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#if HAVE_GETTIMEOFDAY</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keyword">struct </span>timeval  tv;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        gettimeofday(&amp;tv, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        epoch = tv.tv_sec;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        usec  = tv.tv_usec;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        QDateTime date = QDateTime::currentDateTime();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        QTime     time = date.time();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        epoch = date.toTime_t();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        usec = time.msec() * 1000;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        localtime_r(&amp;epoch, &amp;tm);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#ac077c926a0969155df2d4345d4b258f8">  132</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../df/dd2/class_log_item.html#ac077c926a0969155df2d4345d4b258f8">SetThreadTid</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>.contains(this-&gt;threadId))</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            int64_t tid = 0;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#ifdef Q_OS_LINUX</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            tid = (int64_t)syscall(SYS_gettid);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#elif defined(__FreeBSD__)</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordtype">long</span> lwpid;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordtype">int</span> dummy = thr_self( &amp;lwpid );</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            (void)dummy;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            tid = (int64_t)lwpid;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#elif defined(Q_OS_MAC)</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            tid = (int64_t)mach_thread_self();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>[this-&gt;threadId] = tid;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">  154</a></span>&#160;    QAtomicInt          <a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">  155</a></span>&#160;    uint64_t            <a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a71aaa2ebb8d8ba95d8255b50961b98d6">  156</a></span>&#160;    uint32_t            <a class="code" href="../../df/dd2/class_log_item.html#a71aaa2ebb8d8ba95d8255b50961b98d6">usec</a>;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#ac37d8d104ff60072b50b7fb7f3a6ea75">  157</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="../../df/dd2/class_log_item.html#ac37d8d104ff60072b50b7fb7f3a6ea75">line</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">  158</a></span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">type</a>;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">  159</a></span>&#160;    LogLevel            <a class="code" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">level</a>;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a3efc591220c20f045233a2903c98dd31">  160</a></span>&#160;    <span class="keyword">struct </span>tm           tm;</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#aed52f0a4653e4363109c2a8cf27979ec">  161</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>         *<a class="code" href="../../df/dd2/class_log_item.html#aed52f0a4653e4363109c2a8cf27979ec">file</a>;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a8ea8e9c797184c1aa0cb74e40cf9cb3f">  162</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>         *<span class="keyword">function</span>;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">  163</a></span>&#160;    <span class="keywordtype">char</span>               *<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">  164</a></span>&#160;    <span class="keywordtype">char</span>                message[<a class="code" href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a>+1];</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../df/dd2/class_log_item.html#ab4b2073beef780ad31cd1f2450e069a9">  165</a></span>&#160;    quint64             <a class="code" href="../../df/dd2/class_log_item.html#ab4b2073beef780ad31cd1f2450e069a9">mask</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;};</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html">  168</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d38/class_logging_thread.html">LoggingThread</a> : <span class="keyword">public</span> <a class="code" href="../../d2/d41/class_torc_q_thread.html">TorcQThread</a></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../da/d38/class_logging_thread.html">LoggingThread</a>();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   ~<a class="code" href="../../da/d38/class_logging_thread.html">LoggingThread</a>();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// TorcQThread</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#a072cd7284123fa0cdfe5e47602015a10">  175</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/d38/class_logging_thread.html#a072cd7284123fa0cdfe5e47602015a10">run</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        Initialise();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">while</span> (!m_aborted || !<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.isEmpty())</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.isEmpty())</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                m_waitEmpty.wakeAll();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                m_waitNotEmpty.wait(lock.mutex(), 100);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.dequeue();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            lock.unlock();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            HandleItem(item);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a>(item);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            lock.relock();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        lock.unlock();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        Deinitialise();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#a9fab6ea4e59288e79e0201ca0cee7ebf">  208</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/d38/class_logging_thread.html#a9fab6ea4e59288e79e0201ca0cee7ebf">Start</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#a68bfb9d1831da0554e77ef7f1fbd734f">  212</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/d38/class_logging_thread.html#a68bfb9d1831da0554e77ef7f1fbd734f">Finish</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#afd7129273960cc1bbf81155961226afb">  216</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/d38/class_logging_thread.html#afd7129273960cc1bbf81155961226afb">Stop</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> (m_aborted)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            Flush(1000);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            m_aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        m_waitNotEmpty.wakeAll();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#a9c4c4e71452a62402676547f26711c04">  229</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../da/d38/class_logging_thread.html#a9c4c4e71452a62402676547f26711c04">Flush</a>(<span class="keywordtype">int</span> TimeoutMS = 200000)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        QTime t;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        t.start();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">while</span> (!m_aborted &amp;&amp; !<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.isEmpty() &amp;&amp; t.elapsed() &lt; TimeoutMS)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            m_waitNotEmpty.wakeAll();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordtype">int</span> left = TimeoutMS - t.elapsed();</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">if</span> (left &gt; 0)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                m_waitEmpty.wait(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>, left);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.isEmpty();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#ac65ae04d0eaa0bc72647ca6bff7fad31">  243</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/d38/class_logging_thread.html#ac65ae04d0eaa0bc72647ca6bff7fad31">HandleItem</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">type</a> &amp; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9">kRegistering</a>)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            int64_t tid = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">GetThreadTid</a>(Item);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.contains(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>))</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                free(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.take(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>] = strdup(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">gDebugRegistration</a>)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                snprintf(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>, <a class="code" href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a>,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                         <span class="stringliteral">&quot;Thread 0x%&quot;</span> <a class="code" href="../../d3/d76/torccompat_8h.html#afa90fb16ee4ae4b9a50041f2e81cbee1">PREFIX64</a> <span class="stringliteral">&quot;X (%&quot;</span> <a class="code" href="../../d3/d76/torccompat_8h.html#afa90fb16ee4ae4b9a50041f2e81cbee1">PREFIX64</a></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                         <span class="stringliteral">&quot;d) registered as \&#39;%s\&#39;&quot;</span>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                         (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                         (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)tid,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                         <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>]);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">type</a> &amp; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee">kDeregistering</a>)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            int64_t tid = 0;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>.contains(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>))</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    tid = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>.remove(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.contains(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>))</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">gDebugRegistration</a>)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    snprintf(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>, <a class="code" href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a>,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                             <span class="stringliteral">&quot;Thread 0x%&quot;</span> <a class="code" href="../../d3/d76/torccompat_8h.html#afa90fb16ee4ae4b9a50041f2e81cbee1">PREFIX64</a> <span class="stringliteral">&quot;X (%&quot;</span> <a class="code" href="../../d3/d76/torccompat_8h.html#afa90fb16ee4ae4b9a50041f2e81cbee1">PREFIX64</a></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                             <span class="stringliteral">&quot;d) deregistered as \&#39;%s\&#39;&quot;</span>,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                             (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                             (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)tid,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                             <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>]);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordtype">char</span>* threadname = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.take(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                free(threadname);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>[0] != <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">gLoggerListLock</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            QList&lt;LoggerBase *&gt;::iterator it;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">for</span> (it = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>.begin(); it != <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>.end(); ++it)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                (*it)-&gt;Logmsg(Item);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    QWaitCondition m_waitNotEmpty;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    QWaitCondition m_waitEmpty;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">bool</span>           m_aborted;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;};</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../d6/d4a/struct_log_propagate_opts.html">  310</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="../../d6/d4a/struct_log_propagate_opts.html#a77e8219a43240ada486756f9815977c4">  311</a></span>&#160;    <span class="keywordtype">bool</span>    <a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#a77e8219a43240ada486756f9815977c4">propagate</a>;</div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">  312</a></span>&#160;    <span class="keywordtype">int</span>     <a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">quiet</a>;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d6/d4a/struct_log_propagate_opts.html#ae87b7e20741eaf8c23991b55c090588b">  313</a></span>&#160;    QString <a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#ae87b7e20741eaf8c23991b55c090588b">path</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;} <a class="code" href="../../d6/d4a/struct_log_propagate_opts.html">LogPropagateOpts</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a5bcd3d3deab71b20e9234fccb0e55dda">  316</a></span>&#160;<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html">LogPropagateOpts</a> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5bcd3d3deab71b20e9234fccb0e55dda">gLogPropagationOpts</a> = { <span class="keyword">false</span>, 0, QString(<span class="stringliteral">&quot;&quot;</span>) };</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">  317</a></span>&#160;QString          <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a79e8b8b8b2d3ea5a494dd0cdae15e1fa">  319</a></span>&#160;<span class="preprocessor">#define TIMESTAMP_MAX 30</span></div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a6789ebc0df71a8ef76bfbb4fb5f74aad">  320</a></span>&#160;<span class="preprocessor">#define MAX_STRING_LENGTH (LOGLINE_MAX+120)</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">  322</a></span>&#160;LogLevel <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">gLogLevel</a> = (LogLevel)LOG_INFO;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="../../d0/d53/struct_verbose_def.html">  324</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">  325</a></span>&#160;    uint64_t mask      { 0 };</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">  326</a></span>&#160;    QString  name      { QString(<span class="stringliteral">&quot;&quot;</span>) };</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d0/d53/struct_verbose_def.html#a195c11b821f9a4ab2e340e95dc733f8e">  327</a></span>&#160;    <span class="keywordtype">bool</span>     additive  { <span class="keyword">false</span> };</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="../../d0/d53/struct_verbose_def.html#a9e376467d51f48149eba08b4971642c9">  328</a></span>&#160;    QString  helpText  { QString(<span class="stringliteral">&quot;&quot;</span>) };</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;} <a class="code" href="../../d0/d53/struct_verbose_def.html">VerboseDef</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ac5bf947fe1c99f2c9f01c3e5ec9aada9">  331</a></span>&#160;<span class="keyword">typedef</span> QMap&lt;QString, VerboseDef&gt; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ac5bf947fe1c99f2c9f01c3e5ec9aada9">VerboseMap</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../dc/df7/struct_loglevel_def.html">  333</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="../../dc/df7/struct_loglevel_def.html#a0f3afa85115addbd79c8e67239392d8a">  334</a></span>&#160;    <span class="keywordtype">int</span>         value     { 0 };</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="../../dc/df7/struct_loglevel_def.html#a1635334cb4d4e058c246906a62f655f1">  335</a></span>&#160;    QString     name      { QString(<span class="stringliteral">&quot;&quot;</span>) };</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../dc/df7/struct_loglevel_def.html#af16844ae0f2c816d7af7d65d3815bf33">  336</a></span>&#160;    <span class="keywordtype">char</span>        shortname { <span class="charliteral">&#39;?&#39;</span> };</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;} <a class="code" href="../../dc/df7/struct_loglevel_def.html">LoglevelDef</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a36d22e109b05e3cd17b0f79717dd1e13">  339</a></span>&#160;<span class="keyword">typedef</span> QMap&lt;int, LoglevelDef&gt; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a36d22e109b05e3cd17b0f79717dd1e13">LoglevelMap</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">  341</a></span>&#160;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ac5bf947fe1c99f2c9f01c3e5ec9aada9">VerboseMap</a>     <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a62f549d1b9c18469cd7e7b4e08250a7e">  342</a></span>&#160;QMutex         <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a62f549d1b9c18469cd7e7b4e08250a7e">gVerboseMapLock</a>;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">  343</a></span>&#160;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a36d22e109b05e3cd17b0f79717dd1e13">LoglevelMap</a>    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">  344</a></span>&#160;QMutex         <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">  346</a></span>&#160;<span class="keywordtype">bool</span>           <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a>    = <span class="keyword">false</span>;</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">  347</a></span>&#160;<span class="keyword">const</span> uint64_t <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a>     = VB_GENERAL;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">  348</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>    *<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a>     = <span class="stringliteral">&quot; general&quot;</span>;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">  349</a></span>&#160;uint64_t       <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a>           = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a>;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">  350</a></span>&#160;QString        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a>         = QString(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a>);</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9e8b0994b68a34c2b63a5c7c37669fe8">  351</a></span>&#160;uint64_t       <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9e8b0994b68a34c2b63a5c7c37669fe8">gUserDefaultValueInt</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a>;</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ace5b1411cf35dccaa3c9c9a59cbe15fb">  352</a></span>&#160;QString        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ace5b1411cf35dccaa3c9c9a59cbe15fb">gUserDefaultValueStr</a>   = QString(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a>);</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">  353</a></span>&#160;<span class="keywordtype">bool</span>           <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">gHaveUserDefaultValues</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9066e78121e9ec4177b6b313c3844e79">AddVerbose</a>(uint64_t mask, QString name, <span class="keywordtype">bool</span> additive, QString helptext);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ac124975dcd47ddc5e7fadbd3a052f839">AddLogLevel</a>(<span class="keywordtype">int</span> value, QString name, <span class="keywordtype">char</span> shortname);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5658a2d3c03671da78b7b52019ff903e">VerboseHelp</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="../../da/de4/class_logger_base.html#af9c8a698bb83ee4be79dfc2015e9d0a7">  360</a></span>&#160;<a class="code" href="../../da/de4/class_logger_base.html#af9c8a698bb83ee4be79dfc2015e9d0a7">LoggerBase::LoggerBase</a>(QString FileName) : m_fileName(FileName)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">gLoggerListLock</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>.append(<span class="keyword">this</span>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="../../da/de4/class_logger_base.html#a1c6d7880ada1aae670c7b8c41389ee91">  366</a></span>&#160;<a class="code" href="../../da/de4/class_logger_base.html#a1c6d7880ada1aae670c7b8c41389ee91">LoggerBase::~LoggerBase</a>()</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../da/de4/class_logger_base.html#a89721e2f51ddff94c1c568d2b95b82b5">  370</a></span>&#160;QByteArray <a class="code" href="../../da/de4/class_logger_base.html#a89721e2f51ddff94c1c568d2b95b82b5">LoggerBase::GetLine</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (!Item)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>.ref();</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    QByteArray line(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a6789ebc0df71a8ef76bfbb4fb5f74aad">MAX_STRING_LENGTH</a>, <span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">//char line[MAX_STRING_LENGTH];</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">char</span> timestamp[<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a79e8b8b8b2d3ea5a494dd0cdae15e1fa">TIMESTAMP_MAX</a>];</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">char</span> usPart[9];</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    strftime(timestamp, <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a79e8b8b8b2d3ea5a494dd0cdae15e1fa">TIMESTAMP_MAX</a>-8, <span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;             (<span class="keyword">const</span> <span class="keyword">struct</span> tm *)&amp;Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a3efc591220c20f045233a2903c98dd31">tm</a> );</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    snprintf(usPart, 5, <span class="stringliteral">&quot;.%03d&quot;</span>, (<span class="keywordtype">int</span>)(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a71aaa2ebb8d8ba95d8255b50961b98d6">usec</a>));</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    strcat(timestamp, usPart);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">char</span> shortname;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a>);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        LoglevelMap::iterator it = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.find(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">level</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (it == <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.end())</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            shortname = <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            shortname = (*it).shortname;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">type</a> &amp; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8">kStandardIO</a>)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        snprintf(line.data(), <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a6789ebc0df71a8ef76bfbb4fb5f74aad">MAX_STRING_LENGTH</a>, <span class="stringliteral">&quot;%s&quot;</span>, Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">char</span> fileline[50];</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        snprintf(fileline, 50, <span class="stringliteral">&quot;%s (%s:%d)&quot;</span>, Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a8ea8e9c797184c1aa0cb74e40cf9cb3f">function</a>, Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed52f0a4653e4363109c2a8cf27979ec">file</a>, Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#ac37d8d104ff60072b50b7fb7f3a6ea75">line</a>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordtype">char</span>* threadName = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad4d8c15ca3f22bcfbe5b3c90426505bf">GetThreadName</a>(Item);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        pid_t tid = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">GetThreadTid</a>(Item);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        snprintf(line.data(), <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a6789ebc0df71a8ef76bfbb4fb5f74aad">MAX_STRING_LENGTH</a>, <span class="stringliteral">&quot;%s %c [%6d/%6d] %-11s %-50s - %s\n&quot;</span>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                 timestamp, shortname, getpid(), tid, threadName, fileline,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                 Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>.deref();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> line.trimmed();</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../de/db9/class_file_logger.html#a768e7b46465044d65142c48341a0bd9c">  416</a></span>&#160;<a class="code" href="../../de/db9/class_file_logger.html#a768e7b46465044d65142c48341a0bd9c">FileLogger::FileLogger</a>(QString Filename, <span class="keywordtype">bool</span> ErrorsOnly, <span class="keywordtype">int</span> Quiet)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  : <a class="code" href="../../da/de4/class_logger_base.html">LoggerBase</a>(Filename),</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    m_opened(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>),</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    m_file(),</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    m_errorsOnly(ErrorsOnly),</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    m_quiet(Quiet)</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>.isEmpty())</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Logging to the console&quot;</span>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">if</span> (QFile::exists(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>))</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            QString old = <a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a> + <span class="stringliteral">&quot;.old&quot;</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Moving &#39;%1&#39; to &#39;%2&#39;&quot;</span>)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                .arg(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>).arg(old));</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            QFile::remove(old);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            QFile::rename(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>, old);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#aff50f05d1fad1e75824b51f634d1b835">m_errorsOnly</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#a06deab63cbffd3e2794c991184b453be">m_quiet</a>    = <span class="keyword">false</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.setFileName(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.open(QIODevice::WriteOnly | QIODevice::Append | QIODevice::Truncate |</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                               QIODevice::Text | QIODevice::Unbuffered))</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Failed to open %1 for logging&quot;</span>).arg(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>));</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Logging to &#39;%1&#39;&quot;</span>).arg(<a class="code" href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">m_fileName</a>));</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../de/db9/class_file_logger.html#ab08af44f2de3fe1b51158132f9a399dd">  456</a></span>&#160;<a class="code" href="../../de/db9/class_file_logger.html#ab08af44f2de3fe1b51158132f9a399dd">FileLogger::~FileLogger</a>()</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a>)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item = <a class="code" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">LogItem::Create</a>(__FILE__, __FUNCTION__,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                        __LINE__, LOG_INFO, <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4">kMessage</a>, VB_GENERAL);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        strcpy(item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>, <a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.isOpen() ? <span class="stringliteral">&quot;Closing file logger.&quot;</span> : <span class="stringliteral">&quot;Closing console logger.&quot;</span>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#a3392abbe167739e8cf0fec60021f0fd0">FileLogger::Logmsg</a>(item);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a>(item);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="comment">//m_file.flush();</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.close();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="../../de/db9/class_file_logger.html#a3392abbe167739e8cf0fec60021f0fd0">  472</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/db9/class_file_logger.html#a3392abbe167739e8cf0fec60021f0fd0">FileLogger::Logmsg</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> || <a class="code" href="../../de/db9/class_file_logger.html#a06deab63cbffd3e2794c991184b453be">m_quiet</a> || (<a class="code" href="../../de/db9/class_file_logger.html#aff50f05d1fad1e75824b51f634d1b835">m_errorsOnly</a> &amp;&amp; (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">level</a> &gt; LOG_ERR)))</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>.ref();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    QByteArray line = <a class="code" href="../../da/de4/class_logger_base.html#a89721e2f51ddff94c1c568d2b95b82b5">GetLine</a>(Item);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a>(Item);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/db9/class_file_logger.html#a8a01ef8b9a76d4e28bfef41f7b69ede2">PrintLine</a>(line);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../de/db9/class_file_logger.html#a8a01ef8b9a76d4e28bfef41f7b69ede2">  483</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/db9/class_file_logger.html#a8a01ef8b9a76d4e28bfef41f7b69ede2">FileLogger::PrintLine</a>(QByteArray &amp;Line)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">int</span> error = <a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.isOpen() ? <a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.write(Line) : write(1, Line, Line.size() <span class="comment">/*strlen(line)*/</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (error == -1)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR,</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;             QString(<span class="stringliteral">&quot;Closed Log output due to errors&quot;</span>));</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#a9aaa0303de56db969b4ffaf20b7d722a">  506</a></span>&#160;<a class="code" href="../../d3/d3c/class_web_logger.html#a9aaa0303de56db969b4ffaf20b7d722a">WebLogger::WebLogger</a>(QString Filename)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  : QObject(),</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html">TorcHTTPService</a>(this, <span class="stringliteral">&quot;log&quot;</span>, <span class="stringliteral">&quot;log&quot;</span>, <a class="code" href="../../d3/d3c/class_web_logger.html">WebLogger</a>::staticMetaObject, <span class="stringliteral">&quot;event&quot;</span>),</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="../../de/db9/class_file_logger.html">FileLogger</a>(Filename, <a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>, <a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>),</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    log(),</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    tail(),</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    changed(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// we rate limit the LogChanged signal to once every 10 seconds</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    startTimer(10000);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#ae5ea096b3ea22e0f6350647c64e82538">  518</a></span>&#160;<a class="code" href="../../d3/d3c/class_web_logger.html#ae5ea096b3ea22e0f6350647c64e82538">WebLogger::~WebLogger</a>()</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#a406b6b2a3d6f6f80aabe8b62a365321c">  522</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d3c/class_web_logger.html#a406b6b2a3d6f6f80aabe8b62a365321c">WebLogger::event</a>(QEvent *<a class="code" href="../../d3/d3c/class_web_logger.html#a406b6b2a3d6f6f80aabe8b62a365321c">event</a>)</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (event &amp;&amp; event-&gt;type() == QEvent::Timer)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.lockForRead();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordtype">bool</span> haschanged = changed;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.unlock();</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span> (haschanged)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.lockForWrite();</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.unlock();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            emit <a class="code" href="../../d3/d3c/class_web_logger.html#a13559c1e365c59d8e7d1bf16412f4c8d">logChanged</a>();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> QObject::event(event);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#acd2086777348a7d1da88b3ea5ae7f7a8">  541</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d3c/class_web_logger.html#acd2086777348a7d1da88b3ea5ae7f7a8">WebLogger::SubscriberDeleted</a>(QObject *Subscriber)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;{</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#acd54087b95fabdfb71fb7e7e7ffa90c9">TorcHTTPService::HandleSubscriberDeleted</a>(Subscriber);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#abf5a9bcfa5bd33ea3d67d0a70af22118">  546</a></span>&#160;QByteArray <a class="code" href="../../d3/d3c/class_web_logger.html#abf5a9bcfa5bd33ea3d67d0a70af22118">WebLogger::GetLog</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;{</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    QFile <a class="code" href="../../d3/d3c/class_web_logger.html#ab30d9e03b723fd675598b500868089a0">log</a>(<a class="code" href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">m_file</a>.fileName());</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d3c/class_web_logger.html#ab30d9e03b723fd675598b500868089a0">log</a>.open(QIODevice::ReadOnly))</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    QByteArray result = <a class="code" href="../../d3/d3c/class_web_logger.html#ab30d9e03b723fd675598b500868089a0">log</a>.readAll();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="../../d3/d3c/class_web_logger.html#ab30d9e03b723fd675598b500868089a0">log</a>.close();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#a428b2dbb5cfa687e3ea5ab634f1f6cc7">  556</a></span>&#160;QByteArray <a class="code" href="../../d3/d3c/class_web_logger.html#a428b2dbb5cfa687e3ea5ab634f1f6cc7">WebLogger::GetTail</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    QReadLocker locker(&amp;<a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d3c/class_web_logger.html#ad5ec369458a30e59d985b682596e95e7">tail</a>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="../../d3/d3c/class_web_logger.html#a090e10e5c4001135894fa3556b6c92d7">  562</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d3c/class_web_logger.html#a090e10e5c4001135894fa3556b6c92d7">WebLogger::Logmsg</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">m_opened</a> || <a class="code" href="../../de/db9/class_file_logger.html#a06deab63cbffd3e2794c991184b453be">m_quiet</a> || (<a class="code" href="../../de/db9/class_file_logger.html#aff50f05d1fad1e75824b51f634d1b835">m_errorsOnly</a> &amp;&amp; (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">level</a> &gt; LOG_ERR)))</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">bool</span> filter = (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#ab4b2073beef780ad31cd1f2450e069a9">mask</a> &amp; VB_NETWORK) &amp;&amp; (Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">level</a> &gt;= LOG_DEBUG);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">refCount</a>.ref();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    QByteArray line = <a class="code" href="../../da/de4/class_logger_base.html#a89721e2f51ddff94c1c568d2b95b82b5">GetLine</a>(Item);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a>(Item);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (filter)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.lockForWrite();</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="../../d3/d3c/class_web_logger.html#ad5ec369458a30e59d985b682596e95e7">tail</a> = line;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">m_httpServiceLock</a>.unlock();</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    emit <a class="code" href="../../d3/d3c/class_web_logger.html#a359d8f8e2ca7420e0202fcb6cb4f476b">tailChanged</a>();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/db9/class_file_logger.html#a8a01ef8b9a76d4e28bfef41f7b69ede2">PrintLine</a>(line);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ad4d8c15ca3f22bcfbe5b3c90426505bf">  585</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad4d8c15ca3f22bcfbe5b3c90426505bf">GetThreadName</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *unknown = <span class="stringliteral">&quot;QRunnable&quot;</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (!Item)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">char</span>*)unknown;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordtype">char</span> *threadName;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (!Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.contains(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>))</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            threadName = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>];</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            threadName = (<span class="keywordtype">char</span>*)unknown;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        threadName = Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> threadName;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">  610</a></span>&#160;int64_t <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">GetThreadTid</a>(<a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *Item)</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (!Item)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    pid_t tid = 0;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>.contains(Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>))</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        tid = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>[Item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">threadId</a>];</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span>(tid);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#ac89e583f05c24a9bff3b6dca48aebc7b">  624</a></span>&#160;<a class="code" href="../../da/d38/class_logging_thread.html#ac89e583f05c24a9bff3b6dca48aebc7b">LoggingThread::LoggingThread</a>()</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  : <a class="code" href="../../d2/d41/class_torc_q_thread.html">TorcQThread</a>(<span class="stringliteral">&quot;Logger&quot;</span>),</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    m_waitNotEmpty(),</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    m_waitEmpty(),</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    m_aborted(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (!qgetenv(<span class="stringliteral">&quot;VERBOSE_THREADS&quot;</span>).isEmpty())</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_NOTICE,</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="stringliteral">&quot;Logging thread registration/deregistration enabled!&quot;</span>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">gDebugRegistration</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="../../da/d38/class_logging_thread.html#a2c46311ca624b2fdb1291046309cdbb7">  638</a></span>&#160;<a class="code" href="../../da/d38/class_logging_thread.html#a2c46311ca624b2fdb1291046309cdbb7">LoggingThread::~LoggingThread</a>()</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="../../da/d38/class_logging_thread.html#afd7129273960cc1bbf81155961226afb">Stop</a>();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    quit();</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    wait();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a0b83ad8b625d2f280c92302585f7cebf">  645</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a0b83ad8b625d2f280c92302585f7cebf">PrintLogLine</a>(uint64_t Mask, LogLevel Level, <span class="keyword">const</span> <span class="keywordtype">char</span> *File, <span class="keywordtype">int</span> Line,</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> *Function, <span class="keywordtype">int</span> FromQString,</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> *Format, ... )</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordtype">int</span> type = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4">kMessage</a>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    type |= (Mask &amp; VB_FLUSH) ? <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1">kFlush</a> : 0;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    type |= (Mask &amp; VB_STDIO) ? <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8">kStandardIO</a> : 0;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item = <a class="code" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">LogItem::Create</a>(File, Function, Line, Level, type, Mask);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> (!item)</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">char</span>* copy = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (FromQString &amp;&amp; strchr(Format, <span class="charliteral">&#39;%&#39;</span>))</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        QString string(Format);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        Format = strdup(<span class="keywordtype">string</span>.replace(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab1a4f5c2aca7aec09932f872ffeea576">gLogRexExp</a>, <span class="stringliteral">&quot;%%&quot;</span>).toLocal8Bit().constData());</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        copy = (<span class="keywordtype">char</span>*)Format;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    va_list arguments;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    va_start(arguments, Format);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    vsnprintf(item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">message</a>, <a class="code" href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a>, Format, arguments);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    va_end(arguments);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (copy)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        free(copy);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.enqueue(item);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (gLogThread &amp;&amp; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> &amp;&amp; !gLogThread-&gt;isRunning())</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">while</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.isEmpty())</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            item = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.dequeue();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            lock.unlock();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            gLogThread-&gt;<a class="code" href="../../da/d38/class_logging_thread.html#ac65ae04d0eaa0bc72647ca6bff7fad31">HandleItem</a>(item);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a>(item);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            lock.relock();</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gLogThread &amp;&amp; !<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> &amp;&amp; (type &amp; <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1">kFlush</a>))</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        gLogThread-&gt;<a class="code" href="../../da/d38/class_logging_thread.html#a9c4c4e71452a62402676547f26711c04">Flush</a>();</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ad3cf103b65c0bda3df2244564a1686f3">  693</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad3cf103b65c0bda3df2244564a1686f3">CalculateLogPropagation</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    QString mask = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a>.trimmed();</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    mask.replace(QRegExp(<span class="stringliteral">&quot; &quot;</span>), <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    mask.remove(QRegExp(<span class="stringliteral">&quot;^,&quot;</span>));</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a> = <span class="stringliteral">&quot; --verbose &quot;</span> + mask;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#a77e8219a43240ada486756f9815977c4">propagate</a>)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a> += <span class="stringliteral">&quot; --logpath &quot;</span> + gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#ae87b7e20741eaf8c23991b55c090588b">path</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    QString name = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ae7f4799b832101aaa4b2a6baef616723">GetLogLevelName</a>(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">gLogLevel</a>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a> += <span class="stringliteral">&quot; --loglevel &quot;</span> + name;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">quiet</a>; i++)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a> += <span class="stringliteral">&quot; --quiet&quot;</span>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a177a5c329f48cbc574b9da7920cad8ff">  710</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a177a5c329f48cbc574b9da7920cad8ff">GetQuietLogPropagation</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">return</span> gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">quiet</a>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#af9855554af12dbe3732b6a870e96ae08">  715</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af9855554af12dbe3732b6a870e96ae08">StartLogging</a>(QString Logfile, <span class="keywordtype">int</span> progress, <span class="keywordtype">int</span> quiet,</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                  QString Level, <span class="keywordtype">bool</span> Propagate)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#add169a9e4d3ed0cbd9bb8d0d0173a6bc">RegisterLoggingThread</a>();</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    LogLevel level = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ace0205b87ce8260ce73fcf49f7a47309">GetLogLevel</a>(Level);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span> (!gLogThread)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            gLogThread = <span class="keyword">new</span> <a class="code" href="../../da/d38/class_logging_thread.html#ac89e583f05c24a9bff3b6dca48aebc7b">LoggingThread</a>();</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">if</span> (!gLogThread)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (gLogThread-&gt;isRunning())</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">gLogLevel</a> = level;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_NOTICE, QString(<span class="stringliteral">&quot;Setting level to LOG_%1&quot;</span>)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;             .arg(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ae7f4799b832101aaa4b2a6baef616723">GetLogLevelName</a>(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">gLogLevel</a>).toUpper()));</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#a77e8219a43240ada486756f9815977c4">propagate</a> = Propagate;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">quiet</a> = quiet;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (Propagate)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        QFileInfo finfo(Logfile);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        QString path = finfo.path();</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        gLogPropagationOpts.<a class="code" href="../../d6/d4a/struct_log_propagate_opts.html#ae87b7e20741eaf8c23991b55c090588b">path</a> = path;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad3cf103b65c0bda3df2244564a1686f3">CalculateLogPropagation</a>();</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keyword">new</span> <a class="code" href="../../de/db9/class_file_logger.html">FileLogger</a>(QString(<span class="stringliteral">&quot;&quot;</span>), progress, quiet);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (!Logfile.isEmpty())</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keyword">new</span> <a class="code" href="../../d3/d3c/class_web_logger.html">WebLogger</a>(Logfile);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    gLogThread-&gt;start();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a2d3cc91e2c0e999fc6de1c2d2f753a53">  757</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a2d3cc91e2c0e999fc6de1c2d2f753a53">StopLogging</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;{</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (gLogThread)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        gLogThread-&gt;<a class="code" href="../../da/d38/class_logging_thread.html#afd7129273960cc1bbf81155961226afb">Stop</a>();</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        gLogThread-&gt;quit();</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        gLogThread-&gt;wait();</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9ca8989d9c2f0921fdddfe360fdb9c4d">gLogThread</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        gLogThread = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">gLoggerListLock</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">foreach</span> (<a class="code" href="../../da/de4/class_logger_base.html">LoggerBase</a>* logger, <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="keyword">delete</span> logger;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a>.clear();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// this cleans up the last thread name - the logging thread itself - which is deregistered</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// after the logging thread runloop has finished...</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a>);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        QHash&lt;uint64_t, char *&gt;::iterator it = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.begin();</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">for</span> ( ; it != <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.end(); ++it)</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            free(it.value());</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a>.clear();</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a>.clear();</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a> = <span class="keyword">false</span>; <span class="comment">// is this safe? required to restart logging</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="../../d3/d0a/torcloggingimp_8h.html#add169a9e4d3ed0cbd9bb8d0d0173a6bc">  797</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#add169a9e4d3ed0cbd9bb8d0d0173a6bc">RegisterLoggingThread</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a>)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item = <a class="code" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">LogItem::Create</a>(__FILE__, __FUNCTION__, __LINE__,</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                   (LogLevel)LOG_DEBUG, <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9">kRegistering</a>, VB_GENERAL);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> (item)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        item-&gt;<a class="code" href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">threadName</a> = strdup((<span class="keywordtype">char</span> *)QThread::currentThread()-&gt;objectName().toLocal8Bit().constData());</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.enqueue(item);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="../../d3/d0a/torcloggingimp_8h.html#a0c62cdcd401fb478f209083f490c152f">  813</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a0c62cdcd401fb478f209083f490c152f">DeregisterLoggingThread</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a>)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    QMutexLocker lock(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="../../df/dd2/class_log_item.html">LogItem</a> *item = <a class="code" href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">LogItem::Create</a>(__FILE__, __FUNCTION__, __LINE__,</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                   (LogLevel)LOG_DEBUG, <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee">kDeregistering</a>, VB_GENERAL);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (item)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a>.enqueue(item);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ace0205b87ce8260ce73fcf49f7a47309">  826</a></span>&#160;LogLevel <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ace0205b87ce8260ce73fcf49f7a47309">GetLogLevel</a>(QString level)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a>)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        locker.unlock();</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a>();</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        locker.relock();</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">for</span> (LoglevelMap::iterator it = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.begin();</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;         it != <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.end(); ++it)</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">if</span> ((*it).name == level.toLower() )</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <span class="keywordflow">return</span> (LogLevel)(*it).value;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">return</span> LOG_UNKNOWN;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ae7f4799b832101aaa4b2a6baef616723">  846</a></span>&#160;QString <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ae7f4799b832101aaa4b2a6baef616723">GetLogLevelName</a>(LogLevel level)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a>)</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        locker.unlock();</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a>();</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        locker.relock();</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    LoglevelMap::iterator it = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.find((<span class="keywordtype">int</span>)level);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">if</span> ( it == <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.end() )</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;unknown&quot;</span>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">return</span> (*it).name;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a9066e78121e9ec4177b6b313c3844e79">  863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9066e78121e9ec4177b6b313c3844e79">AddVerbose</a>(uint64_t mask, QString name, <span class="keywordtype">bool</span> additive, QString helptext)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="../../d0/d53/struct_verbose_def.html">VerboseDef</a> item;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">mask</a> = mask;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    name.detach();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// VB_GENERAL -&gt; general</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    name.remove(0, 3);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    name = name.toLower();</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    item.<a class="code" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">name</a> = name;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a195c11b821f9a4ab2e340e95dc733f8e">additive</a> = additive;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    helptext.detach();</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a9e376467d51f48149eba08b4971642c9">helpText</a> = helptext;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.insert(name, item);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#ac124975dcd47ddc5e7fadbd3a052f839">  880</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ac124975dcd47ddc5e7fadbd3a052f839">AddLogLevel</a>(<span class="keywordtype">int</span> value, QString name, <span class="keywordtype">char</span> shortname)</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;{</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="../../dc/df7/struct_loglevel_def.html">LoglevelDef</a> item;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    item.<a class="code" href="../../dc/df7/struct_loglevel_def.html#a0f3afa85115addbd79c8e67239392d8a">value</a> = value;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    name.detach();</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// LOG_CRIT -&gt; crit</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    name.remove(0, 4);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    name = name.toLower();</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    item.<a class="code" href="../../dc/df7/struct_loglevel_def.html#a1635334cb4d4e058c246906a62f655f1">name</a> = name;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    item.<a class="code" href="../../dc/df7/struct_loglevel_def.html#af16844ae0f2c816d7af7d65d3815bf33">shortname</a> = shortname;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.insert(value, item);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">  895</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;{</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a62f549d1b9c18469cd7e7b4e08250a7e">gVerboseMapLock</a>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    QMutexLocker locker2(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.clear();</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a>.clear();</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="preprocessor">#undef TORCLOGGINGDEFS_H_</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="preprocessor">#define _IMPLEMENT_VERBOSE</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d37/torcloggingdefs_8h.html">torcloggingdefs.h</a>&quot;</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a5658a2d3c03671da78b7b52019ff903e">  909</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5658a2d3c03671da78b7b52019ff903e">VerboseHelp</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    QString m_verbose = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a>.trimmed();</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    m_verbose.replace(QRegExp(<span class="stringliteral">&quot; &quot;</span>), <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    m_verbose.remove(QRegExp(<span class="stringliteral">&quot;^,&quot;</span>));</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    cerr &lt;&lt; <span class="stringliteral">&quot;Verbose debug levels.\n&quot;</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="stringliteral">&quot;Accepts any combination (separated by comma) of:\n\n&quot;</span>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">for</span> (VerboseMap::Iterator vit = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.begin();</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;         vit != <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.end(); ++vit )</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        QString name = QString(<span class="stringliteral">&quot;  %1&quot;</span>).arg(vit.value().name, -15, <span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> (vit.value().helpText.isEmpty())</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        cerr &lt;&lt; name.toLocal8Bit().constData() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                vit.value().helpText.toLocal8Bit().constData() &lt;&lt; endl;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    cerr &lt;&lt; endl &lt;&lt;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="stringliteral">&quot;The default for this program appears to be: &#39;-v &quot;</span> &lt;&lt;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      m_verbose.toLocal8Bit().constData() &lt;&lt; <span class="stringliteral">&quot;&#39;\n\n&quot;</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="stringliteral">&quot;Most options are additive except for &#39;none&#39; and &#39;all&#39;.\n&quot;</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="stringliteral">&quot;These two are semi-exclusive and take precedence over any\n&quot;</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="stringliteral">&quot;other options.  However, you may use something like\n&quot;</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="stringliteral">&quot;&#39;-v none,jobqueue&#39; to receive only JobQueue related messages\n&quot;</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="stringliteral">&quot;and override the default verbosity level.\n\n&quot;</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="stringliteral">&quot;Additive options may also be subtracted from &#39;all&#39; by\n&quot;</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="stringliteral">&quot;prefixing them with &#39;no&#39;, so you may use &#39;-v all,nodatabase&#39;\n&quot;</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="stringliteral">&quot;to view all but database debug messages.\n\n&quot;</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="stringliteral">&quot;Some debug levels may not apply to this program.\n\n&quot;</span>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#aa44e114108345c903379ceff0a8ff0fd">  942</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#aa44e114108345c903379ceff0a8ff0fd">ParseVerboseArgument</a>(QString arg)</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    QString option;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a>)</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a>();</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a62f549d1b9c18469cd7e7b4e08250a7e">gVerboseMapLock</a>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> = QString(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span> (arg.startsWith(<span class="charliteral">&#39;-&#39;</span>))</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        cerr &lt;&lt; <span class="stringliteral">&quot;Invalid or missing argument to -v/--verbose option\n&quot;</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/dbd/torcexitcodes_8h.html#ac5d8b1f5f73630fcb6a0c9db6227e475">TORC_EXIT_INVALID_CMDLINE</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    QStringList verboseOpts = arg.split(QRegExp(<span class="stringliteral">&quot;\\W+&quot;</span>));</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">for</span> (QStringList::Iterator it = verboseOpts.begin();</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;         it != verboseOpts.end(); ++it )</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    {</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        option = (*it).toLower();</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordtype">bool</span> reverseOption = <span class="keyword">false</span>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">if</span> (option != <span class="stringliteral">&quot;none&quot;</span> &amp;&amp; option.left(2) == <span class="stringliteral">&quot;no&quot;</span>)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            reverseOption = <span class="keyword">true</span>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            option = option.right(option.length() - 2);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (option == <span class="stringliteral">&quot;help&quot;</span>)</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5658a2d3c03671da78b7b52019ff903e">VerboseHelp</a>();</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d4/dbd/torcexitcodes_8h.html#ac5d8b1f5f73630fcb6a0c9db6227e475">TORC_EXIT_INVALID_CMDLINE</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (option == <span class="stringliteral">&quot;important&quot;</span>)</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            cerr &lt;&lt; <span class="stringliteral">&quot;The \&quot;important\&quot; log mask is no longer valid.\n&quot;</span>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (option == <span class="stringliteral">&quot;extra&quot;</span>)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            cerr &lt;&lt; <span class="stringliteral">&quot;The \&quot;extra\&quot; log mask is no longer valid.  Please try &quot;</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    <span class="stringliteral">&quot;--loglevel debug instead.\n&quot;</span>;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (option == <span class="stringliteral">&quot;default&quot;</span>)</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">gHaveUserDefaultValues</a>)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9e8b0994b68a34c2b63a5c7c37669fe8">gUserDefaultValueInt</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ace5b1411cf35dccaa3c9c9a59cbe15fb">gUserDefaultValueStr</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> = QString(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a>);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.contains(option))</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <a class="code" href="../../d0/d53/struct_verbose_def.html">VerboseDef</a> item = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a>.value(option);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                <span class="keywordflow">if</span> (reverseOption)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a> &amp;= ~(item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">mask</a>);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a>.remove(<span class="charliteral">&#39; &#39;</span> + item.<a class="code" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">name</a>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                    <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> += <span class="stringliteral">&quot; no&quot;</span> + item.<a class="code" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">name</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                }</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    <span class="keywordflow">if</span> (item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a195c11b821f9a4ab2e340e95dc733f8e">additive</a>)</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                        <span class="keywordflow">if</span> (!(<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a> &amp; item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">mask</a>))</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                        {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                            <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a> |= item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">mask</a>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                            <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> += <span class="charliteral">&#39; &#39;</span> + item.<a class="code" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">name</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                        }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                    {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a> = item.<a class="code" href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">mask</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a> = item.<a class="code" href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">name</a>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                }</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                cerr &lt;&lt; <span class="stringliteral">&quot;Unknown argument for -v/--verbose: &quot;</span> &lt;&lt;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                        option.toLocal8Bit().constData() &lt;&lt; endl;;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d4/dbd/torcexitcodes_8h.html#ac5d8b1f5f73630fcb6a0c9db6227e475">TORC_EXIT_INVALID_CMDLINE</a>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">gHaveUserDefaultValues</a>)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">gHaveUserDefaultValues</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a9e8b0994b68a34c2b63a5c7c37669fe8">gUserDefaultValueInt</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a>;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#ace5b1411cf35dccaa3c9c9a59cbe15fb">gUserDefaultValueStr</a>   = <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/dbd/torcexitcodes_8h.html#af9a758896cddf706af0e8348e5c71429">TORC_EXIT_OK</a>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d7/d24/torcloggingimp_8cpp.html#a78f45dcc6606633b7a984d62bdd5f810"> 1047</a></span>&#160;QString <a class="code" href="../../d7/d24/torcloggingimp_8cpp.html#a78f45dcc6606633b7a984d62bdd5f810">LogErrorToString</a>(<span class="keywordtype">int</span> errnum)</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;{</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;%1 (%2)&quot;</span>).arg(strerror(errnum)).arg(errnum);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">// vim:ts=4:sw=4:ai:et:si:sts=4</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="ttc" id="struct_log_propagate_opts_html_ae87b7e20741eaf8c23991b55c090588b"><div class="ttname"><a href="../../d6/d4a/struct_log_propagate_opts.html#ae87b7e20741eaf8c23991b55c090588b">LogPropagateOpts::path</a></div><div class="ttdeci">QString path</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00313">torcloggingimp.cpp:313</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a03246d2817534cde85adebd0a706207a"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a03246d2817534cde85adebd0a706207a">gLoggerListLock</a></div><div class="ttdeci">QMutex gLoggerListLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00047">torcloggingimp.cpp:47</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3">LoggingType</a></div><div class="ttdeci">LoggingType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00060">torcloggingimp.cpp:60</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_af6f71b753001ed42be9b002dcbeda82c"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#af6f71b753001ed42be9b002dcbeda82c">gLoglevelMapLock</a></div><div class="ttdeci">QMutex gLoglevelMapLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00344">torcloggingimp.cpp:344</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9ca8989d9c2f0921fdddfe360fdb9c4d"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9ca8989d9c2f0921fdddfe360fdb9c4d">gLogThread</a></div><div class="ttdeci">LoggingThread * gLogThread</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00056">torcloggingimp.cpp:56</a></div></div>
<div class="ttc" id="class_log_item_html_a71aaa2ebb8d8ba95d8255b50961b98d6"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a71aaa2ebb8d8ba95d8255b50961b98d6">LogItem::usec</a></div><div class="ttdeci">uint32_t usec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00156">torcloggingimp.cpp:156</a></div></div>
<div class="ttc" id="struct_verbose_def_html_ab7572d0bc712771d5248dfa62d72ba78"><div class="ttname"><a href="../../d0/d53/struct_verbose_def.html#ab7572d0bc712771d5248dfa62d72ba78">VerboseDef::name</a></div><div class="ttdeci">QString name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00326">torcloggingimp.cpp:326</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ac0b91d2dd939334158c45414e9086ce1">kFlush</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00064">torcloggingimp.cpp:64</a></div></div>
<div class="ttc" id="class_logging_thread_html_a9c4c4e71452a62402676547f26711c04"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#a9c4c4e71452a62402676547f26711c04">LoggingThread::Flush</a></div><div class="ttdeci">bool Flush(int TimeoutMS=200000)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00229">torcloggingimp.cpp:229</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a5658a2d3c03671da78b7b52019ff903e"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a5658a2d3c03671da78b7b52019ff903e">VerboseHelp</a></div><div class="ttdeci">void VerboseHelp(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00909">torcloggingimp.cpp:909</a></div></div>
<div class="ttc" id="class_log_item_html_a40e87769e973c7c143311e946760289d"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a40e87769e973c7c143311e946760289d">LogItem::refCount</a></div><div class="ttdeci">QAtomicInt refCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00154">torcloggingimp.cpp:154</a></div></div>
<div class="ttc" id="torcloggingdefs_8h_html"><div class="ttname"><a href="../../d1/d37/torcloggingdefs_8h.html">torcloggingdefs.h</a></div></div>
<div class="ttc" id="class_web_logger_html_a9aaa0303de56db969b4ffaf20b7d722a"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a9aaa0303de56db969b4ffaf20b7d722a">WebLogger::WebLogger</a></div><div class="ttdeci">WebLogger(QString Filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00506">torcloggingimp.cpp:506</a></div></div>
<div class="ttc" id="class_file_logger_html_a198bfdf485cf73d933d0b233384d936b"><div class="ttname"><a href="../../de/db9/class_file_logger.html#a198bfdf485cf73d933d0b233384d936b">FileLogger::m_opened</a></div><div class="ttdeci">bool m_opened</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00045">torcloggingimp.h:45</a></div></div>
<div class="ttc" id="class_logging_thread_html_afd7129273960cc1bbf81155961226afb"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#afd7129273960cc1bbf81155961226afb">LoggingThread::Stop</a></div><div class="ttdeci">void Stop(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00216">torcloggingimp.cpp:216</a></div></div>
<div class="ttc" id="class_logging_thread_html"><div class="ttname"><a href="../../da/d38/class_logging_thread.html">LoggingThread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00168">torcloggingimp.cpp:168</a></div></div>
<div class="ttc" id="torcexitcodes_8h_html_ac5d8b1f5f73630fcb6a0c9db6227e475"><div class="ttname"><a href="../../d4/dbd/torcexitcodes_8h.html#ac5d8b1f5f73630fcb6a0c9db6227e475">TORC_EXIT_INVALID_CMDLINE</a></div><div class="ttdeci">#define TORC_EXIT_INVALID_CMDLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dbd/torcexitcodes_8h_source.html#l00007">torcexitcodes.h:7</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3ab4649f7671e73f801e9b3a2f889e22a4">kMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00061">torcloggingimp.cpp:61</a></div></div>
<div class="ttc" id="class_logging_thread_html_a68bfb9d1831da0554e77ef7f1fbd734f"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#a68bfb9d1831da0554e77ef7f1fbd734f">LoggingThread::Finish</a></div><div class="ttdeci">void Finish(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00212">torcloggingimp.cpp:212</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_af0cebcafb3dd2b6bcb19353970f7f73c"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#af0cebcafb3dd2b6bcb19353970f7f73c">gVerboseString</a></div><div class="ttdeci">QString gVerboseString</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00350">torcloggingimp.cpp:350</a></div></div>
<div class="ttc" id="class_web_logger_html_ab30d9e03b723fd675598b500868089a0"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#ab30d9e03b723fd675598b500868089a0">WebLogger::log</a></div><div class="ttdeci">QByteArray log</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00057">torcloggingimp.h:57</a></div></div>
<div class="ttc" id="class_logger_base_html"><div class="ttname"><a href="../../da/de4/class_logger_base.html">LoggerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00017">torcloggingimp.h:17</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_aadd86c06b0155a1b6d744d678c3cdd55"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#aadd86c06b0155a1b6d744d678c3cdd55">gLogThreadTidLock</a></div><div class="ttdeci">QMutex gLogThreadTidLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00054">torcloggingimp.cpp:54</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_af9855554af12dbe3732b6a870e96ae08"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#af9855554af12dbe3732b6a870e96ae08">StartLogging</a></div><div class="ttdeci">void StartLogging(QString Logfile, int progress, int quiet, QString Level, bool Propagate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00715">torcloggingimp.cpp:715</a></div></div>
<div class="ttc" id="class_logging_thread_html_ac89e583f05c24a9bff3b6dca48aebc7b"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#ac89e583f05c24a9bff3b6dca48aebc7b">LoggingThread::LoggingThread</a></div><div class="ttdeci">LoggingThread()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00624">torcloggingimp.cpp:624</a></div></div>
<div class="ttc" id="struct_loglevel_def_html_a1635334cb4d4e058c246906a62f655f1"><div class="ttname"><a href="../../dc/df7/struct_loglevel_def.html#a1635334cb4d4e058c246906a62f655f1">LoglevelDef::name</a></div><div class="ttdeci">QString name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00335">torcloggingimp.cpp:335</a></div></div>
<div class="ttc" id="class_log_item_html_a354c7ad802109649b558d87732bd7880"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a354c7ad802109649b558d87732bd7880">LogItem::level</a></div><div class="ttdeci">LogLevel level</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00159">torcloggingimp.cpp:159</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_af7907d0a3eaed3942bc99696b1e12ecf"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#af7907d0a3eaed3942bc99696b1e12ecf">InitVerbose</a></div><div class="ttdeci">void InitVerbose(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00895">torcloggingimp.cpp:895</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a919808f79991d97bee48aacbb4a543a8">kStandardIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00065">torcloggingimp.cpp:65</a></div></div>
<div class="ttc" id="class_web_logger_html_acd2086777348a7d1da88b3ea5ae7f7a8"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#acd2086777348a7d1da88b3ea5ae7f7a8">WebLogger::SubscriberDeleted</a></div><div class="ttdeci">void SubscriberDeleted(QObject *Subscriber)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00541">torcloggingimp.cpp:541</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_service_html"><div class="ttname"><a href="../../d6/d70/class_torc_h_t_t_p_service.html">TorcHTTPService</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/torchttpservice_8h_source.html#l00018">torchttpservice.h:18</a></div></div>
<div class="ttc" id="class_log_item_html"><div class="ttname"><a href="../../df/dd2/class_log_item.html">LogItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00071">torcloggingimp.cpp:71</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ac124975dcd47ddc5e7fadbd3a052f839"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ac124975dcd47ddc5e7fadbd3a052f839">AddLogLevel</a></div><div class="ttdeci">void AddLogLevel(int value, QString name, char shortname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00880">torcloggingimp.cpp:880</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ad30cb876608de0b3767d91689602e436"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ad30cb876608de0b3767d91689602e436">gLogThreadLock</a></div><div class="ttdeci">QMutex gLogThreadLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00052">torcloggingimp.cpp:52</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9b4160977fc96bcedb8419bfd3d1ea32"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9b4160977fc96bcedb8419bfd3d1ea32">gLogThreadtidHash</a></div><div class="ttdeci">QHash&lt; uint64_t, int64_t &gt; gLogThreadtidHash</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00055">torcloggingimp.cpp:55</a></div></div>
<div class="ttc" id="class_logger_base_html_aee38d9962b96bc3edf17d029ffa78cd9"><div class="ttname"><a href="../../da/de4/class_logger_base.html#aee38d9962b96bc3edf17d029ffa78cd9">LoggerBase::m_fileName</a></div><div class="ttdeci">QString m_fileName</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00030">torcloggingimp.h:30</a></div></div>
<div class="ttc" id="torclogging_8h_html"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html">torclogging.h</a></div></div>
<div class="ttc" id="class_log_item_html_a00fe4633fc8606daf11168359da81906"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a00fe4633fc8606daf11168359da81906">LogItem::Delete</a></div><div class="ttdeci">static void Delete(LogItem *Item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00080">torcloggingimp.cpp:80</a></div></div>
<div class="ttc" id="struct_loglevel_def_html_a0f3afa85115addbd79c8e67239392d8a"><div class="ttname"><a href="../../dc/df7/struct_loglevel_def.html#a0f3afa85115addbd79c8e67239392d8a">LoglevelDef::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00334">torcloggingimp.cpp:334</a></div></div>
<div class="ttc" id="class_web_logger_html_a090e10e5c4001135894fa3556b6c92d7"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a090e10e5c4001135894fa3556b6c92d7">WebLogger::Logmsg</a></div><div class="ttdeci">bool Logmsg(LogItem *Item) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00562">torcloggingimp.cpp:562</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a636fd8e40b19de6b85a2d7af4fff66fe"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a636fd8e40b19de6b85a2d7af4fff66fe">gLogQueue</a></div><div class="ttdeci">QQueue&lt; LogItem * &gt; gLogQueue</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00050">torcloggingimp.cpp:50</a></div></div>
<div class="ttc" id="class_file_logger_html_a8a01ef8b9a76d4e28bfef41f7b69ede2"><div class="ttname"><a href="../../de/db9/class_file_logger.html#a8a01ef8b9a76d4e28bfef41f7b69ede2">FileLogger::PrintLine</a></div><div class="ttdeci">bool PrintLine(QByteArray &amp;Line) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00483">torcloggingimp.cpp:483</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_aa13791336e41c1d35e3d2488f8b22940"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#aa13791336e41c1d35e3d2488f8b22940">gLoggerList</a></div><div class="ttdeci">QList&lt; LoggerBase * &gt; gLoggerList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00048">torcloggingimp.cpp:48</a></div></div>
<div class="ttc" id="class_web_logger_html_a359d8f8e2ca7420e0202fcb6cb4f476b"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a359d8f8e2ca7420e0202fcb6cb4f476b">WebLogger::tailChanged</a></div><div class="ttdeci">void tailChanged(void)</div></div>
<div class="ttc" id="class_log_item_html_ab4b2073beef780ad31cd1f2450e069a9"><div class="ttname"><a href="../../df/dd2/class_log_item.html#ab4b2073beef780ad31cd1f2450e069a9">LogItem::mask</a></div><div class="ttdeci">quint64 mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00165">torcloggingimp.cpp:165</a></div></div>
<div class="ttc" id="class_file_logger_html_ab08af44f2de3fe1b51158132f9a399dd"><div class="ttname"><a href="../../de/db9/class_file_logger.html#ab08af44f2de3fe1b51158132f9a399dd">FileLogger::~FileLogger</a></div><div class="ttdeci">~FileLogger()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00456">torcloggingimp.cpp:456</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a0b83ad8b625d2f280c92302585f7cebf"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a0b83ad8b625d2f280c92302585f7cebf">PrintLogLine</a></div><div class="ttdeci">void PrintLogLine(uint64_t Mask, LogLevel Level, const char *File, int Line, const char *Function, int FromQString, const char *Format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00645">torcloggingimp.cpp:645</a></div></div>
<div class="ttc" id="class_web_logger_html_abf5a9bcfa5bd33ea3d67d0a70af22118"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#abf5a9bcfa5bd33ea3d67d0a70af22118">WebLogger::GetLog</a></div><div class="ttdeci">QByteArray GetLog(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00546">torcloggingimp.cpp:546</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_aa44e114108345c903379ceff0a8ff0fd"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#aa44e114108345c903379ceff0a8ff0fd">ParseVerboseArgument</a></div><div class="ttdeci">int ParseVerboseArgument(QString arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00942">torcloggingimp.cpp:942</a></div></div>
<div class="ttc" id="class_logging_thread_html_a072cd7284123fa0cdfe5e47602015a10"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#a072cd7284123fa0cdfe5e47602015a10">LoggingThread::run</a></div><div class="ttdeci">void run(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00175">torcloggingimp.cpp:175</a></div></div>
<div class="ttc" id="class_web_logger_html_ae5ea096b3ea22e0f6350647c64e82538"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#ae5ea096b3ea22e0f6350647c64e82538">WebLogger::~WebLogger</a></div><div class="ttdeci">~WebLogger()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00518">torcloggingimp.cpp:518</a></div></div>
<div class="ttc" id="torcloggingimp_8h_html_ad7e1de35f4dcab3167e90689860289d5"><div class="ttname"><a href="../../d3/d0a/torcloggingimp_8h.html#ad7e1de35f4dcab3167e90689860289d5">LOGLINE_MAX</a></div><div class="ttdeci">#define LOGLINE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00004">torcloggingimp.h:4</a></div></div>
<div class="ttc" id="class_logger_base_html_af9c8a698bb83ee4be79dfc2015e9d0a7"><div class="ttname"><a href="../../da/de4/class_logger_base.html#af9c8a698bb83ee4be79dfc2015e9d0a7">LoggerBase::LoggerBase</a></div><div class="ttdeci">LoggerBase(QString FileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00360">torcloggingimp.cpp:360</a></div></div>
<div class="ttc" id="struct_verbose_def_html_a0e5b0e59c847bf5959a4b610505a6433"><div class="ttname"><a href="../../d0/d53/struct_verbose_def.html#a0e5b0e59c847bf5959a4b610505a6433">VerboseDef::mask</a></div><div class="ttdeci">uint64_t mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00325">torcloggingimp.cpp:325</a></div></div>
<div class="ttc" id="class_logging_thread_html_a2c46311ca624b2fdb1291046309cdbb7"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#a2c46311ca624b2fdb1291046309cdbb7">LoggingThread::~LoggingThread</a></div><div class="ttdeci">~LoggingThread()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00638">torcloggingimp.cpp:638</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a089a3f489f2e1c94e04cf035ffc00a80"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a089a3f489f2e1c94e04cf035ffc00a80">GetThreadTid</a></div><div class="ttdeci">int64_t GetThreadTid(LogItem *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00610">torcloggingimp.cpp:610</a></div></div>
<div class="ttc" id="struct_verbose_def_html_a195c11b821f9a4ab2e340e95dc733f8e"><div class="ttname"><a href="../../d0/d53/struct_verbose_def.html#a195c11b821f9a4ab2e340e95dc733f8e">VerboseDef::additive</a></div><div class="ttdeci">bool additive</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00327">torcloggingimp.cpp:327</a></div></div>
<div class="ttc" id="class_file_logger_html_af0ce1554a50b93ec4a341ddfdfc6a9ea"><div class="ttname"><a href="../../de/db9/class_file_logger.html#af0ce1554a50b93ec4a341ddfdfc6a9ea">FileLogger::m_file</a></div><div class="ttdeci">QFile m_file</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00046">torcloggingimp.h:46</a></div></div>
<div class="ttc" id="struct_verbose_def_html"><div class="ttname"><a href="../../d0/d53/struct_verbose_def.html">VerboseDef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00324">torcloggingimp.cpp:324</a></div></div>
<div class="ttc" id="class_logger_base_html_a89721e2f51ddff94c1c568d2b95b82b5"><div class="ttname"><a href="../../da/de4/class_logger_base.html#a89721e2f51ddff94c1c568d2b95b82b5">LoggerBase::GetLine</a></div><div class="ttdeci">QByteArray GetLine(LogItem *Item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00370">torcloggingimp.cpp:370</a></div></div>
<div class="ttc" id="class_log_item_html_aed52f0a4653e4363109c2a8cf27979ec"><div class="ttname"><a href="../../df/dd2/class_log_item.html#aed52f0a4653e4363109c2a8cf27979ec">LogItem::file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00161">torcloggingimp.cpp:161</a></div></div>
<div class="ttc" id="class_logger_base_html_a1c6d7880ada1aae670c7b8c41389ee91"><div class="ttname"><a href="../../da/de4/class_logger_base.html#a1c6d7880ada1aae670c7b8c41389ee91">LoggerBase::~LoggerBase</a></div><div class="ttdeci">virtual ~LoggerBase()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00366">torcloggingimp.cpp:366</a></div></div>
<div class="ttc" id="class_web_logger_html"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html">WebLogger</a></div><div class="ttdoc">Serves log content to registered subscribers and HTTP clients. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00051">torcloggingimp.h:51</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_aca03d08e789474030219b34e9f97e831"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#aca03d08e789474030219b34e9f97e831">gLogLevel</a></div><div class="ttdeci">LogLevel gLogLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00322">torcloggingimp.cpp:322</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ab6cabad8bd87cec95db0258be26214f5"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ab6cabad8bd87cec95db0258be26214f5">gLogPropagationArgs</a></div><div class="ttdeci">QString gLogPropagationArgs</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00317">torcloggingimp.cpp:317</a></div></div>
<div class="ttc" id="class_web_logger_html_a406b6b2a3d6f6f80aabe8b62a365321c"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a406b6b2a3d6f6f80aabe8b62a365321c">WebLogger::event</a></div><div class="ttdeci">bool event(QEvent *event) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00522">torcloggingimp.cpp:522</a></div></div>
<div class="ttc" id="class_file_logger_html_a768e7b46465044d65142c48341a0bd9c"><div class="ttname"><a href="../../de/db9/class_file_logger.html#a768e7b46465044d65142c48341a0bd9c">FileLogger::FileLogger</a></div><div class="ttdeci">FileLogger(QString Filename, bool ErrorsOnly, int Quiet)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00416">torcloggingimp.cpp:416</a></div></div>
<div class="ttc" id="class_file_logger_html_a06deab63cbffd3e2794c991184b453be"><div class="ttname"><a href="../../de/db9/class_file_logger.html#a06deab63cbffd3e2794c991184b453be">FileLogger::m_quiet</a></div><div class="ttdeci">int m_quiet</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00048">torcloggingimp.h:48</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ad3cf103b65c0bda3df2244564a1686f3"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ad3cf103b65c0bda3df2244564a1686f3">CalculateLogPropagation</a></div><div class="ttdeci">void CalculateLogPropagation(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00693">torcloggingimp.cpp:693</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a5c7909e52832ca565316a47028d9c463"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a5c7909e52832ca565316a47028d9c463">gVerboseMask</a></div><div class="ttdeci">uint64_t gVerboseMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00349">torcloggingimp.cpp:349</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ae7f4799b832101aaa4b2a6baef616723"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ae7f4799b832101aaa4b2a6baef616723">GetLogLevelName</a></div><div class="ttdeci">QString GetLogLevelName(LogLevel level)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00846">torcloggingimp.cpp:846</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ad4d8c15ca3f22bcfbe5b3c90426505bf"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ad4d8c15ca3f22bcfbe5b3c90426505bf">GetThreadName</a></div><div class="ttdeci">char * GetThreadName(LogItem *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00585">torcloggingimp.cpp:585</a></div></div>
<div class="ttc" id="class_file_logger_html_a3392abbe167739e8cf0fec60021f0fd0"><div class="ttname"><a href="../../de/db9/class_file_logger.html#a3392abbe167739e8cf0fec60021f0fd0">FileLogger::Logmsg</a></div><div class="ttdeci">bool Logmsg(LogItem *Item) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00472">torcloggingimp.cpp:472</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a36d22e109b05e3cd17b0f79717dd1e13"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a36d22e109b05e3cd17b0f79717dd1e13">LoglevelMap</a></div><div class="ttdeci">QMap&lt; int, LoglevelDef &gt; LoglevelMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00339">torcloggingimp.cpp:339</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a71dd883a26ad2d4cc4a6112c4e661956"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a71dd883a26ad2d4cc4a6112c4e661956">gVerboseDefaultInt</a></div><div class="ttdeci">const uint64_t gVerboseDefaultInt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00347">torcloggingimp.cpp:347</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a29f57bf32c3020feeb1ab3cf8d38552e"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a29f57bf32c3020feeb1ab3cf8d38552e">gVerboseMap</a></div><div class="ttdeci">VerboseMap gVerboseMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00341">torcloggingimp.cpp:341</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a62f549d1b9c18469cd7e7b4e08250a7e"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a62f549d1b9c18469cd7e7b4e08250a7e">gVerboseMapLock</a></div><div class="ttdeci">QMutex gVerboseMapLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00342">torcloggingimp.cpp:342</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a177a5c329f48cbc574b9da7920cad8ff"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a177a5c329f48cbc574b9da7920cad8ff">GetQuietLogPropagation</a></div><div class="ttdeci">bool GetQuietLogPropagation(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00710">torcloggingimp.cpp:710</a></div></div>
<div class="ttc" id="class_web_logger_html_a428b2dbb5cfa687e3ea5ab634f1f6cc7"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a428b2dbb5cfa687e3ea5ab634f1f6cc7">WebLogger::GetTail</a></div><div class="ttdeci">QByteArray GetTail(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00556">torcloggingimp.cpp:556</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9c1186048c2f2f2196684b0e9d200a59"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9c1186048c2f2f2196684b0e9d200a59">gLogThreadHash</a></div><div class="ttdeci">QHash&lt; uint64_t, char * &gt; gLogThreadHash</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00053">torcloggingimp.cpp:53</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_service_html_acd54087b95fabdfb71fb7e7e7ffa90c9"><div class="ttname"><a href="../../d6/d70/class_torc_h_t_t_p_service.html#acd54087b95fabdfb71fb7e7e7ffa90c9">TorcHTTPService::HandleSubscriberDeleted</a></div><div class="ttdeci">void HandleSubscriberDeleted(QObject *Subscriber)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/torchttpservice_8cpp_source.html#l00841">torchttpservice.cpp:841</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a6789ebc0df71a8ef76bfbb4fb5f74aad"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a6789ebc0df71a8ef76bfbb4fb5f74aad">MAX_STRING_LENGTH</a></div><div class="ttdeci">#define MAX_STRING_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00320">torcloggingimp.cpp:320</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_service_html_a4233cb9e13856c4cf4e3ee272fef8303"><div class="ttname"><a href="../../d6/d70/class_torc_h_t_t_p_service.html#a4233cb9e13856c4cf4e3ee272fef8303">TorcHTTPService::m_httpServiceLock</a></div><div class="ttdeci">QReadWriteLock m_httpServiceLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/torchttpservice_8h_source.html#l00040">torchttpservice.h:40</a></div></div>
<div class="ttc" id="torcloggingdefs_8h_html_a93519f65dd0ef21fc5be0c286a833ae4"><div class="ttname"><a href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a></div><div class="ttdeci">VERBOSE_PREAMBLE General info Playback related messages File and AutoExpire related messages Network protocol related messages Audio related messages JobQueue related messages EIT related messages DSMCC carousel related messages UPnP debugging messages xmltv output and related messages Media Manager debugging messages External executable related messages false</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/torcloggingdefs_8h_source.html#l00110">torcloggingdefs.h:110</a></div></div>
<div class="ttc" id="struct_loglevel_def_html"><div class="ttname"><a href="../../dc/df7/struct_loglevel_def.html">LoglevelDef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00333">torcloggingimp.cpp:333</a></div></div>
<div class="ttc" id="class_file_logger_html_aff50f05d1fad1e75824b51f634d1b835"><div class="ttname"><a href="../../de/db9/class_file_logger.html#aff50f05d1fad1e75824b51f634d1b835">FileLogger::m_errorsOnly</a></div><div class="ttdeci">bool m_errorsOnly</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00047">torcloggingimp.h:47</a></div></div>
<div class="ttc" id="class_log_item_html_af55b2ff94a7fbf8d818dcda9e768fa05"><div class="ttname"><a href="../../df/dd2/class_log_item.html#af55b2ff94a7fbf8d818dcda9e768fa05">LogItem::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00158">torcloggingimp.cpp:158</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a5bcd3d3deab71b20e9234fccb0e55dda"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a5bcd3d3deab71b20e9234fccb0e55dda">gLogPropagationOpts</a></div><div class="ttdeci">LogPropagateOpts gLogPropagationOpts</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00316">torcloggingimp.cpp:316</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3adc29e457fc9ccbb4ea8b04bdd35d3fee">kDeregistering</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00063">torcloggingimp.cpp:63</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ad79d869ceaf786a018916ec87f9c50a3"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ad79d869ceaf786a018916ec87f9c50a3">gVerboseDefaultStr</a></div><div class="ttdeci">const char * gVerboseDefaultStr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00348">torcloggingimp.cpp:348</a></div></div>
<div class="ttc" id="class_log_item_html_a19127642d7da11b81c5c5bb8d6253f58"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a19127642d7da11b81c5c5bb8d6253f58">LogItem::SetTime</a></div><div class="ttdeci">void SetTime(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00113">torcloggingimp.cpp:113</a></div></div>
<div class="ttc" id="torcloggingimp_8h_html"><div class="ttname"><a href="../../d3/d0a/torcloggingimp_8h.html">torcloggingimp.h</a></div></div>
<div class="ttc" id="struct_loglevel_def_html_af16844ae0f2c816d7af7d65d3815bf33"><div class="ttname"><a href="../../dc/df7/struct_loglevel_def.html#af16844ae0f2c816d7af7d65d3815bf33">LoglevelDef::shortname</a></div><div class="ttdeci">char shortname</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00336">torcloggingimp.cpp:336</a></div></div>
<div class="ttc" id="torccompat_8h_html"><div class="ttname"><a href="../../d3/d76/torccompat_8h.html">torccompat.h</a></div></div>
<div class="ttc" id="class_web_logger_html_a13559c1e365c59d8e7d1bf16412f4c8d"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#a13559c1e365c59d8e7d1bf16412f4c8d">WebLogger::logChanged</a></div><div class="ttdeci">void logChanged(void)</div></div>
<div class="ttc" id="torcexitcodes_8h_html_af9a758896cddf706af0e8348e5c71429"><div class="ttname"><a href="../../d4/dbd/torcexitcodes_8h.html#af9a758896cddf706af0e8348e5c71429">TORC_EXIT_OK</a></div><div class="ttdeci">#define TORC_EXIT_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dbd/torcexitcodes_8h_source.html#l00004">torcexitcodes.h:4</a></div></div>
<div class="ttc" id="class_log_item_html_aed63ad75c3727e857487184ba8f4c661"><div class="ttname"><a href="../../df/dd2/class_log_item.html#aed63ad75c3727e857487184ba8f4c661">LogItem::threadName</a></div><div class="ttdeci">char * threadName</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00163">torcloggingimp.cpp:163</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_add169a9e4d3ed0cbd9bb8d0d0173a6bc"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#add169a9e4d3ed0cbd9bb8d0d0173a6bc">RegisterLoggingThread</a></div><div class="ttdeci">void RegisterLoggingThread(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00797">torcloggingimp.cpp:797</a></div></div>
<div class="ttc" id="torccompat_8h_html_afa90fb16ee4ae4b9a50041f2e81cbee1"><div class="ttname"><a href="../../d3/d76/torccompat_8h.html#afa90fb16ee4ae4b9a50041f2e81cbee1">PREFIX64</a></div><div class="ttdeci">#define PREFIX64</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/torccompat_8h_source.html#l00399">torccompat.h:399</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9e8b0994b68a34c2b63a5c7c37669fe8"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9e8b0994b68a34c2b63a5c7c37669fe8">gUserDefaultValueInt</a></div><div class="ttdeci">uint64_t gUserDefaultValueInt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00351">torcloggingimp.cpp:351</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a91d409898e51bded499875cd40c3c4d3a2a6b9a634e9965f3a9791b2ba5d5d6a9">kRegistering</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00062">torcloggingimp.cpp:62</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ac5bf947fe1c99f2c9f01c3e5ec9aada9"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ac5bf947fe1c99f2c9f01c3e5ec9aada9">VerboseMap</a></div><div class="ttdeci">QMap&lt; QString, VerboseDef &gt; VerboseMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00331">torcloggingimp.cpp:331</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ab1a4f5c2aca7aec09932f872ffeea576"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ab1a4f5c2aca7aec09932f872ffeea576">gLogRexExp</a></div><div class="ttdeci">QRegExp gLogRexExp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00051">torcloggingimp.cpp:51</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ab526173858208568bb26a6fcf2863cee"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ab526173858208568bb26a6fcf2863cee">gLoglevelMap</a></div><div class="ttdeci">LoglevelMap gLoglevelMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00343">torcloggingimp.cpp:343</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a233c4084e4e2236e04717b67c2c83530"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a233c4084e4e2236e04717b67c2c83530">gLogQueueLock</a></div><div class="ttdeci">QMutex gLogQueueLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00049">torcloggingimp.cpp:49</a></div></div>
<div class="ttc" id="class_log_item_html_a61c17dbf04a789d015e92e64a8ab06d2"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a61c17dbf04a789d015e92e64a8ab06d2">LogItem::LogItem</a></div><div class="ttdeci">LogItem(const char *File, const char *Function, int Line, LogLevel Level, int Type, quint64 Mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00091">torcloggingimp.cpp:91</a></div></div>
<div class="ttc" id="class_log_item_html_af9e7ec17e6dee3790af36fa70a8718dc"><div class="ttname"><a href="../../df/dd2/class_log_item.html#af9e7ec17e6dee3790af36fa70a8718dc">LogItem::Create</a></div><div class="ttdeci">static LogItem * Create(const char *File, const char *Function, int Line, LogLevel Level, int Type, quint64 Mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00074">torcloggingimp.cpp:74</a></div></div>
<div class="ttc" id="class_logging_thread_html_ac65ae04d0eaa0bc72647ca6bff7fad31"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#ac65ae04d0eaa0bc72647ca6bff7fad31">LoggingThread::HandleItem</a></div><div class="ttdeci">void HandleItem(LogItem *Item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00243">torcloggingimp.cpp:243</a></div></div>
<div class="ttc" id="struct_log_propagate_opts_html_a77e8219a43240ada486756f9815977c4"><div class="ttname"><a href="../../d6/d4a/struct_log_propagate_opts.html#a77e8219a43240ada486756f9815977c4">LogPropagateOpts::propagate</a></div><div class="ttdeci">bool propagate</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00311">torcloggingimp.cpp:311</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ace5b1411cf35dccaa3c9c9a59cbe15fb"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ace5b1411cf35dccaa3c9c9a59cbe15fb">gUserDefaultValueStr</a></div><div class="ttdeci">QString gUserDefaultValueStr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00352">torcloggingimp.cpp:352</a></div></div>
<div class="ttc" id="class_file_logger_html"><div class="ttname"><a href="../../de/db9/class_file_logger.html">FileLogger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00033">torcloggingimp.h:33</a></div></div>
<div class="ttc" id="class_logging_thread_html_a9fab6ea4e59288e79e0201ca0cee7ebf"><div class="ttname"><a href="../../da/d38/class_logging_thread.html#a9fab6ea4e59288e79e0201ca0cee7ebf">LoggingThread::Start</a></div><div class="ttdeci">void Start(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00208">torcloggingimp.cpp:208</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_af36caf425434fd483836a15e18dbb3e8"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#af36caf425434fd483836a15e18dbb3e8">gDebugRegistration</a></div><div class="ttdeci">bool gDebugRegistration</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00058">torcloggingimp.cpp:58</a></div></div>
<div class="ttc" id="class_log_item_html_adabfb5ac2e9194409c86841988d0371a"><div class="ttname"><a href="../../df/dd2/class_log_item.html#adabfb5ac2e9194409c86841988d0371a">LogItem::threadId</a></div><div class="ttdeci">uint64_t threadId</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00155">torcloggingimp.cpp:155</a></div></div>
<div class="ttc" id="class_log_item_html_a8ea8e9c797184c1aa0cb74e40cf9cb3f"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a8ea8e9c797184c1aa0cb74e40cf9cb3f">LogItem::function</a></div><div class="ttdeci">const char * function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00162">torcloggingimp.cpp:162</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9603f9970282779744c161a77ce890f0"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9603f9970282779744c161a77ce890f0">gHaveUserDefaultValues</a></div><div class="ttdeci">bool gHaveUserDefaultValues</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00353">torcloggingimp.cpp:353</a></div></div>
<div class="ttc" id="class_log_item_html_a07fa36379ff1c7be6990531be56ece3c"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a07fa36379ff1c7be6990531be56ece3c">LogItem::message</a></div><div class="ttdeci">char message[LOGLINE_MAX+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00164">torcloggingimp.cpp:164</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a78f45dcc6606633b7a984d62bdd5f810"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a78f45dcc6606633b7a984d62bdd5f810">LogErrorToString</a></div><div class="ttdeci">QString LogErrorToString(int errnum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l01047">torcloggingimp.cpp:1047</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a3e8e64ac6f7073431e0b356298199c29"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a3e8e64ac6f7073431e0b356298199c29">gVerboseInitialised</a></div><div class="ttdeci">bool gVerboseInitialised</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00346">torcloggingimp.cpp:346</a></div></div>
<div class="ttc" id="class_log_item_html_a3efc591220c20f045233a2903c98dd31"><div class="ttname"><a href="../../df/dd2/class_log_item.html#a3efc591220c20f045233a2903c98dd31">LogItem::tm</a></div><div class="ttdeci">struct tm tm</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00160">torcloggingimp.cpp:160</a></div></div>
<div class="ttc" id="class_web_logger_html_ad5ec369458a30e59d985b682596e95e7"><div class="ttname"><a href="../../d3/d3c/class_web_logger.html#ad5ec369458a30e59d985b682596e95e7">WebLogger::tail</a></div><div class="ttdeci">QByteArray tail</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/torcloggingimp_8h_source.html#l00058">torcloggingimp.h:58</a></div></div>
<div class="ttc" id="class_torc_q_thread_html"><div class="ttname"><a href="../../d2/d41/class_torc_q_thread.html">TorcQThread</a></div><div class="ttdoc">A Torc specific wrapper around QThread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db0/torcqthread_8h_source.html#l00007">torcqthread.h:7</a></div></div>
<div class="ttc" id="torcexitcodes_8h_html"><div class="ttname"><a href="../../d4/dbd/torcexitcodes_8h.html">torcexitcodes.h</a></div></div>
<div class="ttc" id="struct_log_propagate_opts_html_abb046b526d56831197feb23e33022e54"><div class="ttname"><a href="../../d6/d4a/struct_log_propagate_opts.html#abb046b526d56831197feb23e33022e54">LogPropagateOpts::quiet</a></div><div class="ttdeci">int quiet</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00312">torcloggingimp.cpp:312</a></div></div>
<div class="ttc" id="struct_verbose_def_html_a9e376467d51f48149eba08b4971642c9"><div class="ttname"><a href="../../d0/d53/struct_verbose_def.html#a9e376467d51f48149eba08b4971642c9">VerboseDef::helpText</a></div><div class="ttdeci">QString helpText</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00328">torcloggingimp.cpp:328</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a9066e78121e9ec4177b6b313c3844e79"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a9066e78121e9ec4177b6b313c3844e79">AddVerbose</a></div><div class="ttdeci">void AddVerbose(uint64_t mask, QString name, bool additive, QString helptext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00863">torcloggingimp.cpp:863</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_ace0205b87ce8260ce73fcf49f7a47309"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#ace0205b87ce8260ce73fcf49f7a47309">GetLogLevel</a></div><div class="ttdeci">LogLevel GetLogLevel(QString level)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00826">torcloggingimp.cpp:826</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a0c62cdcd401fb478f209083f490c152f"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a0c62cdcd401fb478f209083f490c152f">DeregisterLoggingThread</a></div><div class="ttdeci">void DeregisterLoggingThread(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00813">torcloggingimp.cpp:813</a></div></div>
<div class="ttc" id="torclogging_8h_html_a73a147108bf0df6442820b82b022ef94"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a></div><div class="ttdeci">#define LOG(_MASK_, _LEVEL_, _FORMAT_,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df9/torclogging_8h_source.html#l00031">torclogging.h:31</a></div></div>
<div class="ttc" id="class_log_item_html_ac077c926a0969155df2d4345d4b258f8"><div class="ttname"><a href="../../df/dd2/class_log_item.html#ac077c926a0969155df2d4345d4b258f8">LogItem::SetThreadTid</a></div><div class="ttdeci">void SetThreadTid(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00132">torcloggingimp.cpp:132</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a20240adb1deb6c3669f564cb6987d61b"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a20240adb1deb6c3669f564cb6987d61b">gLogThreadFinished</a></div><div class="ttdeci">bool gLogThreadFinished</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00057">torcloggingimp.cpp:57</a></div></div>
<div class="ttc" id="class_log_item_html_ac37d8d104ff60072b50b7fb7f3a6ea75"><div class="ttname"><a href="../../df/dd2/class_log_item.html#ac37d8d104ff60072b50b7fb7f3a6ea75">LogItem::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00157">torcloggingimp.cpp:157</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a79e8b8b8b2d3ea5a494dd0cdae15e1fa"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a79e8b8b8b2d3ea5a494dd0cdae15e1fa">TIMESTAMP_MAX</a></div><div class="ttdeci">#define TIMESTAMP_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00319">torcloggingimp.cpp:319</a></div></div>
<div class="ttc" id="torcqthread_8h_html"><div class="ttname"><a href="../../dd/db0/torcqthread_8h.html">torcqthread.h</a></div></div>
<div class="ttc" id="struct_log_propagate_opts_html"><div class="ttname"><a href="../../d6/d4a/struct_log_propagate_opts.html">LogPropagateOpts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00310">torcloggingimp.cpp:310</a></div></div>
<div class="ttc" id="torcloggingimp_8cpp_html_a2d3cc91e2c0e999fc6de1c2d2f753a53"><div class="ttname"><a href="../../d7/d24/torcloggingimp_8cpp.html#a2d3cc91e2c0e999fc6de1c2d2f753a53">StopLogging</a></div><div class="ttdeci">void StopLogging(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/torcloggingimp_8cpp_source.html#l00757">torcloggingimp.cpp:757</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 30 2018 15:27:58 for Torc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
