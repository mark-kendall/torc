<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torc: torccamera.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torc
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d03bd041034a3e88cd281d61691321a9.html">outputs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">torccamera.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d11/torccamera_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Class TorcCamera</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">* This file is part of the Torc project.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Copyright (C) Mark Kendall 2018</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">* the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* (at your option) any later version.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">* GNU General Public License for more details.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">* USA.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// Torc</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/df9/torclogging_8h.html">torclogging.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d80/torcoutputs_8h.html">torcoutputs.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d38/torccamera_8h.html">torccamera.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d0/d11/torccamera_8cpp.html#a1c2ca65e5df29a89ba04a0ae398a7b6a">   28</a></span>&#160;<span class="preprocessor">#define BLACKLIST QString(&quot;StartCamera,StopCamera,WritingStarted,WritingStopped&quot;)</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../da/dfa/class_torc_camera_params.html#ab869a7253df13a1622750623f89197fc">   30</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html#ab869a7253df13a1622750623f89197fc">TorcCameraParams::TorcCameraParams</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  : m_valid(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>),</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    m_width(0),</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    m_height(0),</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    m_stride(0),</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    m_sliceHeight(0),</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    m_frameRate(1),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    m_bitrate(0),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    m_timebase(<a class="code" href="../../d3/d38/torccamera_8h.html#a433a6e9c545d111d4b88e35ecc1e9d6c">VIDEO_TIMEBASE</a>),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    m_segmentLength(0),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    m_gopSize(0),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    m_model(),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    m_videoCodec()</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../da/dfa/class_torc_camera_params.html#ad6db29481649959f2544e7c9a22ee154">   46</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html#ab869a7253df13a1622750623f89197fc">TorcCameraParams::TorcCameraParams</a>(<span class="keyword">const</span> QVariantMap &amp;Details)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  : <a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a>(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>(0),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>(0),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>(0),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a>(0),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>(1),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>(0),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>(<a class="code" href="../../d3/d38/torccamera_8h.html#a433a6e9c545d111d4b88e35ecc1e9d6c">VIDEO_TIMEBASE</a>),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a>(0),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>(0),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>(),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>()</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (!Details.contains(<span class="stringliteral">&quot;width&quot;</span>)     || !Details.contains(<span class="stringliteral">&quot;height&quot;</span>)  ||</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        !Details.contains(<span class="stringliteral">&quot;framerate&quot;</span>) || !Details.contains(<span class="stringliteral">&quot;bitrate&quot;</span>) ||</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        !Details.contains(<span class="stringliteral">&quot;model&quot;</span>))</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>     = Details.value(<span class="stringliteral">&quot;width&quot;</span>).toInt();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>    = Details.value(<span class="stringliteral">&quot;height&quot;</span>).toInt();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> = Details.value(<span class="stringliteral">&quot;framerate&quot;</span>).toInt();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>   = Details.value(<span class="stringliteral">&quot;bitrate&quot;</span>).toInt();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>     = Details.value(<span class="stringliteral">&quot;model&quot;</span>).toString();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// N.B. pitch and slice height may be further constrained in certain encoders and may be further adjusted</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// most h264 streams will expect 16 pixel aligned video so round up</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">int</span> pitch = (<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a> + 15) &amp; ~15;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (pitch != <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Rounding video width up to %1 from %2&quot;</span>).arg(pitch).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>));</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a> = pitch;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// and 8 pixel macroblock height</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">int</span> height = (<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> + 7) &amp; ~7;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (height != <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Rounding video height up to %1 from %2&quot;</span>).arg(height).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>));</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> = height;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>      = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a> = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">bool</span> forcemin = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a> &lt; <a class="code" href="../../d3/d38/torccamera_8h.html#af701e923b03e7a90d028475954eecece">VIDEO_WIDTH_MIN</a> || <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> &lt; <a class="code" href="../../d3/d38/torccamera_8h.html#ae4f5a7fb6c15d18df51ea17815a50816">VIDEO_HEIGHT_MIN</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">bool</span> forcemax = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a> &gt; <a class="code" href="../../d3/d38/torccamera_8h.html#aab10ef2c3271b81122f06843ad41baa4">VIDEO_WIDTH_MAX</a> || <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> &gt; <a class="code" href="../../d3/d38/torccamera_8h.html#a33b416033fefb1d7ba9a92ef4e6dd4e6">VIDEO_HEIGHT_MAX</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (forcemin)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>  = <a class="code" href="../../d3/d38/torccamera_8h.html#af701e923b03e7a90d028475954eecece">VIDEO_WIDTH_MIN</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#ae4f5a7fb6c15d18df51ea17815a50816">VIDEO_HEIGHT_MIN</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video too small - forcing output to %1x%2&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (forcemax)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>  = <a class="code" href="../../d3/d38/torccamera_8h.html#aab10ef2c3271b81122f06843ad41baa4">VIDEO_WIDTH_MAX</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#a33b416033fefb1d7ba9a92ef4e6dd4e6">VIDEO_HEIGHT_MAX</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video too large - forcing output to %1x%2&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>));</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> &lt; <a class="code" href="../../d3/d38/torccamera_8h.html#a1358db3327f24c2a7e599318a49e2c2f">VIDEO_FRAMERATE_MIN</a>)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#a1358db3327f24c2a7e599318a49e2c2f">VIDEO_FRAMERATE_MIN</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video framerate too low - forcing to %1&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> &gt; <a class="code" href="../../d3/d38/torccamera_8h.html#a131aaa77ea71feba2ed391c86d9e548d">VIDEO_FRAMERATE_MAX</a>)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#a131aaa77ea71feba2ed391c86d9e548d">VIDEO_FRAMERATE_MAX</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video framerate too high - forcing to %1&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a> &lt; <a class="code" href="../../d3/d38/torccamera_8h.html#af9c310f2c8265b1cc6e64ba778051a4a">VIDEO_BITRATE_MIN</a>)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#af9c310f2c8265b1cc6e64ba778051a4a">VIDEO_BITRATE_MIN</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video bitrate too low - forcing to %1&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a> &gt; <a class="code" href="../../d3/d38/torccamera_8h.html#abe682f7723d66bc72fd31c600b18ea00">VIDEO_BITRATE_MAX</a>)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a> = <a class="code" href="../../d3/d38/torccamera_8h.html#abe682f7723d66bc72fd31c600b18ea00">VIDEO_BITRATE_MAX</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Video bitrate too high - forcing to %1&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>));</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a> = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> * <a class="code" href="../../d3/d38/torccamera_8h.html#a763b1027721a78f930377580f17ca758">VIDEO_SEGMENT_TARGET</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>       = <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a> * <a class="code" href="../../d3/d38/torccamera_8h.html#a3f542686e057eba94fa3f3f35f2ce2f3">VIDEO_GOPDURA_TARGET</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Segment length: %1frames %2seconds&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a> / <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>));</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;GOP     length: %1frames %2seconds&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a> / <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>));</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Camera video  : %1x%2@%3fps bitrate %4&quot;</span>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>).arg(<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>));</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../da/dfa/class_torc_camera_params.html#aa0daf0f1d95f404f7e7344e2e829a223">  140</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html#ab869a7253df13a1622750623f89197fc">TorcCameraParams::TorcCameraParams</a>(<span class="keyword">const</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> &amp;Other)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  : <a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a>),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a>),</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a>),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>),</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>(Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../da/dfa/class_torc_camera_params.html#a44127a03ffa7b2b8736d775891a00d1a">  156</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a>&amp; <a class="code" href="../../da/dfa/class_torc_camera_params.html#a44127a03ffa7b2b8736d775891a00d1a">TorcCameraParams::operator =</a>(<span class="keyword">const</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> &amp;Other)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (&amp;Other != <span class="keyword">this</span>)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a>         = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">m_valid</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>         = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>        = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>        = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">m_stride</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a>   = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">m_sliceHeight</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>     = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>       = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>      = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a> = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>       = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">m_gopSize</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>         = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">m_model</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        this-&gt;<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>    = Other.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="../../d3/dfd/class_torc_camera_device.html#ab7c16bd6b498e9ea895e75d6e6a23b6f">  176</a></span>&#160;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#ab7c16bd6b498e9ea895e75d6e6a23b6f">TorcCameraDevice::TorcCameraDevice</a>(<span class="keyword">const</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> &amp;Params)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  : m_params(Params),</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    m_ringBuffer(NULL)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d3/dfd/class_torc_camera_device.html#af52879f8d2daf6d8f656379899630817">  182</a></span>&#160;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#af52879f8d2daf6d8f656379899630817">TorcCameraDevice::~TorcCameraDevice</a>()</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a> = NULL;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d3/dfd/class_torc_camera_device.html#af592680ba6983b66a020b682f6ad2f16">  191</a></span>&#160;QByteArray <a class="code" href="../../d3/dfd/class_torc_camera_device.html#af592680ba6983b66a020b682f6ad2f16">TorcCameraDevice::GetSegment</a>(<span class="keywordtype">int</span> Segment)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>-&gt;<a class="code" href="../../df/d16/class_torc_segmented_ring_buffer.html#a67214faf1ef07c3794163d9091374bb3">GetSegment</a>(Segment);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d3/dfd/class_torc_camera_device.html#a0675c4eb8cbb7a80acb31488ef7c211c">  198</a></span>&#160;QByteArray <a class="code" href="../../d3/dfd/class_torc_camera_device.html#a0675c4eb8cbb7a80acb31488ef7c211c">TorcCameraDevice::GetInitSegment</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">m_ringBuffer</a>-&gt;<a class="code" href="../../df/d16/class_torc_segmented_ring_buffer.html#a7f371f0bc18a6147de93d98e15b7da9c">GetInitSegment</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="../../d3/dfd/class_torc_camera_device.html#ac8c25593c0827a883fcdcab88fb5f86a">  205</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> <a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac8c25593c0827a883fcdcab88fb5f86a">TorcCameraDevice::GetParams</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/dfd/class_torc_camera_device.html#a11f160f904e70acfa116452ccc69da69">m_params</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a1a846d8a26776ffe5555e6aeac548803">  210</a></span>&#160;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a1a846d8a26776ffe5555e6aeac548803">TorcCameraThread::TorcCameraThread</a>(<a class="code" href="../../db/dc8/class_torc_camera_output.html">TorcCameraOutput</a> *Parent, <span class="keyword">const</span> QString &amp;Type, <span class="keyword">const</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> &amp;Params)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  : <a class="code" href="../../d2/d41/class_torc_q_thread.html">TorcQThread</a>(<span class="stringliteral">&quot;Camera&quot;</span>),</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    m_parent(Parent),</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    m_type(Type),</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="../../d3/dfd/class_torc_camera_device.html#a11f160f904e70acfa116452ccc69da69">m_params</a>(Params),</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    m_camera(NULL),</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    m_cameraLock(QReadWriteLock::Recursive),</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    m_stop(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (m_parent)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a9dc74c907d95fba2d3b5dccd2ff51734">WritingStarted</a>()), m_parent, SLOT(<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a9dc74c907d95fba2d3b5dccd2ff51734">WritingStarted</a>()));</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../de/dc9/class_torc_camera_thread.html#ae9a880a13e2cad09314e1cf0510c3f00">WritingStopped</a>()), m_parent, SLOT(<a class="code" href="../../de/dc9/class_torc_camera_thread.html#ae9a880a13e2cad09314e1cf0510c3f00">WritingStopped</a>()));</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a8f490aed570c83d4b9129dddad9edb85">  226</a></span>&#160;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a8f490aed570c83d4b9129dddad9edb85">TorcCameraThread::~TorcCameraThread</a>()</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    QWriteLocker locker(&amp;m_cameraLock);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (m_camera)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keyword">delete</span> m_camera;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        m_camera = NULL;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a36f13fc9663557d0f03c1cd15343e6d6">  236</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a36f13fc9663557d0f03c1cd15343e6d6">TorcCameraThread::StopWriting</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    m_stop = <span class="keyword">true</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a42ecc88ce61e7ac13df744eeb488c4ee">  241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a42ecc88ce61e7ac13df744eeb488c4ee">TorcCameraThread::Start</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (m_stop)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Camera thread starting&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    m_cameraLock.lockForWrite();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    m_camera = <a class="code" href="../../d8/d67/class_torc_camera_factory.html#ab4ab2f1f226a1d001bf7a55df30c965f">TorcCameraFactory::GetCamera</a>(m_type, m_params);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (m_camera)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (m_parent)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            connect(m_camera, SIGNAL(InitSegmentReady()),  m_parent, SLOT(InitSegmentReady()));</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            connect(m_camera, SIGNAL(SegmentReady(<span class="keywordtype">int</span>)),   m_parent, SLOT(SegmentReady(<span class="keywordtype">int</span>)));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            connect(m_camera, SIGNAL(SegmentRemoved(<span class="keywordtype">int</span>)), m_parent, SLOT(SegmentRemoved(<span class="keywordtype">int</span>)));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            connect(m_camera, SIGNAL(SetErrored(<span class="keywordtype">bool</span>)),    m_parent, SLOT(CameraErrored(<span class="keywordtype">bool</span>)));</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#a83a5d1fd14e999a688603d24fab413e2">Setup</a>())</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            m_cameraLock.unlock();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            emit <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a9dc74c907d95fba2d3b5dccd2ff51734">WritingStarted</a>();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            m_cameraLock.lockForRead();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">while</span> (!m_stop)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">if</span> (!m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#a4aa314dff85b19a7ed9111fe2b7963f8">WriteFrame</a>())</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, <span class="stringliteral">&quot;Camera returned error from WriteFrame()&quot;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            m_cameraLock.unlock();</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            m_cameraLock.lockForWrite();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#abbb7c0b7071a2559846f473d310570e0">Stop</a>();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        m_camera-&gt;disconnect();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keyword">delete</span> m_camera;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        m_camera = NULL;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    m_cameraLock.unlock();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Camera thread stopping&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    emit <a class="code" href="../../de/dc9/class_torc_camera_thread.html#ae9a880a13e2cad09314e1cf0510c3f00">WritingStopped</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a6e9b68f649f23657759040fae8b0c24a">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a6e9b68f649f23657759040fae8b0c24a">TorcCameraThread::Finish</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a81366866469902a7961c6dabed22d2fc">  294</a></span>&#160;QByteArray <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a81366866469902a7961c6dabed22d2fc">TorcCameraThread::GetSegment</a>(<span class="keywordtype">int</span> Segment)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    QReadLocker locker(&amp;m_cameraLock);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (m_camera)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">return</span> m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#af592680ba6983b66a020b682f6ad2f16">GetSegment</a>(Segment);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a23de6650ca34b823c6fe26472f4bc6ac">  302</a></span>&#160;QByteArray <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a23de6650ca34b823c6fe26472f4bc6ac">TorcCameraThread::GetInitSegment</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    QReadLocker locker(&amp;m_cameraLock);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (m_camera)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">return</span> m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#a0675c4eb8cbb7a80acb31488ef7c211c">GetInitSegment</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> QByteArray();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../de/dc9/class_torc_camera_thread.html#a06882696afffe1fa1630b204ca2d9bb7">  310</a></span>&#160;<a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> <a class="code" href="../../de/dc9/class_torc_camera_thread.html#a06882696afffe1fa1630b204ca2d9bb7">TorcCameraThread::GetParams</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    QReadLocker locker(&amp;m_cameraLock);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (m_camera)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> m_camera-&gt;<a class="code" href="../../d3/dfd/class_torc_camera_device.html#ac8c25593c0827a883fcdcab88fb5f86a">GetParams</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a>();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#aafe6fa485d44f5f75e119320676be9b7">  318</a></span>&#160;<a class="code" href="../../db/dc8/class_torc_camera_output.html#aafe6fa485d44f5f75e119320676be9b7">TorcCameraOutput::TorcCameraOutput</a>(<span class="keyword">const</span> QString &amp;ModelId, <span class="keyword">const</span> QVariantMap &amp;Details)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  : <a class="code" href="../../d1/dc7/class_torc_output.html">TorcOutput</a>(<a class="code" href="../../d1/dc7/class_torc_output.html">TorcOutput</a>::Camera, 0.0, ModelId, Details, this, <a class="code" href="../../db/dc8/class_torc_camera_output.html">TorcCameraOutput</a>::staticMetaObject,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;               <span class="stringliteral">&quot;WritingStarted,WritingStopped,CameraErrored,SegmentRemoved,InitSegmentReady,SegmentReady&quot;</span>),</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    m_thread(NULL),</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    m_threadLock(QReadWriteLock::Recursive),</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    m_params(<a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a>(Details)),</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    m_segments(),</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    m_segmentLock(QReadWriteLock::Recursive),</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    m_cameraStartTime()</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#ab9e94cc42737798972f9f12e7dfae24b">  330</a></span>&#160;<a class="code" href="../../db/dc8/class_torc_camera_output.html#ab9e94cc42737798972f9f12e7dfae24b">TorcCameraOutput::~TorcCameraOutput</a>()</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">Stop</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a2b9152687af64656a9919f0b0ce1784c">  335</a></span>&#160;<a class="code" href="../../d1/dc7/class_torc_output.html#a68bfe71abbe6a4a7634c22458da29391">TorcOutput::Type</a> <a class="code" href="../../db/dc8/class_torc_camera_output.html#a2b9152687af64656a9919f0b0ce1784c">TorcCameraOutput::GetType</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dc7/class_torc_output.html#a68bfe71abbe6a4a7634c22458da29391a7b791754260fac3d5ce5fbb006c33d8c">TorcOutput::Camera</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a4347fa5931d98bcf0c5f5f3ce57617a3">  340</a></span>&#160;QString <a class="code" href="../../db/dc8/class_torc_camera_output.html#a4347fa5931d98bcf0c5f5f3ce57617a3">TorcCameraOutput::GetPresentationURL</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;%1%2&quot;</span>).arg(<a class="code" href="../../d5/d15/class_torc_h_t_t_p_handler.html#a43e46ff19cfd0d7880a5992c980a92ea">m_signature</a>).arg(<a class="code" href="../../d3/d38/torccamera_8h.html#afeed51ad1840e7e378de7b3ef9d0acda">VIDEO_PAGE</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a58b766a66df787b4fc139e74d7e805f5">  345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#a58b766a66df787b4fc139e74d7e805f5">TorcCameraOutput::Start</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">Stop</a>();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    m_threadLock.lockForWrite();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    m_thread = <span class="keyword">new</span> <a class="code" href="../../de/dc9/class_torc_camera_thread.html">TorcCameraThread</a>(<span class="keyword">this</span>, <a class="code" href="../../d5/d76/class_torc_device.html#a7cb231fcb683b579d5dc5040926a1952">modelId</a>, m_params);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    m_thread-&gt;start();</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    m_threadLock.unlock();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#aadc210e9ab03090163eeda135ff223ce">  355</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#aadc210e9ab03090163eeda135ff223ce">TorcCameraOutput::InitSegmentReady</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    QReadLocker locker(&amp;m_threadLock);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (m_thread)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        m_params = m_thread-&gt;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a06882696afffe1fa1630b204ca2d9bb7">GetParams</a>();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Initial segment ready - codec &#39;%1&#39;&quot;</span>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="comment">// allow remote clients to start reading once the init segment is saved and hence codec information</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="comment">// is available</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        m_cameraStartTime = QDateTime::currentDateTimeUtc();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a2cb61cb146b15eb52bf9d66e7ec928c1">  368</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#a2cb61cb146b15eb52bf9d66e7ec928c1">TorcCameraOutput::WritingStarted</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../d5/d76/class_torc_device.html#a02b8080467494fca906ecd7e1fd6b327">SetValue</a>(1);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Camera started&quot;</span>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">  374</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">TorcCameraOutput::Stop</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    m_segmentLock.lockForWrite();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    m_segments.clear();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    m_segmentLock.unlock();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    m_threadLock.lockForWrite();</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (m_thread)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        m_thread-&gt;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a36f13fc9663557d0f03c1cd15343e6d6">StopWriting</a>();</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        m_thread-&gt;quit();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        m_thread-&gt;wait();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keyword">delete</span> m_thread;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        m_thread = NULL;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    m_threadLock.unlock();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#a5062d4af3e4c5e45d99432beb39d7cb8">  392</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#a5062d4af3e4c5e45d99432beb39d7cb8">TorcCameraOutput::WritingStopped</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="../../d5/d76/class_torc_device.html#a02b8080467494fca906ecd7e1fd6b327">SetValue</a>(0);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Camera stopped&quot;</span>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    m_cameraStartTime = QDateTime();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#ad272fdfaa7b9080eacb0b2df5fdb8e3d">  399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#ad272fdfaa7b9080eacb0b2df5fdb8e3d">TorcCameraOutput::CameraErrored</a>(<span class="keywordtype">bool</span> Errored)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="../../d5/d76/class_torc_device.html#ae487e250451334399373f1a2ff22e618">SetValid</a>(!Errored);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (Errored)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Camera reported error&quot;</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">Stop</a>();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#ad4c73101890bc5728bdf5658e1391c32">  409</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#ad4c73101890bc5728bdf5658e1391c32">TorcCameraOutput::SegmentReady</a>(<span class="keywordtype">int</span> Segment)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, QString(<span class="stringliteral">&quot;Segment %1 ready&quot;</span>).arg(Segment));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    QWriteLocker locker(&amp;m_segmentLock);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (!m_segments.contains(Segment))</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">if</span> (!m_segments.isEmpty() &amp;&amp; m_segments.head() &gt;= Segment)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Segment %1 is not greater than head (%2)&quot;</span>).arg(Segment).arg(m_segments.head()));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            m_segments.enqueue(Segment);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Already have a segment #%1&quot;</span>).arg(Segment));</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#abbf3035432847c435d2a2f87ae6aa2fa">  427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#abbf3035432847c435d2a2f87ae6aa2fa">TorcCameraOutput::SegmentRemoved</a>(<span class="keywordtype">int</span> Segment)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, QString(<span class="stringliteral">&quot;Segment %1 removed&quot;</span>).arg(Segment));</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    QWriteLocker locker(&amp;m_segmentLock);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (m_segments.isEmpty())</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Cannot remove segment - segments list is empty&quot;</span>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">if</span> (m_segments.first() != Segment)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Segment %1 is not at tail of queue&quot;</span>).arg(Segment));</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            m_segments.dequeue();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../db/dc8/class_torc_camera_output.html#aef7a0481d3f9a8969e1ca1d89c20554f">  446</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html#aef7a0481d3f9a8969e1ca1d89c20554f">TorcCameraOutput::ProcessHTTPRequest</a>(<span class="keyword">const</span> QString &amp;PeerAddress, <span class="keywordtype">int</span> PeerPort, <span class="keyword">const</span> QString &amp;LocalAddress, <span class="keywordtype">int</span> LocalPort, <a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html">TorcHTTPRequest</a> &amp;Request)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    (void)PeerAddress;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    (void)PeerPort;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    (void)LocalAddress;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    (void)LocalPort;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    (void)Request;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// treat camera feeds as secure - or maybe not - many players just don&#39;t seem to expect authorisation</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">//if (!MethodIsAuthorised(Request, HTTPAuth))</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">//    return;</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// cameraStartTime is set when the camera thread has started (and set to invalid when stopped)</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (!m_cameraStartTime.isValid())</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a974c8f961c93f721c7d6d12b49ff0746">SetAllowCORS</a>(<span class="keyword">true</span>); <span class="comment">// needed for a number of browser players.</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    QString method = Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a28fe4579b3cd4ba23153b6fa4ec007c5">GetMethod</a>();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7">HTTPRequestType</a> type = Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#afa4abe22b1dbea3aec70283af2336809">GetHTTPRequestType</a>();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">bool</span> hlsmaster   = method.compare(<a class="code" href="../../d3/d38/torccamera_8h.html#a704899ca87700af1cce4e922ba746e1f">HLS_PLAYLIST_MAST</a>) == 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">bool</span> hlsplaylist = method.compare(<a class="code" href="../../d3/d38/torccamera_8h.html#a1d154e4b333a9859434900dffd838089">HLS_PLAYLIST</a>) == 0;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordtype">bool</span> player      = method.compare(<a class="code" href="../../d3/d38/torccamera_8h.html#afeed51ad1840e7e378de7b3ef9d0acda">VIDEO_PAGE</a>) == 0;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordtype">bool</span> dash        = method.compare(<a class="code" href="../../d3/d38/torccamera_8h.html#a6bd77ff092a5906e8024f301ee469724">DASH_PLAYLIST</a>) == 0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">bool</span> segment     = method.startsWith(<span class="stringliteral">&quot;segment&quot;</span>) &amp;&amp; method.endsWith(<span class="stringliteral">&quot;.m4s&quot;</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">bool</span> init        = method.startsWith(<span class="stringliteral">&quot;init&quot;</span>) &amp;&amp; method.endsWith(<span class="stringliteral">&quot;.mp4&quot;</span>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (!(hlsplaylist || player || hlsmaster || dash || segment || init))</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">SetStatus</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcaeb3c6a9bde23b5f39f623b554c9863c8">HTTP_NotFound</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831">HTTPResponseDefault</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (type == <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a8ffe3427494f7da4905154725c378f19">HTTPOptions</a>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="../../d5/d15/class_torc_h_t_t_p_handler.html#a16cd050a931518913eed8357d94b7364">HandleOptions</a>(Request, <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a3857a393215d35c074fd3e4a7c858da5">HTTPHead</a> | <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a0fa0de831c702f7d65dde3ee573f5ef8">HTTPGet</a> | <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a8ffe3427494f7da4905154725c378f19">HTTPOptions</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (segment || init)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384">HTTPResponseMP4</a>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hlsmaster || hlsplaylist)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a743ebe89b9710292ceef2941b2e44eda">HTTPResponseM3U8Apple</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a89433ee8a4c6f1ded12032a4a5d92f23">HTTPResponseHTML</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a934f0525b586d999fad89ddc00ea3698">HTTPResponseMPD</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (type != <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a0fa0de831c702f7d65dde3ee573f5ef8">HTTPGet</a> &amp;&amp; type != <a class="code" href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a3857a393215d35c074fd3e4a7c858da5">HTTPHead</a>)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">SetStatus</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcae6ec39e387f642513e62edf9b5af7f93">HTTP_BadRequest</a>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831">HTTPResponseDefault</a>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    QByteArray result;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (hlsmaster)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, <span class="stringliteral">&quot;Sending master HLS playlist&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        result = GetMasterPlaylist();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a743ebe89b9710292ceef2941b2e44eda">HTTPResponseM3U8Apple</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hlsplaylist)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, <span class="stringliteral">&quot;Sending HLS playlist&quot;</span>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        result = GetHLSPlaylist();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a743ebe89b9710292ceef2941b2e44eda">HTTPResponseM3U8Apple</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, <span class="stringliteral">&quot;Sending video page&quot;</span>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        result = GetPlayerPage();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a89433ee8a4c6f1ded12032a4a5d92f23">HTTPResponseHTML</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dash)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, <span class="stringliteral">&quot;Sending DASH playlist&quot;</span>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        result = GetDashPlaylist();</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a934f0525b586d999fad89ddc00ea3698">HTTPResponseMPD</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (segment)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        QString number = method.mid(7);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        number.chop(4);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordtype">int</span> num = number.toInt(&amp;ok);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (ok)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            QReadLocker locker(&amp;m_threadLock);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, QString(<span class="stringliteral">&quot;Segment %1 requested&quot;</span>).arg(num));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            result = m_thread-&gt;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a81366866469902a7961c6dabed22d2fc">GetSegment</a>(num);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">if</span> (!result.isEmpty())</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384">HTTPResponseMP4</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, <span class="stringliteral">&quot;Segment not found&quot;</span>);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">SetStatus</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcae6ec39e387f642513e62edf9b5af7f93">HTTP_BadRequest</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831">HTTPResponseDefault</a>);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (init)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        QReadLocker locker(&amp;m_threadLock);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_DEBUG, <span class="stringliteral">&quot;Init segment requested&quot;</span>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        result = m_thread-&gt;<a class="code" href="../../de/dc9/class_torc_camera_thread.html#a23de6650ca34b823c6fe26472f4bc6ac">GetInitSegment</a>();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">if</span> (!result.isEmpty())</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">SetAllowGZip</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384">HTTPResponseMP4</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, <span class="stringliteral">&quot;Init segment not found&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">if</span> (!result.isEmpty())</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a09abd1894f1f7f8bf3e216fc43a79550">SetResponseContent</a>(result);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">SetStatus</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fca43f8027764325bbcad2f773511156d0a">HTTP_OK</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">SetStatus</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcaeb3c6a9bde23b5f39f623b554c9863c8">HTTP_NotFound</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        Request.<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">SetResponseType</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831">HTTPResponseDefault</a>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;QByteArray TorcCameraOutput::GetPlayerPage(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> QString player(<span class="stringliteral">&quot;&lt;html&gt;\r\n&quot;</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                <span class="stringliteral">&quot;  &lt;script src=\&quot;/js/vendor/dash-2.9.0.all.min.js\&quot;&gt;&lt;/script&gt;\r\n&quot;</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                <span class="stringliteral">&quot;  &lt;body&gt;\r\n&quot;</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                <span class="stringliteral">&quot;    &lt;div&gt;\r\n&quot;</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                <span class="stringliteral">&quot;      &lt;video data-dashjs-player autoplay src=\&quot;%1\&quot; controls&gt;&lt;/video&gt;\r\n&quot;</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                <span class="stringliteral">&quot;    &lt;/div&gt;\r\n&quot;</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                <span class="stringliteral">&quot;  &lt;/body&gt;\r\n&quot;</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                <span class="stringliteral">&quot;&lt;/html&gt;\r\n&quot;</span>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">return</span> QByteArray(player.arg(<a class="code" href="../../d3/d38/torccamera_8h.html#a6bd77ff092a5906e8024f301ee469724">DASH_PLAYLIST</a>).toLocal8Bit());</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;QByteArray TorcCameraOutput::GetMasterPlaylist(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> QString playlist(<span class="stringliteral">&quot;#EXTM3U\r\n&quot;</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-VERSION:4\r\n&quot;</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=%1,RESOLUTION=%2x%3,CODECS=\&quot;%5\&quot;\r\n&quot;</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                  <span class="stringliteral">&quot;%4\r\n&quot;</span>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> QByteArray(playlist.arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                  .arg(<a class="code" href="../../d3/d38/torccamera_8h.html#a1d154e4b333a9859434900dffd838089">HLS_PLAYLIST</a>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>)<span class="comment">/*.arg(AUDIO_CODEC_ISO)*/</span>.toLocal8Bit());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;QByteArray TorcCameraOutput::GetHLSPlaylist(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> QString playlist(<span class="stringliteral">&quot;#EXTM3U\r\n&quot;</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-VERSION:4\r\n&quot;</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-TARGETDURATION:%1\r\n&quot;</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-MEDIA-SEQUENCE:%2\r\n&quot;</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                  <span class="stringliteral">&quot;#EXT-X-MAP:URI=\&quot;initSegment.mp4\&quot;\r\n&quot;</span>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    QString duration = QString::number(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a> / (<span class="keywordtype">float</span>) m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>, <span class="charliteral">&#39;f&#39;</span>, 2);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    m_segmentLock.lockForRead();</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    QString result = playlist.arg(duration).arg(m_segments.first());</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">foreach</span> (<span class="keywordtype">int</span> segment, m_segments)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        result += QString(<span class="stringliteral">&quot;#EXTINF:%1,\r\n&quot;</span>).arg(duration);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        result += QString(<span class="stringliteral">&quot;segment%1.m4s\r\n&quot;</span>).arg(segment);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    m_segmentLock.unlock();</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> QByteArray(result.toLocal8Bit());</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;QByteArray TorcCameraOutput::GetDashPlaylist(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;{</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> QString dash(</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; ?&gt;\r\n&quot;</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="stringliteral">&quot;&lt;MPD xmlns=\&quot;urn:mpeg:dash:schema:mpd:2011\&quot; profiles=\&quot;urn:mpeg:dash:profile:isoff-live:2011\&quot;&quot;</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="stringliteral">&quot; type=\&quot;dynamic\&quot; availabilityStartTime=\&quot;%1\&quot; minimumUpdatePeriod=\&quot;PT%2S\&quot;&quot;</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="stringliteral">&quot; publishTime=\&quot;%1\&quot; timeShiftBufferDepth=\&quot;PT%3S\&quot; minBufferTime=\&quot;PT%4S\&quot;&gt;\r\n&quot;</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="stringliteral">&quot;  &lt;Period id=\&quot;0\&quot; start=\&quot;PT0S\&quot;&gt;\r\n&quot;</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="stringliteral">&quot;    &lt;AdaptationSet contentType=\&quot;video\&quot; segmentAlignment=\&quot;true\&quot; startWithSAP=\&quot;1\&quot;&gt;\r\n&quot;</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="stringliteral">&quot;      &lt;Representation id=\&quot;default\&quot; mimeType=\&quot;%5\&quot; width=\&quot;%6\&quot; height=\&quot;%7\&quot; bandwidth=\&quot;%8\&quot; codecs=\&quot;%9\&quot; frameRate=\&quot;%10\&quot;&gt;\r\n&quot;</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="stringliteral">&quot;        &lt;SegmentTemplate duration=\&quot;%11\&quot; timescale=\&quot;%12\&quot; initialization=\&quot;initSegment.mp4\&quot; media=\&quot;segment$Number$.m4s\&quot; startNumber=\&quot;0\&quot; /&gt;\r\n&quot;</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="stringliteral">&quot;      &lt;/Representation&gt;\r\n&quot;</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="stringliteral">&quot;    &lt;/AdaptationSet&gt;\r\n&quot;</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="stringliteral">&quot;  &lt;/Period&gt;\r\n&quot;</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="stringliteral">&quot;&lt;/MPD&gt;\r\n&quot;</span>);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordtype">double</span> duration = m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">m_segmentLength</a> / (float)m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> QByteArray(dash.arg(m_cameraStartTime.toString(Qt::ISODate))</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                      .arg(QString::number(duration * 5, <span class="charliteral">&#39;f&#39;</span>, 2))</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                      .arg(QString::number(duration * 4, <span class="charliteral">&#39;f&#39;</span>, 2))</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                      .arg(QString::number(duration * 2, <span class="charliteral">&#39;f&#39;</span>, 2))</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                      .arg(<a class="code" href="../../da/dfc/class_torc_h_t_t_p_request.html#aa7bd7a08bf704855aa7e3f0b93227bf1">TorcHTTPRequest::ResponseTypeToString</a>(<a class="code" href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384">HTTPResponseMP4</a><span class="comment">/*HTTPResponseMPEGTS*/</span>))</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                      .arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">m_width</a>)</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                      .arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">m_height</a>)</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                      .arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">m_bitrate</a>)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                      .arg(QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">m_videoCodec</a>))</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                      <span class="comment">//.arg(QString(&quot;%1,%2&quot;).arg(VIDEO_CODEC_ISO).arg(AUDIO_CODEC_ISO))</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                      .arg(QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">m_frameRate</a>))</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                      .arg(duration * m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>)</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                      .arg(m_params.<a class="code" href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">m_timebase</a>).toLocal8Bit());</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<a class="code" href="../../df/d70/class_torc_camera_outputs.html">TorcCameraOutputs</a>* <a class="code" href="../../df/d70/class_torc_camera_outputs.html#ad6a74723e70b51a1069bb7674e91aec0">TorcCameraOutputs::gCameraOutputs</a> = <span class="keyword">new</span> <a class="code" href="../../df/d70/class_torc_camera_outputs.html">TorcCameraOutputs</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="../../df/d70/class_torc_camera_outputs.html#a4562e19d9caa3d02025ebb7184de329e">  666</a></span>&#160;<a class="code" href="../../df/d70/class_torc_camera_outputs.html#a4562e19d9caa3d02025ebb7184de329e">TorcCameraOutputs::TorcCameraOutputs</a>()</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  : <a class="code" href="../../dc/dfc/class_torc_device_handler.html">TorcDeviceHandler</a>(),</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    m_cameras()</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="../../df/d70/class_torc_camera_outputs.html#a565cd2c6df82e03cd7cb9b02c7921ab4">  672</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d70/class_torc_camera_outputs.html#a565cd2c6df82e03cd7cb9b02c7921ab4">TorcCameraOutputs::Create</a>(<span class="keyword">const</span> QVariantMap &amp;Details)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../dc/dfc/class_torc_device_handler.html#a4cf1f8ca0998ca44bba7bfb42846e6b4">m_lock</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    QVariantMap::const_iterator ii = Details.constBegin();</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">for</span> ( ; ii != Details.constEnd(); ++ii)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">if</span> (ii.key() == <span class="stringliteral">&quot;outputs&quot;</span>)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            QVariantMap outputs = ii.value().toMap();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            QVariantMap::const_iterator i = outputs.constBegin();</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keywordflow">for</span> ( ; i != outputs.constEnd(); ++i)</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">if</span> (i.key() == <span class="stringliteral">&quot;cameras&quot;</span>)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    QVariantMap cameras = i.value().toMap();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    QVariantMap::iterator it = cameras.begin();</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    <span class="keywordflow">for</span> ( ; it != cameras.end(); ++it)</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                    {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        QVariantMap camera = it.value().toMap();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;name&quot;</span>))</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; has no name&quot;</span>).arg(it.key()));</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;model&quot;</span>))</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; does not specify model&quot;</span>).arg(camera.value(<span class="stringliteral">&quot;name&quot;</span>).toString()));</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;width&quot;</span>))</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; does not specify width&quot;</span>).arg(camera.value(<span class="stringliteral">&quot;name&quot;</span>).toString()));</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;height&quot;</span>))</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                        {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; does not specify height&quot;</span>).arg(camera.value(<span class="stringliteral">&quot;name&quot;</span>).toString()));</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;bitrate&quot;</span>))</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; does not specify bitrate&quot;</span>).arg(camera.value(<span class="stringliteral">&quot;name&quot;</span>).toString()));</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                        }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                        <span class="keywordflow">if</span> (!camera.contains(<span class="stringliteral">&quot;framerate&quot;</span>))</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                        {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Camera &#39;%1&#39; does not specify framerate&quot;</span>).arg(camera.value(<span class="stringliteral">&quot;name&quot;</span>).toString()));</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                        <span class="comment">// NB TorcCameraFactory checks that the underlying class can handle the specified camera</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                        <span class="comment">// which ensures the TorcCameraOutput instance will be able to create the camera.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                        QString model = camera.value(<span class="stringliteral">&quot;model&quot;</span>).toString();</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <a class="code" href="../../db/dc8/class_torc_camera_output.html">TorcCameraOutput</a> *newcamera = NULL;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        <a class="code" href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a>* factory = <a class="code" href="../../d8/d67/class_torc_camera_factory.html#ad4d306ca61e16b442b61efa0c016e7ff">TorcCameraFactory::GetTorcCameraFactory</a>();</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> params(Details);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        <span class="keywordflow">for</span> ( ; factory; factory = factory-&gt;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#a33a98b9a103e1d7e54d80ad2797c10db">NextFactory</a>())</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                        {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                            <span class="keywordflow">if</span> (factory-&gt;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#a722460397d48cc7fb3f6477b6284ca9b">CanHandle</a>(it.key(), params))</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                            {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                                newcamera = <span class="keyword">new</span> <a class="code" href="../../db/dc8/class_torc_camera_output.html">TorcCameraOutput</a>(model, camera);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                m_cameras.insertMulti(model, newcamera);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;New &#39;%1&#39; camera &#39;%2&#39;&quot;</span>).arg(model).arg(newcamera-&gt;<a class="code" href="../../d5/d76/class_torc_device.html#a4d85d71868ff624ebf17b864a8cf6b0e">GetUniqueId</a>()));</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                            }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        <span class="keywordflow">if</span> (NULL == newcamera)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Failed to find handler for camera &#39;%1&#39;&quot;</span>).arg(model));</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="../../df/d70/class_torc_camera_outputs.html#a8920de5f07405b82a46b1d204139f4c6">  748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d70/class_torc_camera_outputs.html#a8920de5f07405b82a46b1d204139f4c6">TorcCameraOutputs::Destroy</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    QMutexLocker locker(&amp;<a class="code" href="../../dc/dfc/class_torc_device_handler.html#a4cf1f8ca0998ca44bba7bfb42846e6b4">m_lock</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    QHash&lt;QString, TorcCameraOutput*&gt;::iterator it = m_cameras.begin();</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">for</span> ( ; it != m_cameras.end(); ++it)</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        TorcOutputs::gOutputs-&gt;RemoveOutput(it.value());</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        it.value()-&gt;DownRef();</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    m_cameras.clear();</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<a class="code" href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a>* <a class="code" href="../../d8/d67/class_torc_camera_factory.html#adea07e6288358c37728e28321d48b693">TorcCameraFactory::gTorcCameraFactory</a> = NULL;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="../../d8/d67/class_torc_camera_factory.html#af4bbdafd38143c6b8ecc3190dd29ad96">  762</a></span>&#160;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#af4bbdafd38143c6b8ecc3190dd29ad96">TorcCameraFactory::TorcCameraFactory</a>()</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  : nextTorcCameraFactory(gTorcCameraFactory)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="../../d8/d67/class_torc_camera_factory.html#adea07e6288358c37728e28321d48b693">gTorcCameraFactory</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="../../d8/d67/class_torc_camera_factory.html#aec855594f113e3fc9072e2f18e6da61a">  768</a></span>&#160;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#aec855594f113e3fc9072e2f18e6da61a">TorcCameraFactory::~TorcCameraFactory</a>()</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="../../d8/d67/class_torc_camera_factory.html#ad4d306ca61e16b442b61efa0c016e7ff">  772</a></span>&#160;<a class="code" href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a>* <a class="code" href="../../d8/d67/class_torc_camera_factory.html#ad4d306ca61e16b442b61efa0c016e7ff">TorcCameraFactory::GetTorcCameraFactory</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d67/class_torc_camera_factory.html#adea07e6288358c37728e28321d48b693">gTorcCameraFactory</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="../../d8/d67/class_torc_camera_factory.html#a33a98b9a103e1d7e54d80ad2797c10db">  777</a></span>&#160;<a class="code" href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a>* <a class="code" href="../../d8/d67/class_torc_camera_factory.html#a33a98b9a103e1d7e54d80ad2797c10db">TorcCameraFactory::NextFactory</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d67/class_torc_camera_factory.html#aa0188d42368fd559a60357fcc2c76cd2">nextTorcCameraFactory</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="../../d8/d67/class_torc_camera_factory.html#ab4ab2f1f226a1d001bf7a55df30c965f">  782</a></span>&#160;<a class="code" href="../../d3/dfd/class_torc_camera_device.html">TorcCameraDevice</a>* <a class="code" href="../../d8/d67/class_torc_camera_factory.html#ab4ab2f1f226a1d001bf7a55df30c965f">TorcCameraFactory::GetCamera</a>(<span class="keyword">const</span> QString &amp;Type, <span class="keyword">const</span> <a class="code" href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a> &amp;Params)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="../../d3/dfd/class_torc_camera_device.html">TorcCameraDevice</a>* result = NULL;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a>* factory = <a class="code" href="../../d8/d67/class_torc_camera_factory.html#ad4d306ca61e16b442b61efa0c016e7ff">TorcCameraFactory::GetTorcCameraFactory</a>();</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">for</span> ( ; factory; factory = factory-&gt;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#a33a98b9a103e1d7e54d80ad2797c10db">NextFactory</a>())</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (factory-&gt;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#a722460397d48cc7fb3f6477b6284ca9b">CanHandle</a>(Type, Params))</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            result = factory-&gt;<a class="code" href="../../d8/d67/class_torc_camera_factory.html#a9c736bf08009a51641d716ca34c73eb9">Create</a>(Type, Params);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div><div class="ttc" id="class_torc_camera_outputs_html_ad6a74723e70b51a1069bb7674e91aec0"><div class="ttname"><a href="../../df/d70/class_torc_camera_outputs.html#ad6a74723e70b51a1069bb7674e91aec0">TorcCameraOutputs::gCameraOutputs</a></div><div class="ttdeci">static TorcCameraOutputs * gCameraOutputs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00161">torccamera.h:161</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_ad4d306ca61e16b442b61efa0c016e7ff"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#ad4d306ca61e16b442b61efa0c016e7ff">TorcCameraFactory::GetTorcCameraFactory</a></div><div class="ttdeci">static TorcCameraFactory * GetTorcCameraFactory(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00772">torccamera.cpp:772</a></div></div>
<div class="ttc" id="torccamera_8h_html_a433a6e9c545d111d4b88e35ecc1e9d6c"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a433a6e9c545d111d4b88e35ecc1e9d6c">VIDEO_TIMEBASE</a></div><div class="ttdeci">#define VIDEO_TIMEBASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00024">torccamera.h:24</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html">TorcHTTPRequest</a></div><div class="ttdoc">A class to encapsulate an incoming HTTP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00112">torchttprequest.h:112</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a8074dceec0e9059ea9ccbb9c9408d2be"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a8074dceec0e9059ea9ccbb9c9408d2be">TorcCameraParams::m_sliceHeight</a></div><div class="ttdeci">int m_sliceHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00046">torccamera.h:46</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a6e9b68f649f23657759040fae8b0c24a"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a6e9b68f649f23657759040fae8b0c24a">TorcCameraThread::Finish</a></div><div class="ttdeci">void Finish(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00290">torccamera.cpp:290</a></div></div>
<div class="ttc" id="torccamera_8h_html_a1358db3327f24c2a7e599318a49e2c2f"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a1358db3327f24c2a7e599318a49e2c2f">VIDEO_FRAMERATE_MIN</a></div><div class="ttdeci">#define VIDEO_FRAMERATE_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00017">torccamera.h:17</a></div></div>
<div class="ttc" id="class_torc_camera_outputs_html_a8920de5f07405b82a46b1d204139f4c6"><div class="ttname"><a href="../../df/d70/class_torc_camera_outputs.html#a8920de5f07405b82a46b1d204139f4c6">TorcCameraOutputs::Destroy</a></div><div class="ttdeci">void Destroy(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00748">torccamera.cpp:748</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a42ecc88ce61e7ac13df744eeb488c4ee"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a42ecc88ce61e7ac13df744eeb488c4ee">TorcCameraThread::Start</a></div><div class="ttdeci">void Start(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00241">torccamera.cpp:241</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_a4aa314dff85b19a7ed9111fe2b7963f8"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#a4aa314dff85b19a7ed9111fe2b7963f8">TorcCameraDevice::WriteFrame</a></div><div class="ttdeci">virtual bool WriteFrame(void)=0</div></div>
<div class="ttc" id="class_torc_camera_params_html_a989a540d79780335dfd9daa44acffd40"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a989a540d79780335dfd9daa44acffd40">TorcCameraParams::m_width</a></div><div class="ttdeci">int m_width</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00043">torccamera.h:43</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_afa4abe22b1dbea3aec70283af2336809"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#afa4abe22b1dbea3aec70283af2336809">TorcHTTPRequest::GetHTTPRequestType</a></div><div class="ttdeci">HTTPRequestType GetHTTPRequestType(void) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00275">torchttprequest.cpp:275</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_ab4ab2f1f226a1d001bf7a55df30c965f"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#ab4ab2f1f226a1d001bf7a55df30c965f">TorcCameraFactory::GetCamera</a></div><div class="ttdeci">static TorcCameraDevice * GetCamera(const QString &amp;Type, const TorcCameraParams &amp;Params)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00782">torccamera.cpp:782</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_a58b766a66df787b4fc139e74d7e805f5"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a58b766a66df787b4fc139e74d7e805f5">TorcCameraOutput::Start</a></div><div class="ttdeci">void Start(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00345">torccamera.cpp:345</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_aafa40a9c9b260fccdf1fdb407ace74e7"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#aafa40a9c9b260fccdf1fdb407ace74e7">TorcCameraParams::m_videoCodec</a></div><div class="ttdeci">QString m_videoCodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00053">torccamera.h:53</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_ab869a7253df13a1622750623f89197fc"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#ab869a7253df13a1622750623f89197fc">TorcCameraParams::TorcCameraParams</a></div><div class="ttdeci">TorcCameraParams(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00030">torccamera.cpp:30</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_abbb7c0b7071a2559846f473d310570e0"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#abbb7c0b7071a2559846f473d310570e0">TorcCameraDevice::Stop</a></div><div class="ttdeci">virtual bool Stop(void)=0</div></div>
<div class="ttc" id="class_torc_camera_output_html_a4347fa5931d98bcf0c5f5f3ce57617a3"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a4347fa5931d98bcf0c5f5f3ce57617a3">TorcCameraOutput::GetPresentationURL</a></div><div class="ttdeci">QString GetPresentationURL(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00340">torccamera.cpp:340</a></div></div>
<div class="ttc" id="class_torc_camera_params_html"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html">TorcCameraParams</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00034">torccamera.h:34</a></div></div>
<div class="ttc" id="torccamera_8h_html_aab10ef2c3271b81122f06843ad41baa4"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#aab10ef2c3271b81122f06843ad41baa4">VIDEO_WIDTH_MAX</a></div><div class="ttdeci">#define VIDEO_WIDTH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00014">torccamera.h:14</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html">TorcCameraFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00170">torccamera.h:170</a></div></div>
<div class="ttc" id="class_torc_device_handler_html_a4cf1f8ca0998ca44bba7bfb42846e6b4"><div class="ttname"><a href="../../dc/dfc/class_torc_device_handler.html#a4cf1f8ca0998ca44bba7bfb42846e6b4">TorcDeviceHandler::m_lock</a></div><div class="ttdeci">QMutex m_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5b/torcdevicehandler_8h_source.html#l00025">torcdevicehandler.h:25</a></div></div>
<div class="ttc" id="class_torc_segmented_ring_buffer_html_a7f371f0bc18a6147de93d98e15b7da9c"><div class="ttname"><a href="../../df/d16/class_torc_segmented_ring_buffer.html#a7f371f0bc18a6147de93d98e15b7da9c">TorcSegmentedRingBuffer::GetInitSegment</a></div><div class="ttdeci">QByteArray GetInitSegment(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3b/torcsegmentedringbuffer_8cpp_source.html#l00248">torcsegmentedringbuffer.cpp:248</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_a722460397d48cc7fb3f6477b6284ca9b"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#a722460397d48cc7fb3f6477b6284ca9b">TorcCameraFactory::CanHandle</a></div><div class="ttdeci">virtual bool CanHandle(const QString &amp;Type, const TorcCameraParams &amp;Params)=0</div></div>
<div class="ttc" id="torchttprequest_8h_html_a78431899018db70ec4be51aaeba8bdf7a3857a393215d35c074fd3e4a7c858da5"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a3857a393215d35c074fd3e4a7c858da5">HTTPHead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00026">torchttprequest.h:26</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_a11f160f904e70acfa116452ccc69da69"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#a11f160f904e70acfa116452ccc69da69">TorcCameraDevice::m_params</a></div><div class="ttdeci">TorcCameraParams m_params</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00078">torccamera.h:78</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_af550b7894e351ecc6e245dcff9aef5d6"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#af550b7894e351ecc6e245dcff9aef5d6">TorcCameraParams::m_segmentLength</a></div><div class="ttdeci">int m_segmentLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00050">torccamera.h:50</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a81366866469902a7961c6dabed22d2fc"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a81366866469902a7961c6dabed22d2fc">TorcCameraThread::GetSegment</a></div><div class="ttdeci">QByteArray GetSegment(int Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00294">torccamera.cpp:294</a></div></div>
<div class="ttc" id="torccamera_8h_html_ae4f5a7fb6c15d18df51ea17815a50816"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#ae4f5a7fb6c15d18df51ea17815a50816">VIDEO_HEIGHT_MIN</a></div><div class="ttdeci">#define VIDEO_HEIGHT_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00015">torccamera.h:15</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_a0675c4eb8cbb7a80acb31488ef7c211c"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#a0675c4eb8cbb7a80acb31488ef7c211c">TorcCameraDevice::GetInitSegment</a></div><div class="ttdeci">QByteArray GetInitSegment(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00198">torccamera.cpp:198</a></div></div>
<div class="ttc" id="class_torc_device_html_ae487e250451334399373f1a2ff22e618"><div class="ttname"><a href="../../d5/d76/class_torc_device.html#ae487e250451334399373f1a2ff22e618">TorcDevice::SetValid</a></div><div class="ttdeci">virtual void SetValid(bool Valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d82/torcdevice_8cpp_source.html#l00100">torcdevice.cpp:100</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_a33a98b9a103e1d7e54d80ad2797c10db"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#a33a98b9a103e1d7e54d80ad2797c10db">TorcCameraFactory::NextFactory</a></div><div class="ttdeci">TorcCameraFactory * NextFactory(void) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00777">torccamera.cpp:777</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_aef7a0481d3f9a8969e1ca1d89c20554f"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#aef7a0481d3f9a8969e1ca1d89c20554f">TorcCameraOutput::ProcessHTTPRequest</a></div><div class="ttdeci">void ProcessHTTPRequest(const QString &amp;PeerAddress, int PeerPort, const QString &amp;LocalAddress, int LocalPort, TorcHTTPRequest &amp;Request) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00446">torccamera.cpp:446</a></div></div>
<div class="ttc" id="torccamera_8h_html"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html">torccamera.h</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_ac8c25593c0827a883fcdcab88fb5f86a"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#ac8c25593c0827a883fcdcab88fb5f86a">TorcCameraDevice::GetParams</a></div><div class="ttdeci">TorcCameraParams GetParams(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00205">torccamera.cpp:205</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_ac59d622f3921335001a10f6241076b2b"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#ac59d622f3921335001a10f6241076b2b">TorcCameraParams::m_model</a></div><div class="ttdeci">QString m_model</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00052">torccamera.h:52</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_aa7bd7a08bf704855aa7e3f0b93227bf1"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#aa7bd7a08bf704855aa7e3f0b93227bf1">TorcHTTPRequest::ResponseTypeToString</a></div><div class="ttdeci">static QString ResponseTypeToString(HTTPResponseType Response)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00853">torchttprequest.cpp:853</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a01340bcc9cce6aa1d156bd0468c708fca43f8027764325bbcad2f773511156d0a"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fca43f8027764325bbcad2f773511156d0a">HTTP_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00068">torchttprequest.h:68</a></div></div>
<div class="ttc" id="torccamera_8h_html_a704899ca87700af1cce4e922ba746e1f"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a704899ca87700af1cce4e922ba746e1f">HLS_PLAYLIST_MAST</a></div><div class="ttdeci">#define HLS_PLAYLIST_MAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00027">torccamera.h:27</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a1a846d8a26776ffe5555e6aeac548803"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a1a846d8a26776ffe5555e6aeac548803">TorcCameraThread::TorcCameraThread</a></div><div class="ttdeci">TorcCameraThread(TorcCameraOutput *Parent, const QString &amp;Type, const TorcCameraParams &amp;Params)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00210">torccamera.cpp:210</a></div></div>
<div class="ttc" id="class_torc_camera_outputs_html"><div class="ttname"><a href="../../df/d70/class_torc_camera_outputs.html">TorcCameraOutputs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00156">torccamera.h:156</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a86b0fffd61fc2be8e57253f5cf19668d"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a86b0fffd61fc2be8e57253f5cf19668d">TorcCameraParams::m_frameRate</a></div><div class="ttdeci">int m_frameRate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00047">torccamera.h:47</a></div></div>
<div class="ttc" id="class_torc_camera_outputs_html_a4562e19d9caa3d02025ebb7184de329e"><div class="ttname"><a href="../../df/d70/class_torc_camera_outputs.html#a4562e19d9caa3d02025ebb7184de329e">TorcCameraOutputs::TorcCameraOutputs</a></div><div class="ttdeci">TorcCameraOutputs()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00666">torccamera.cpp:666</a></div></div>
<div class="ttc" id="torclogging_8h_html"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html">torclogging.h</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_ab9e94cc42737798972f9f12e7dfae24b"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#ab9e94cc42737798972f9f12e7dfae24b">TorcCameraOutput::~TorcCameraOutput</a></div><div class="ttdeci">virtual ~TorcCameraOutput()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00330">torccamera.cpp:330</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_a974c8f961c93f721c7d6d12b49ff0746"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#a974c8f961c93f721c7d6d12b49ff0746">TorcHTTPRequest::SetAllowCORS</a></div><div class="ttdeci">void SetAllowCORS(bool Allowed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00230">torchttprequest.cpp:230</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a51b3b3b25ab465b6f385f48cdb19927c"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a51b3b3b25ab465b6f385f48cdb19927c">TorcCameraParams::m_timebase</a></div><div class="ttdeci">int m_timebase</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00049">torccamera.h:49</a></div></div>
<div class="ttc" id="torcoutputs_8h_html"><div class="ttname"><a href="../../da/d80/torcoutputs_8h.html">torcoutputs.h</a></div></div>
<div class="ttc" id="torccamera_8h_html_af701e923b03e7a90d028475954eecece"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#af701e923b03e7a90d028475954eecece">VIDEO_WIDTH_MIN</a></div><div class="ttdeci">#define VIDEO_WIDTH_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00013">torccamera.h:13</a></div></div>
<div class="ttc" id="torccamera_8h_html_a33b416033fefb1d7ba9a92ef4e6dd4e6"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a33b416033fefb1d7ba9a92ef4e6dd4e6">VIDEO_HEIGHT_MAX</a></div><div class="ttdeci">#define VIDEO_HEIGHT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00016">torccamera.h:16</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_a2cb61cb146b15eb52bf9d66e7ec928c1"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a2cb61cb146b15eb52bf9d66e7ec928c1">TorcCameraOutput::WritingStarted</a></div><div class="ttdeci">void WritingStarted(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00368">torccamera.cpp:368</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_af5412cef3fcd5eb19bf791729ed934ed"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#af5412cef3fcd5eb19bf791729ed934ed">TorcCameraParams::m_gopSize</a></div><div class="ttdeci">int m_gopSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00051">torccamera.h:51</a></div></div>
<div class="ttc" id="torccamera_8h_html_a763b1027721a78f930377580f17ca758"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a763b1027721a78f930377580f17ca758">VIDEO_SEGMENT_TARGET</a></div><div class="ttdeci">#define VIDEO_SEGMENT_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00021">torccamera.h:21</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a23de6650ca34b823c6fe26472f4bc6ac"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a23de6650ca34b823c6fe26472f4bc6ac">TorcCameraThread::GetInitSegment</a></div><div class="ttdeci">QByteArray GetInitSegment(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00302">torccamera.cpp:302</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_abbf3035432847c435d2a2f87ae6aa2fa"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#abbf3035432847c435d2a2f87ae6aa2fa">TorcCameraOutput::SegmentRemoved</a></div><div class="ttdeci">void SegmentRemoved(int Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00427">torccamera.cpp:427</a></div></div>
<div class="ttc" id="class_torc_camera_outputs_html_a565cd2c6df82e03cd7cb9b02c7921ab4"><div class="ttname"><a href="../../df/d70/class_torc_camera_outputs.html#a565cd2c6df82e03cd7cb9b02c7921ab4">TorcCameraOutputs::Create</a></div><div class="ttdeci">void Create(const QVariantMap &amp;Details) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00672">torccamera.cpp:672</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_a5062d4af3e4c5e45d99432beb39d7cb8"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a5062d4af3e4c5e45d99432beb39d7cb8">TorcCameraOutput::WritingStopped</a></div><div class="ttdeci">void WritingStopped(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00392">torccamera.cpp:392</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_ad0f1d98da3f74ea990bd91362a200e49a934f0525b586d999fad89ddc00ea3698"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a934f0525b586d999fad89ddc00ea3698">HTTPResponseMPD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00052">torchttprequest.h:52</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_ad0f1d98da3f74ea990bd91362a200e49a89433ee8a4c6f1ded12032a4a5d92f23"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a89433ee8a4c6f1ded12032a4a5d92f23">HTTPResponseHTML</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00041">torchttprequest.h:41</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_handler_html_a16cd050a931518913eed8357d94b7364"><div class="ttname"><a href="../../d5/d15/class_torc_h_t_t_p_handler.html#a16cd050a931518913eed8357d94b7364">TorcHTTPHandler::HandleOptions</a></div><div class="ttdeci">static void HandleOptions(TorcHTTPRequest &amp;Request, int Allowed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d87/torchttphandler_8cpp_source.html#l00102">torchttphandler.cpp:102</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_a09abd1894f1f7f8bf3e216fc43a79550"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#a09abd1894f1f7f8bf3e216fc43a79550">TorcHTTPRequest::SetResponseContent</a></div><div class="ttdeci">void SetResponseContent(const QByteArray &amp;Content)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00202">torchttprequest.cpp:202</a></div></div>
<div class="ttc" id="class_torc_device_handler_html"><div class="ttname"><a href="../../dc/dfc/class_torc_device_handler.html">TorcDeviceHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5b/torcdevicehandler_8h_source.html#l00009">torcdevicehandler.h:9</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_a28fe4579b3cd4ba23153b6fa4ec007c5"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#a28fe4579b3cd4ba23153b6fa4ec007c5">TorcHTTPRequest::GetMethod</a></div><div class="ttdeci">QString GetMethod(void) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00295">torchttprequest.cpp:295</a></div></div>
<div class="ttc" id="class_torc_device_html_a02b8080467494fca906ecd7e1fd6b327"><div class="ttname"><a href="../../d5/d76/class_torc_device.html#a02b8080467494fca906ecd7e1fd6b327">TorcDevice::SetValue</a></div><div class="ttdeci">virtual void SetValue(double Value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d82/torcdevice_8cpp_source.html#l00114">torcdevice.cpp:114</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_a2b9152687af64656a9919f0b0ce1784c"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a2b9152687af64656a9919f0b0ce1784c">TorcCameraOutput::GetType</a></div><div class="ttdeci">TorcOutput::Type GetType(void) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00335">torccamera.cpp:335</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_af4bbdafd38143c6b8ecc3190dd29ad96"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#af4bbdafd38143c6b8ecc3190dd29ad96">TorcCameraFactory::TorcCameraFactory</a></div><div class="ttdeci">TorcCameraFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00762">torccamera.cpp:762</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_a83a5d1fd14e999a688603d24fab413e2"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#a83a5d1fd14e999a688603d24fab413e2">TorcCameraDevice::Setup</a></div><div class="ttdeci">virtual bool Setup(void)=0</div></div>
<div class="ttc" id="class_torc_camera_device_html_af52879f8d2daf6d8f656379899630817"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#af52879f8d2daf6d8f656379899630817">TorcCameraDevice::~TorcCameraDevice</a></div><div class="ttdeci">virtual ~TorcCameraDevice()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00182">torccamera.cpp:182</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a148f3d8696129cbc40de0bd5b76027f3"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a148f3d8696129cbc40de0bd5b76027f3">TorcCameraParams::m_height</a></div><div class="ttdeci">int m_height</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00044">torccamera.h:44</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_a4ca53162a0293fc06e9cbdbce271be85"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#a4ca53162a0293fc06e9cbdbce271be85">TorcHTTPRequest::SetAllowGZip</a></div><div class="ttdeci">void SetAllowGZip(bool Allowed)</div><div class="ttdoc">Allow gzip compression for the contents of this request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00225">torchttprequest.cpp:225</a></div></div>
<div class="ttc" id="class_torc_output_html_a68bfe71abbe6a4a7634c22458da29391"><div class="ttname"><a href="../../d1/dc7/class_torc_output.html#a68bfe71abbe6a4a7634c22458da29391">TorcOutput::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d01/torcoutput_8h_source.html#l00022">torcoutput.h:22</a></div></div>
<div class="ttc" id="torccamera_8h_html_a1d154e4b333a9859434900dffd838089"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a1d154e4b333a9859434900dffd838089">HLS_PLAYLIST</a></div><div class="ttdeci">#define HLS_PLAYLIST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00028">torccamera.h:28</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a78431899018db70ec4be51aaeba8bdf7a8ffe3427494f7da4905154725c378f19"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a8ffe3427494f7da4905154725c378f19">HTTPOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00031">torchttprequest.h:31</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a9dc74c907d95fba2d3b5dccd2ff51734"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a9dc74c907d95fba2d3b5dccd2ff51734">TorcCameraThread::WritingStarted</a></div><div class="ttdeci">void WritingStarted(void)</div></div>
<div class="ttc" id="torccamera_8h_html_af9c310f2c8265b1cc6e64ba778051a4a"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#af9c310f2c8265b1cc6e64ba778051a4a">VIDEO_BITRATE_MIN</a></div><div class="ttdeci">#define VIDEO_BITRATE_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00019">torccamera.h:19</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_a9c736bf08009a51641d716ca34c73eb9"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#a9c736bf08009a51641d716ca34c73eb9">TorcCameraFactory::Create</a></div><div class="ttdeci">virtual TorcCameraDevice * Create(const QString &amp;Type, const TorcCameraParams &amp;Params)=0</div></div>
<div class="ttc" id="torcloggingdefs_8h_html_a93519f65dd0ef21fc5be0c286a833ae4"><div class="ttname"><a href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a></div><div class="ttdeci">VERBOSE_PREAMBLE General info Playback related messages File and AutoExpire related messages Network protocol related messages Audio related messages JobQueue related messages EIT related messages DSMCC carousel related messages UPnP debugging messages xmltv output and related messages Media Manager debugging messages External executable related messages false</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/torcloggingdefs_8h_source.html#l00110">torcloggingdefs.h:110</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_ad4c73101890bc5728bdf5658e1391c32"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#ad4c73101890bc5728bdf5658e1391c32">TorcCameraOutput::SegmentReady</a></div><div class="ttdeci">void SegmentReady(int Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00409">torccamera.cpp:409</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_adea07e6288358c37728e28321d48b693"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#adea07e6288358c37728e28321d48b693">TorcCameraFactory::gTorcCameraFactory</a></div><div class="ttdeci">static TorcCameraFactory * gTorcCameraFactory</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00183">torccamera.h:183</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a44127a03ffa7b2b8736d775891a00d1a"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a44127a03ffa7b2b8736d775891a00d1a">TorcCameraParams::operator=</a></div><div class="ttdeci">TorcCameraParams &amp; operator=(const TorcCameraParams &amp;Other)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00156">torccamera.cpp:156</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_af592680ba6983b66a020b682f6ad2f16"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#af592680ba6983b66a020b682f6ad2f16">TorcCameraDevice::GetSegment</a></div><div class="ttdeci">QByteArray GetSegment(int Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00191">torccamera.cpp:191</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a0e4c9ede53c253828f41fef5558a5831">HTTPResponseDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00040">torchttprequest.h:40</a></div></div>
<div class="ttc" id="class_torc_device_html_a7cb231fcb683b579d5dc5040926a1952"><div class="ttname"><a href="../../d5/d76/class_torc_device.html#a7cb231fcb683b579d5dc5040926a1952">TorcDevice::modelId</a></div><div class="ttdeci">QString modelId</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df7/torcdevice_8h_source.html#l00064">torcdevice.h:64</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_aa0188d42368fd559a60357fcc2c76cd2"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#aa0188d42368fd559a60357fcc2c76cd2">TorcCameraFactory::nextTorcCameraFactory</a></div><div class="ttdeci">TorcCameraFactory * nextTorcCameraFactory</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00184">torccamera.h:184</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_aad9c4665e4bf1e7a32ca7955a879da11"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#aad9c4665e4bf1e7a32ca7955a879da11">TorcHTTPRequest::SetStatus</a></div><div class="ttdeci">void SetStatus(HTTPStatus Status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00192">torchttprequest.cpp:192</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_aadc210e9ab03090163eeda135ff223ce"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#aadc210e9ab03090163eeda135ff223ce">TorcCameraOutput::InitSegmentReady</a></div><div class="ttdeci">void InitSegmentReady(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00355">torccamera.cpp:355</a></div></div>
<div class="ttc" id="class_torc_camera_factory_html_aec855594f113e3fc9072e2f18e6da61a"><div class="ttname"><a href="../../d8/d67/class_torc_camera_factory.html#aec855594f113e3fc9072e2f18e6da61a">TorcCameraFactory::~TorcCameraFactory</a></div><div class="ttdeci">virtual ~TorcCameraFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00768">torccamera.cpp:768</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_ad272fdfaa7b9080eacb0b2df5fdb8e3d"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#ad272fdfaa7b9080eacb0b2df5fdb8e3d">TorcCameraOutput::CameraErrored</a></div><div class="ttdeci">void CameraErrored(bool Errored)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00399">torccamera.cpp:399</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_a780b966d849db7ecc0c79e321bbbe3f9"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#a780b966d849db7ecc0c79e321bbbe3f9">TorcCameraOutput::Stop</a></div><div class="ttdeci">void Stop(void) override</div><div class="ttdoc">Stop the device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00374">torccamera.cpp:374</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html">TorcCameraThread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00087">torccamera.h:87</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_a2c469b5bffa70a35f3934e8ecc19491b"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a2c469b5bffa70a35f3934e8ecc19491b">TorcCameraParams::m_valid</a></div><div class="ttdeci">bool m_valid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00042">torccamera.h:42</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a01340bcc9cce6aa1d156bd0468c708fcaeb3c6a9bde23b5f39f623b554c9863c8"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcaeb3c6a9bde23b5f39f623b554c9863c8">HTTP_NotFound</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00075">torchttprequest.h:75</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a8f490aed570c83d4b9129dddad9edb85"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a8f490aed570c83d4b9129dddad9edb85">TorcCameraThread::~TorcCameraThread</a></div><div class="ttdeci">~TorcCameraThread()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00226">torccamera.cpp:226</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a78431899018db70ec4be51aaeba8bdf7"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7">HTTPRequestType</a></div><div class="ttdeci">HTTPRequestType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00023">torchttprequest.h:23</a></div></div>
<div class="ttc" id="class_torc_output_html"><div class="ttname"><a href="../../d1/dc7/class_torc_output.html">TorcOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d01/torcoutput_8h_source.html#l00015">torcoutput.h:15</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_ae9a880a13e2cad09314e1cf0510c3f00"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#ae9a880a13e2cad09314e1cf0510c3f00">TorcCameraThread::WritingStopped</a></div><div class="ttdeci">void WritingStopped(void)</div></div>
<div class="ttc" id="class_torc_camera_params_html_a3d2856c5a5ed0bb283bc02f834796bca"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#a3d2856c5a5ed0bb283bc02f834796bca">TorcCameraParams::m_stride</a></div><div class="ttdeci">int m_stride</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00045">torccamera.h:45</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a36f13fc9663557d0f03c1cd15343e6d6"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a36f13fc9663557d0f03c1cd15343e6d6">TorcCameraThread::StopWriting</a></div><div class="ttdeci">void StopWriting(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00236">torccamera.cpp:236</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_request_html_a07e0d4900c71f8c8ab1d6748773d91a1"><div class="ttname"><a href="../../da/dfc/class_torc_h_t_t_p_request.html#a07e0d4900c71f8c8ab1d6748773d91a1">TorcHTTPRequest::SetResponseType</a></div><div class="ttdeci">void SetResponseType(HTTPResponseType Type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/torchttprequest_8cpp_source.html#l00197">torchttprequest.cpp:197</a></div></div>
<div class="ttc" id="class_torc_camera_thread_html_a06882696afffe1fa1630b204ca2d9bb7"><div class="ttname"><a href="../../de/dc9/class_torc_camera_thread.html#a06882696afffe1fa1630b204ca2d9bb7">TorcCameraThread::GetParams</a></div><div class="ttdeci">TorcCameraParams GetParams(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00310">torccamera.cpp:310</a></div></div>
<div class="ttc" id="torccamera_8h_html_a6bd77ff092a5906e8024f301ee469724"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a6bd77ff092a5906e8024f301ee469724">DASH_PLAYLIST</a></div><div class="ttdeci">#define DASH_PLAYLIST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00026">torccamera.h:26</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a01340bcc9cce6aa1d156bd0468c708fcae6ec39e387f642513e62edf9b5af7f93"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fcae6ec39e387f642513e62edf9b5af7f93">HTTP_BadRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00072">torchttprequest.h:72</a></div></div>
<div class="ttc" id="class_torc_camera_params_html_aa0018394b4f4f34c007357173bf9f21c"><div class="ttname"><a href="../../da/dfa/class_torc_camera_params.html#aa0018394b4f4f34c007357173bf9f21c">TorcCameraParams::m_bitrate</a></div><div class="ttdeci">int m_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00048">torccamera.h:48</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_ab7c16bd6b498e9ea895e75d6e6a23b6f"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#ab7c16bd6b498e9ea895e75d6e6a23b6f">TorcCameraDevice::TorcCameraDevice</a></div><div class="ttdeci">TorcCameraDevice(const TorcCameraParams &amp;Params)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00176">torccamera.cpp:176</a></div></div>
<div class="ttc" id="class_torc_q_thread_html"><div class="ttname"><a href="../../d2/d41/class_torc_q_thread.html">TorcQThread</a></div><div class="ttdoc">A Torc specific wrapper around QThread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db0/torcqthread_8h_source.html#l00007">torcqthread.h:7</a></div></div>
<div class="ttc" id="torccamera_8h_html_abe682f7723d66bc72fd31c600b18ea00"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#abe682f7723d66bc72fd31c600b18ea00">VIDEO_BITRATE_MAX</a></div><div class="ttdeci">#define VIDEO_BITRATE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00020">torccamera.h:20</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a78431899018db70ec4be51aaeba8bdf7a0fa0de831c702f7d65dde3ee573f5ef8"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a78431899018db70ec4be51aaeba8bdf7a0fa0de831c702f7d65dde3ee573f5ef8">HTTPGet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00027">torchttprequest.h:27</a></div></div>
<div class="ttc" id="class_torc_camera_device_html"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html">TorcCameraDevice</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00056">torccamera.h:56</a></div></div>
<div class="ttc" id="class_torc_camera_output_html_aafe6fa485d44f5f75e119320676be9b7"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html#aafe6fa485d44f5f75e119320676be9b7">TorcCameraOutput::TorcCameraOutput</a></div><div class="ttdeci">TorcCameraOutput(const QString &amp;ModelId, const QVariantMap &amp;Details)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/torccamera_8cpp_source.html#l00318">torccamera.cpp:318</a></div></div>
<div class="ttc" id="torccamera_8h_html_a3f542686e057eba94fa3f3f35f2ce2f3"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a3f542686e057eba94fa3f3f35f2ce2f3">VIDEO_GOPDURA_TARGET</a></div><div class="ttdeci">#define VIDEO_GOPDURA_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00022">torccamera.h:22</a></div></div>
<div class="ttc" id="torclogging_8h_html_a73a147108bf0df6442820b82b022ef94"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a></div><div class="ttdeci">#define LOG(_MASK_, _LEVEL_, _FORMAT_,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df9/torclogging_8h_source.html#l00031">torclogging.h:31</a></div></div>
<div class="ttc" id="class_torc_camera_device_html_ac9db1b4759e27dd4a5df91d49f9e2837"><div class="ttname"><a href="../../d3/dfd/class_torc_camera_device.html#ac9db1b4759e27dd4a5df91d49f9e2837">TorcCameraDevice::m_ringBuffer</a></div><div class="ttdeci">TorcSegmentedRingBuffer * m_ringBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00079">torccamera.h:79</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a8484a9a7e9d322b8d987586a0127f384">HTTPResponseMP4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00054">torchttprequest.h:54</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_ad0f1d98da3f74ea990bd91362a200e49a743ebe89b9710292ceef2941b2e44eda"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#ad0f1d98da3f74ea990bd91362a200e49a743ebe89b9710292ceef2941b2e44eda">HTTPResponseM3U8Apple</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00051">torchttprequest.h:51</a></div></div>
<div class="ttc" id="class_torc_output_html_a68bfe71abbe6a4a7634c22458da29391a7b791754260fac3d5ce5fbb006c33d8c"><div class="ttname"><a href="../../d1/dc7/class_torc_output.html#a68bfe71abbe6a4a7634c22458da29391a7b791754260fac3d5ce5fbb006c33d8c">TorcOutput::Camera</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d01/torcoutput_8h_source.html#l00029">torcoutput.h:29</a></div></div>
<div class="ttc" id="torccamera_8h_html_afeed51ad1840e7e378de7b3ef9d0acda"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#afeed51ad1840e7e378de7b3ef9d0acda">VIDEO_PAGE</a></div><div class="ttdeci">#define VIDEO_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00029">torccamera.h:29</a></div></div>
<div class="ttc" id="class_torc_segmented_ring_buffer_html_a67214faf1ef07c3794163d9091374bb3"><div class="ttname"><a href="../../df/d16/class_torc_segmented_ring_buffer.html#a67214faf1ef07c3794163d9091374bb3">TorcSegmentedRingBuffer::GetSegment</a></div><div class="ttdeci">QByteArray GetSegment(int SegmentRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3b/torcsegmentedringbuffer_8cpp_source.html#l00229">torcsegmentedringbuffer.cpp:229</a></div></div>
<div class="ttc" id="class_torc_camera_output_html"><div class="ttname"><a href="../../db/dc8/class_torc_camera_output.html">TorcCameraOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00118">torccamera.h:118</a></div></div>
<div class="ttc" id="torccamera_8h_html_a131aaa77ea71feba2ed391c86d9e548d"><div class="ttname"><a href="../../d3/d38/torccamera_8h.html#a131aaa77ea71feba2ed391c86d9e548d">VIDEO_FRAMERATE_MAX</a></div><div class="ttdeci">#define VIDEO_FRAMERATE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/torccamera_8h_source.html#l00018">torccamera.h:18</a></div></div>
<div class="ttc" id="class_torc_h_t_t_p_handler_html_a43e46ff19cfd0d7880a5992c980a92ea"><div class="ttname"><a href="../../d5/d15/class_torc_h_t_t_p_handler.html#a43e46ff19cfd0d7880a5992c980a92ea">TorcHTTPHandler::m_signature</a></div><div class="ttdeci">QString m_signature</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/torchttphandler_8h_source.html#l00034">torchttphandler.h:34</a></div></div>
<div class="ttc" id="class_torc_device_html_a4d85d71868ff624ebf17b864a8cf6b0e"><div class="ttname"><a href="../../d5/d76/class_torc_device.html#a4d85d71868ff624ebf17b864a8cf6b0e">TorcDevice::GetUniqueId</a></div><div class="ttdeci">QString GetUniqueId(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d82/torcdevice_8cpp_source.html#l00183">torcdevice.cpp:183</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 13 2018 21:28:13 for Torc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
