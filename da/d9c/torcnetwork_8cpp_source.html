<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torc: torcnetwork.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torc
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_19e1fafdf157c27762559b97f5d6a2d3.html">torc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">torcnetwork.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/d9c/torcnetwork_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Class TorcNetwork</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">* This file is part of the Torc project.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Copyright (C) Mark Kendall 2012-18</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">* the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* (at your option) any later version.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">* GNU General Public License for more details.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">* USA.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// Torc</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dbd/torclocalcontext_8h.html">torclocalcontext.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/df9/torclogging_8h.html">torclogging.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dd5/torcadminthread_8h.html">torcadminthread.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/dd7/torchttprequest_8h.html">http/torchttprequest.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/da5/torcnetwork_8h.html">torcnetwork.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d49/torccoreutils_8h.html">torccoreutils.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../da/da5/torcnetwork_8h.html#ad5070958fc05ebd2ebe1c5c9cf857907">   31</a></span>&#160;<a class="code" href="../../d8/d73/class_torc_network.html">TorcNetwork</a>*    <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ad5070958fc05ebd2ebe1c5c9cf857907">gNetwork</a> = NULL;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../da/da5/torcnetwork_8h.html#a97c67933e644b137e8b43f6c1e5f686c">   32</a></span>&#160;QMutex*         <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a> = <span class="keyword">new</span> QMutex(QMutex::Recursive);</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">   33</a></span>&#160;QStringList     <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">   34</a></span>&#160;QReadWriteLock* <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">gNetworkHostNamesLock</a> = <span class="keyword">new</span> QReadWriteLock();</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#a8a7e02407157ef77b049dff0a312bf8c">   36</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a8a7e02407157ef77b049dff0a312bf8c">gIPv4LinkLocal</a>   = QHostAddress::parseSubnet(<span class="stringliteral">&quot;169.254.0.0/16&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#ab4719758272550cd19d3a6ba8b627397">   37</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab4719758272550cd19d3a6ba8b627397">gIPv4PrivateA</a>    = QHostAddress::parseSubnet(<span class="stringliteral">&quot;10.0.0.0/8&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#aa717d67381cda43fe05782b1aeec4eea">   38</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#aa717d67381cda43fe05782b1aeec4eea">gIPv4PrivateB</a>    = QHostAddress::parseSubnet(<span class="stringliteral">&quot;172.16.0.0/12&quot;</span>);</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#ae8d1a82268a8c1aced1462f5655f3df5">   39</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ae8d1a82268a8c1aced1462f5655f3df5">gIPv4PrivateC</a>    = QHostAddress::parseSubnet(<span class="stringliteral">&quot;192.168.0.0/16&quot;</span>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#a634250618305e4901f9d043ea3340be9">   41</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a634250618305e4901f9d043ea3340be9">gIPv6LinkLocal</a>   = QHostAddress::parseSubnet(<span class="stringliteral">&quot;fe80::/10&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#ae913f00a1c0f44c734aab1478de40ec0">   42</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ae913f00a1c0f44c734aab1478de40ec0">gIPv6SiteLocal</a>   = QHostAddress::parseSubnet(<span class="stringliteral">&quot;fec0::/10&quot;</span>); <span class="comment">// deprecated</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#a688d775ee1ffecd253eaed97ec9588a4">   43</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a688d775ee1ffecd253eaed97ec9588a4">gIPv6UniqueLocal</a> = QHostAddress::parseSubnet(<span class="stringliteral">&quot;fc00::/7&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#ac926d1bed91deec99f1eb9f8390c957e">   44</a></span>&#160;QPair&lt;QHostAddress,int&gt; <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ac926d1bed91deec99f1eb9f8390c957e">gIPv6Global</a>      = QHostAddress::parseSubnet(<span class="stringliteral">&quot;2000::/3&quot;</span>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a63a043981858567c24cd286fe8f77e11">   46</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a63a043981858567c24cd286fe8f77e11">TorcNetwork::IsAvailable</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> gNetwork ? gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">IsOnline</a>() : <span class="keyword">false</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a50d350c643dd26f3a5d53f0bc63c5327">   53</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a50d350c643dd26f3a5d53f0bc63c5327">TorcNetwork::IsOwnAddress</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> gNetwork ? gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a58150a25e5da10432d488aa41e8cefe5">IsOwnAddressPriv</a>(Address) : <span class="keyword">false</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a35ab60c3ccccedc34a81b13026569763">   60</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a35ab60c3ccccedc34a81b13026569763">TorcNetwork::Get</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>* Request)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">IsOnline</a>())</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        emit gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a9ea3574aeee458ffd3769d3d5f8a7c5f">NewRequest</a>(Request);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#ae0a866ec6804a8c72cb5194449af0cfc">   73</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#ae0a866ec6804a8c72cb5194449af0cfc">TorcNetwork::Cancel</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (gNetwork)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        emit gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a02eacdbc49774ec457682cc37de21633">CancelRequest</a>(Request);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a1bddd71d6afc8364587762dc28585f56">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a1bddd71d6afc8364587762dc28585f56">TorcNetwork::Poke</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (gNetwork)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        emit gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a139cc078086476bfa81bcb157a7835c2">PokeRequest</a>(Request);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a85aa66ee263f16d0ce6b74b88d539afa">   94</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a85aa66ee263f16d0ce6b74b88d539afa">TorcNetwork::GetAsynchronous</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request, QObject *Parent)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (!Request || !Parent)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a5e5232208a8ed890f3dc29bcf5c006ee">m_bufferSize</a>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Cannot queue asynchronous request for streamed buffer&quot;</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (Parent-&gt;metaObject()-&gt;indexOfMethod(QMetaObject::normalizedSignature(<span class="stringliteral">&quot;RequestReady(TorcNetworkRequest*)&quot;</span>)) &lt; 0)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Request&#39;s parent does not have RequestReady method&quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">IsOnline</a>())</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        emit gNetwork-&gt;<a class="code" href="../../d8/d73/class_torc_network.html#a60e61bbd34eba36c9e06488a7a86e3f1">NewAsyncRequest</a>(Request, Parent);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a2621c859447922438e43819f71ecf380">  131</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a2621c859447922438e43819f71ecf380">TorcNetwork::AddHostName</a>(<span class="keyword">const</span> QString &amp;Host)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        QWriteLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">gNetworkHostNamesLock</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.size() &gt; 10)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;Number of host names &gt; 10 - ignoring new name &#39;%1&#39; (%2)&quot;</span>).arg(Host).arg(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.join(<span class="stringliteral">&quot;,&quot;</span>)));</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.contains(Host))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;New host name &#39;%1&#39;&quot;</span>).arg(Host));</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.append(Host);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (changed &amp;&amp; <a class="code" href="../../da/d67/torclocalcontext_8cpp.html#a071080a60a9799e8b9609cb8898ef14f">gLocalContext</a>)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a>(<a class="code" href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473a5ef3eb5700f836924874a4179756ee3c">Torc::NetworkHostNamesChanged</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a45672a9689c18dbe79ced3b04b515770">  159</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a45672a9689c18dbe79ced3b04b515770">TorcNetwork::RemoveHostName</a>(<span class="keyword">const</span> QString &amp;Host)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        QWriteLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">gNetworkHostNamesLock</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.contains(Host))</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Removed host name &#39;%1&#39;&quot;</span>).arg(Host));</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>.removeAll(Host);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (changed &amp;&amp; <a class="code" href="../../da/d67/torclocalcontext_8cpp.html#a071080a60a9799e8b9609cb8898ef14f">gLocalContext</a>)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a>(<a class="code" href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473a5ef3eb5700f836924874a4179756ee3c">Torc::NetworkHostNamesChanged</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a5d2e1bf5198dd9bec4b3a881d40b3c2d">  183</a></span>&#160;QStringList <a class="code" href="../../d8/d73/class_torc_network.html#a5d2e1bf5198dd9bec4b3a881d40b3c2d">TorcNetwork::GetHostNames</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    QReadLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">gNetworkHostNamesLock</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    QStringList result = <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    result.removeDuplicates();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a97321aa2f3ccde2ae513cca94b277a85">  196</a></span>&#160;QString <a class="code" href="../../d8/d73/class_torc_network.html#a97321aa2f3ccde2ae513cca94b277a85">TorcNetwork::IPAddressToLiteral</a>(<span class="keyword">const</span> QHostAddress &amp;Address, <span class="keywordtype">int</span> Port, <span class="keywordtype">bool</span> UseLocalhost <span class="comment">/* = true*/</span>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    QString result;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (UseLocalhost &amp;&amp; Address.isLoopback())</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        result = QString(<span class="stringliteral">&quot;localhost&quot;</span>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Address.protocol() == QAbstractSocket::IPv4Protocol)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        result = Address.toString();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        QHostAddress address(Address);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        address.setScopeId(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        result = <span class="stringliteral">&quot;[&quot;</span> + address.toString() +<span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (Port)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        result += <span class="stringliteral">&quot;:&quot;</span> + QString::number(Port);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#abfa4272255a3ef40373868c06c7479af">  222</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#abfa4272255a3ef40373868c06c7479af">TorcNetwork::IsExternal</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (Address.isNull() || Address.isLoopback())</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a50f0913259a1ad5a0f6c3faafeebd609">  229</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a50f0913259a1ad5a0f6c3faafeebd609">TorcNetwork::IsLinkLocal</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (Address.isNull())</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (Address.isInSubnet(Address.protocol() == QAbstractSocket::IPv4Protocol ? <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a8a7e02407157ef77b049dff0a312bf8c">gIPv4LinkLocal</a> : <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a634250618305e4901f9d043ea3340be9">gIPv6LinkLocal</a>))</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a7823cef66f9141ae778b4eb2ff3ba0b1">  238</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a7823cef66f9141ae778b4eb2ff3ba0b1">TorcNetwork::IsLocal</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (Address.isNull())</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (Address.protocol() == QAbstractSocket::IPv4Protocol)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (Address.isInSubnet(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ab4719758272550cd19d3a6ba8b627397">gIPv4PrivateA</a>) || Address.isInSubnet(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#aa717d67381cda43fe05782b1aeec4eea">gIPv4PrivateB</a>) || Address.isInSubnet(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ae8d1a82268a8c1aced1462f5655f3df5">gIPv4PrivateC</a>))</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// IPv6 - work in progress!</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// use a whitelist approach</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (Address.isInSubnet(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a688d775ee1ffecd253eaed97ec9588a4">gIPv6UniqueLocal</a>) || Address.isInSubnet(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ae913f00a1c0f44c734aab1478de40ec0">gIPv6SiteLocal</a>))</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/* \brief Returns true if the address is globally accessible (i.e. exposed to the real world!)</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> * \TODO make this ipv6 aware</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a4ce7f625cf153e5e7b07434ed688dbea">  258</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a4ce7f625cf153e5e7b07434ed688dbea">TorcNetwork::IsGlobal</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// internal/loopback and link local</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d73/class_torc_network.html#abfa4272255a3ef40373868c06c7479af">IsExternal</a>(Address))</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// private</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d73/class_torc_network.html#a7823cef66f9141ae778b4eb2ff3ba0b1">IsLocal</a>(Address))</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a9210314815b6194d50b1aed3526faa7f">  271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a9210314815b6194d50b1aed3526faa7f">TorcNetwork::Setup</a>(<span class="keywordtype">bool</span> Create)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    QMutexLocker locker(<a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (gNetwork)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span> (Create)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ad5070958fc05ebd2ebe1c5c9cf857907">gNetwork</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        gNetwork = NULL;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (Create)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        gNetwork = <span class="keyword">new</span> <a class="code" href="../../d8/d73/class_torc_network.html#a92de5caba3d08531ddab49aad9a9d85a">TorcNetwork</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#ad5070958fc05ebd2ebe1c5c9cf857907">gNetwork</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    gNetwork = NULL;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="../../da/d9c/torcnetwork_8cpp.html#a45af4dbf7665dbad814ff65fe3b7df49">  295</a></span>&#160;QString <a class="code" href="../../da/d9c/torcnetwork_8cpp.html#a45af4dbf7665dbad814ff65fe3b7df49">ConfigurationTypeToString</a>(QNetworkConfiguration::Type Type)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">switch</span> (Type)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">case</span> QNetworkConfiguration::InternetAccessPoint: <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;InternetAccessPoint&quot;</span>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">case</span> QNetworkConfiguration::ServiceNetwork:      <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;ServiceNetwork&quot;</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">case</span> QNetworkConfiguration::UserChoice:          <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;UserDefined&quot;</span>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">case</span> QNetworkConfiguration::Invalid:             <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;Invalid&quot;</span>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> QString();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a92de5caba3d08531ddab49aad9a9d85a">  313</a></span>&#160;<a class="code" href="../../d8/d73/class_torc_network.html#a92de5caba3d08531ddab49aad9a9d85a">TorcNetwork::TorcNetwork</a>()</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  : QNetworkAccessManager(),</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    m_online(<a class="code" href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a>),</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    m_manager(this),</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    m_configuration(),</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    m_hostNames(),</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    m_requests(),</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    m_reverseRequests(),</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    m_asynchronousRequests()</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Opening network access manager&quot;</span>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;SSL support is %1available&quot;</span>).arg(QSslSocket::supportsSsl() ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>));</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    connect(&amp;m_manager, SIGNAL(configurationAdded(<span class="keyword">const</span> QNetworkConfiguration&amp;)),</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keyword">this</span>,      SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a5b1eeaf0158fe2bcf68cfafb16da76cd">ConfigurationAdded</a>(<span class="keyword">const</span> QNetworkConfiguration&amp;)));</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    connect(&amp;m_manager, SIGNAL(configurationChanged(<span class="keyword">const</span> QNetworkConfiguration&amp;)),</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keyword">this</span>,      SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a62667190dd43930564ee64ccd05d8b33">ConfigurationChanged</a>(<span class="keyword">const</span> QNetworkConfiguration&amp;)));</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    connect(&amp;m_manager, SIGNAL(configurationRemoved(<span class="keyword">const</span> QNetworkConfiguration&amp;)),</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keyword">this</span>,      SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a18878a5e2a21592dc8018064f8f657d4">ConfigurationRemoved</a>(<span class="keyword">const</span> QNetworkConfiguration&amp;)));</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    connect(&amp;m_manager, SIGNAL(onlineStateChanged(<span class="keywordtype">bool</span>)),</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keyword">this</span>,      SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#aa764be9c0a556771dd2c29e4192edd63">OnlineStateChanged</a>(<span class="keywordtype">bool</span>)));</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    connect(&amp;m_manager, SIGNAL(updateCompleted()),</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keyword">this</span>,      SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a0970be131bc5bc2b6181bd618bbaddee">UpdateCompleted</a>()));</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/d73/class_torc_network.html#a9ea3574aeee458ffd3769d3d5f8a7c5f">NewRequest</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)),    <span class="keyword">this</span>, SLOT(GetSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/d73/class_torc_network.html#a02eacdbc49774ec457682cc37de21633">CancelRequest</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)), <span class="keyword">this</span>, SLOT(CancelSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/d73/class_torc_network.html#a139cc078086476bfa81bcb157a7835c2">PokeRequest</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)),   <span class="keyword">this</span>, SLOT(PokeSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*)));</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/d73/class_torc_network.html#a60e61bbd34eba36c9e06488a7a86e3f1">NewAsyncRequest</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*,QObject*)), <span class="keyword">this</span>, SLOT(GetAsynchronousSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*,QObject*)));</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// direct connection for authentication requests</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(authenticationRequired(QNetworkReply*,QAuthenticator*)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#ab32e43110c5bcc1e37bdb30720f8335e">Authenticate</a>(QNetworkReply*,QAuthenticator*)), Qt::DirectConnection);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// set initial state</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a040cadbec09f8e23a99ac9c9cfced44f">  349</a></span>&#160;<a class="code" href="../../d8/d73/class_torc_network.html#a040cadbec09f8e23a99ac9c9cfced44f">TorcNetwork::~TorcNetwork</a>()</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// release any outstanding requests</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#ac2137ddd75d19be6a7277e6b1cb374bb">CloseConnections</a>();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Closing network access manager&quot;</span>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">  357</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">TorcNetwork::IsOnline</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> m_online;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a58150a25e5da10432d488aa41e8cefe5">  362</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a58150a25e5da10432d488aa41e8cefe5">TorcNetwork::IsOwnAddressPriv</a>(<span class="keyword">const</span> QHostAddress &amp;Address)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> QNetworkInterface::allAddresses().contains(Address);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">void</span> TorcNetwork::GetSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>* Request)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (Request &amp;&amp; m_online)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        Request-&gt;<a class="code" href="../../d6/dad/class_torc_reference_counter.html#ac3b2e586cfe82404dfae25731ce24bbe">UpRef</a>();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">// some servers require a recognised user agent...</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>.setRawHeader(<span class="stringliteral">&quot;User-Agent&quot;</span>, <a class="code" href="../../da/da5/torcnetwork_8h.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        QNetworkReply* reply = NULL;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::GetOperation)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            reply = <span class="keyword">get</span>(Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::HeadOperation)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            reply = head(Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::PostOperation)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            reply = post(Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>, Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a34532d4b91a8c1c74156600edf319c4d">m_postData</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (!reply)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            Request-&gt;<a class="code" href="../../d6/dad/class_torc_reference_counter.html#ae166de84902f0bd7b195ac2729cf50ac">DownRef</a>();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Unknown request type&quot;</span>);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">// join the dots</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        connect(reply, SIGNAL(readyRead()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a0d9035dacc836a3a0ab91fcb50118d33">ReadyRead</a>()));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        connect(reply, SIGNAL(finished()),  <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a5ff1a81a0c9e4308da2a958cc024ecd8">Finished</a>()));</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        connect(reply, SIGNAL(downloadProgress(qint64, qint64)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#af54988d75c6279e1fd2b2e8fc492cef5">DownloadProgress</a>(qint64,qint64)));</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        connect(reply, SIGNAL(error(QNetworkReply::NetworkError)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a1685e2cb88a4ca0d83fdad6fc64ea924">Error</a>(QNetworkReply::NetworkError)));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        connect(reply, SIGNAL(sslErrors(<span class="keyword">const</span> QList&lt;QSslError&gt; &amp; )), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a47462b93f332dd2bd796aa8846b7e7d6">SSLErrors</a>(<span class="keyword">const</span> QList&lt;QSslError&gt; &amp; )));</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        m_requests.insert(reply, Request);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        m_reverseRequests.insert(Request, reply);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="keywordtype">void</span> TorcNetwork::CancelSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (m_reverseRequests.contains(Request))</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        QNetworkReply* reply = m_reverseRequests.take(Request);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#ab24a7b49bf0847b43396f7e52016b221">m_rawHeaders</a> = reply-&gt;rawHeaderPairs();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        m_requests.remove(reply);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (reply-&gt;isFinished())</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_NETWORK, LOG_DEBUG, QString(<span class="stringliteral">&quot;Deleting finished request &#39;%1&#39;&quot;</span>).arg(reply-&gt;request().url().toString()));</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Cancelling &#39;%1&#39;&quot;</span>).arg(reply-&gt;request().url().toString()));</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        reply-&gt;abort();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        reply-&gt;deleteLater();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        Request-&gt;<a class="code" href="../../d6/dad/class_torc_reference_counter.html#ae166de84902f0bd7b195ac2729cf50ac">DownRef</a>();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">if</span> (m_asynchronousRequests.contains(Request))</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            QObject *parent = m_asynchronousRequests.take(Request);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">if</span> (!QMetaObject::invokeMethod(parent, <span class="stringliteral">&quot;RequestReady&quot;</span>, Qt::AutoConnection, Q_ARG(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>*, Request)))</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Error sending RequestReady&quot;</span>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Trying to cancel unknown network request&quot;</span>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="keywordtype">void</span> TorcNetwork::PokeSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (m_reverseRequests.contains(Request))</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a086311a72c0ab89496d7e21c03daa7e0">Write</a>(m_reverseRequests.value(Request));</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keywordtype">void</span> TorcNetwork::GetAsynchronousSafe(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request, QObject *Parent)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (!Request || !Parent)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (m_asynchronousRequests.contains(Request))</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, <span class="stringliteral">&quot;Asynchronous request is already queued - ignoring&quot;</span>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> (m_online)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        m_asynchronousRequests.insert(Request, Parent);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        GetSafe(Request);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a5b1eeaf0158fe2bcf68cfafb16da76cd">  456</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a5b1eeaf0158fe2bcf68cfafb16da76cd">TorcNetwork::ConfigurationAdded</a>(<span class="keyword">const</span> QNetworkConfiguration &amp;Config)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    (void)Config;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a62667190dd43930564ee64ccd05d8b33">  462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a62667190dd43930564ee64ccd05d8b33">TorcNetwork::ConfigurationChanged</a>(<span class="keyword">const</span> QNetworkConfiguration &amp;Config)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    (void)Config;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a18878a5e2a21592dc8018064f8f657d4">  468</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a18878a5e2a21592dc8018064f8f657d4">TorcNetwork::ConfigurationRemoved</a>(<span class="keyword">const</span> QNetworkConfiguration &amp;Config)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    (void)Config;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#aa764be9c0a556771dd2c29e4192edd63">  474</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#aa764be9c0a556771dd2c29e4192edd63">TorcNetwork::OnlineStateChanged</a>(<span class="keywordtype">bool</span> Online)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    (void)Online;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a0970be131bc5bc2b6181bd618bbaddee">  480</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a0970be131bc5bc2b6181bd618bbaddee">TorcNetwork::UpdateCompleted</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">UpdateConfiguration</a>();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">  485</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">TorcNetwork::CheckHeaders</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request, QNetworkReply *Reply)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (!Request || !Reply)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    QVariant status = Reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (!status.isValid())</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordtype">int</span> httpstatus    = status.toInt();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordtype">int</span> contentlength = 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// content length</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    QVariant length = Reply-&gt;header(QNetworkRequest::ContentLengthHeader);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (length.isValid())</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordtype">int</span> size = length.toInt();</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">if</span> (size &gt; 0)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            contentlength = size;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// content type</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    QVariant contenttype = Reply-&gt;header(QNetworkRequest::ContentTypeHeader);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::HeadOperation)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// NB the following assumes the head request is checking for byte serving support</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">// some servers (yes - I&#39;m talking to you Dropbox) don&#39;t allow HEAD requests for</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// some files (secure redirections?). Furthermore they don&#39;t return a valid Allow list</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">// in the response, or in response to an OPTIONS request. We could go around in circles</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="comment">// trying to check support in a number of ways, but just cut to the chase and issue</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// a test range request (as they do actually support range requests)</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (httpstatus == <a class="code" href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fca1efae52c06c4487cb6bedb29d7309bea">HTTP_MethodNotAllowed</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="comment">// delete the reply and try again as a GET request with range</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            m_reverseRequests.remove(Request);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            m_requests.remove(Reply);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>.setUrl(Reply-&gt;request().url());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> = QNetworkAccessManager::GetOperation;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aaf4aed4e4bc16ce1cdf53a1bf1052c02">SetRange</a>(0, 10);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            Reply-&gt;abort();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            Reply-&gt;deleteLater();</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            GetSafe(Request);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            Request-&gt;<a class="code" href="../../d6/dad/class_torc_reference_counter.html#ae166de84902f0bd7b195ac2729cf50ac">DownRef</a>();</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a43037eed16f9476fd61a4a4a4261059f">m_httpStatus</a> = httpstatus;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#af1cef71b08f9747dd37a3a8eeb7f749f">m_contentLength</a> = contentlength;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a74e1165d540016e864fafbc80f0bddb1">m_contentType</a> = contenttype.isValid() ? contenttype.toString().toLower() : QString();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a27e23e8bee4a49d3eacdd4fdab3702e0">m_byteServingAvailable</a> = Reply-&gt;rawHeader(<span class="stringliteral">&quot;Accept-Ranges&quot;</span>).toLower().contains(<span class="stringliteral">&quot;bytes&quot;</span>) &amp;&amp; contentlength &gt; 0;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a2bbf8495eed9d522bdc56a8590b060f1">  541</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d73/class_torc_network.html#a2bbf8495eed9d522bdc56a8590b060f1">TorcNetwork::Redirected</a>(<a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *Request, QNetworkReply *Reply)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;{</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (!Request || !Reply)</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    QUrl newurl = Reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute).toUrl();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    QUrl oldurl = Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>.url();</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (!newurl.isEmpty() &amp;&amp; newurl != oldurl)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// redirected</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span> (newurl.isRelative())</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            newurl = oldurl.resolved(newurl);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Redirected from &#39;%1&#39; to &#39;%2&#39;&quot;</span>).arg(oldurl.toString()).arg(newurl.toString()));</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#ac616ca383d127c6bb21f9836f69fad40">m_redirectionCount</a>++ &lt; <a class="code" href="../../da/da5/torcnetwork_8h.html#aeabb737e78072b4481267071dedaee54">DEFAULT_MAX_REDIRECTIONS</a>)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="comment">// delete the reply and create a new one</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            m_reverseRequests.remove(Request);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            m_requests.remove(Reply);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            Reply-&gt;abort();</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            Reply-&gt;deleteLater();</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            Request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">m_request</a>.setUrl(newurl);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            GetSafe(Request);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            Request-&gt;<a class="code" href="../../d6/dad/class_torc_reference_counter.html#ae166de84902f0bd7b195ac2729cf50ac">DownRef</a>();</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, <span class="stringliteral">&quot;Max redirections exceeded&quot;</span>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a0d9035dacc836a3a0ab91fcb50118d33">  577</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a0d9035dacc836a3a0ab91fcb50118d33">TorcNetwork::ReadyRead</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    QNetworkReply *reply = <span class="keyword">dynamic_cast&lt;</span>QNetworkReply*<span class="keyword">&gt;</span>(sender());</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a>* request = NULL;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (reply &amp;&amp; m_requests.contains(reply) &amp;&amp; (request = m_requests.value(reply)))</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (!request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aae54eea1a16be90d96c07f562e720206">m_started</a>)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="comment">// check for redirection</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d73/class_torc_network.html#a2bbf8495eed9d522bdc56a8590b060f1">Redirected</a>(request, reply))</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="comment">// no need to check return value for GET requests</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            (void)<a class="code" href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">CheckHeaders</a>(request, reply);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="comment">// we need to set the buffer size after the download has started as Qt will ignore</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="comment">// the set value if it doesn&#39;t yet know the expected size. Not ideal...</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">if</span> (request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a5e5232208a8ed890f3dc29bcf5c006ee">m_bufferSize</a>)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                reply-&gt;setReadBufferSize(request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a5e5232208a8ed890f3dc29bcf5c006ee">m_bufferSize</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Download started&quot;</span>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aae54eea1a16be90d96c07f562e720206">m_started</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a086311a72c0ab89496d7e21c03daa7e0">Write</a>(reply);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a5ff1a81a0c9e4308da2a958cc024ecd8">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a5ff1a81a0c9e4308da2a958cc024ecd8">TorcNetwork::Finished</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    QNetworkReply *reply = <span class="keyword">dynamic_cast&lt;</span>QNetworkReply*<span class="keyword">&gt;</span>(sender());</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *request = NULL;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">if</span> (reply &amp;&amp; m_requests.contains(reply) &amp;&amp; (request = m_requests.value(reply)))</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> (request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::HeadOperation)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="comment">// head requests never trigger a read request (no content), so check redirection on completion</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d73/class_torc_network.html#a2bbf8495eed9d522bdc56a8590b060f1">Redirected</a>(request, reply))</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="comment">// a false return value indicates the request has been resent (perhaps in another form)</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">CheckHeaders</a>(request, reply))</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">m_type</a> == QNetworkAccessManager::PostOperation)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="comment">// as for head, Post ops responses may have no content and hence ReadyRead is never triggered</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="comment">// so check headers now (to set status etc)</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            (void)<a class="code" href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">CheckHeaders</a>(request, reply);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#aadb5785d0c57d6b684d8e46b74813008">m_replyFinished</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// we need to manage async requests</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span> (m_asynchronousRequests.contains(request))</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            CancelSafe(request);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a1685e2cb88a4ca0d83fdad6fc64ea924">  638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a1685e2cb88a4ca0d83fdad6fc64ea924">TorcNetwork::Error</a>(QNetworkReply::NetworkError Code)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    QNetworkReply *reply = <span class="keyword">dynamic_cast&lt;</span>QNetworkReply*<span class="keyword">&gt;</span>(sender());</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *request = NULL;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (reply &amp;&amp; m_requests.contains(reply) &amp;&amp; (request = m_requests.value(reply)) &amp;&amp; (Code != QNetworkReply::OperationCanceledError))</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a6f4e6578fbd07b8da012bd5c4cece8e5">SetReplyError</a>(Code);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_ERR, QString(<span class="stringliteral">&quot;Network error &#39;%1&#39;&quot;</span>).arg(reply-&gt;errorString()));</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#afea981874003c3efb564e34964de77fe">  650</a></span>&#160;QList&lt;QSslError&gt; <a class="code" href="../../d8/d73/class_torc_network.html#afea981874003c3efb564e34964de77fe">TorcNetwork::AllowableSslErrors</a>(<span class="keyword">const</span> QList&lt;QSslError&gt; &amp;Errors)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;{</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordtype">bool</span> selfsigned = <span class="keyword">false</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordtype">bool</span> mismatched = <span class="keyword">false</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    QSslError mismatch;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    QList&lt;QSslError&gt; allowed;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">foreach</span> (QSslError error, Errors)</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span> (error.error() == QSslError::SelfSignedCertificate)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Allowing self signed certificate&quot;</span>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            allowed &lt;&lt; error;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            selfsigned = <span class="keyword">true</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error.error() == QSslError::HostNameMismatch)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            mismatched = <span class="keyword">true</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            mismatch   = error;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Ssl Error: %1&quot;</span>).arg(error.errorString()));</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (mismatched)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> (selfsigned)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Allowing host name mismatch for self signed certfificate&quot;</span>);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            allowed &lt;&lt; mismatch;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Ssl Error: %1&quot;</span>).arg(mismatch.errorString()));</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> allowed;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a47462b93f332dd2bd796aa8846b7e7d6">  692</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a47462b93f332dd2bd796aa8846b7e7d6">TorcNetwork::SSLErrors</a>(<span class="keyword">const</span> QList&lt;QSslError&gt; &amp;Errors)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    QNetworkReply *reply = <span class="keyword">dynamic_cast&lt;</span>QNetworkReply*<span class="keyword">&gt;</span>(sender());</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">if</span> (reply)</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        QList&lt;QSslError&gt; allowed = <a class="code" href="../../d8/d73/class_torc_network.html#afea981874003c3efb564e34964de77fe">TorcNetwork::AllowableSslErrors</a>(Errors);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span> (!allowed.isEmpty())</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            reply-&gt;ignoreSslErrors(<a class="code" href="../../d8/d73/class_torc_network.html#afea981874003c3efb564e34964de77fe">TorcNetwork::AllowableSslErrors</a>(Errors));</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#af54988d75c6279e1fd2b2e8fc492cef5">  703</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#af54988d75c6279e1fd2b2e8fc492cef5">TorcNetwork::DownloadProgress</a>(qint64 Received, qint64 Total)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    QNetworkReply *reply = <span class="keyword">dynamic_cast&lt;</span>QNetworkReply*<span class="keyword">&gt;</span>(sender());</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a> *request = NULL;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (reply &amp;&amp; m_requests.contains(reply) &amp;&amp; (request = m_requests.value(reply)))</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        request-&gt;<a class="code" href="../../d3/ded/class_torc_network_request.html#a4479ea5993e92040f408f485e16cd9ac">DownloadProgress</a>(Received, Total);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#ab32e43110c5bcc1e37bdb30720f8335e">  712</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#ab32e43110c5bcc1e37bdb30720f8335e">TorcNetwork::Authenticate</a>(QNetworkReply *Reply, QAuthenticator *Authenticator)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    (void)Reply;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    (void)Authenticator;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Authentication required&quot;</span>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a060c767fbc3fc7b4fad0107f2d363498">  720</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a060c767fbc3fc7b4fad0107f2d363498">TorcNetwork::NewHostName</a>(<span class="keyword">const</span> QHostInfo &amp;Info)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (!Info.hostName().isEmpty())</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        m_hostNames.append(Info.hostName());</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="../../d8/d73/class_torc_network.html#a2621c859447922438e43819f71ecf380">AddHostName</a>(Info.hostName());</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#ac2137ddd75d19be6a7277e6b1cb374bb">  740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#ac2137ddd75d19be6a7277e6b1cb374bb">TorcNetwork::CloseConnections</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (!m_requests.isEmpty())</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_WARNING, QString(<span class="stringliteral">&quot;%1 outstanding network requests&quot;</span>).arg(m_requests.size()));</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">while</span> (!m_requests.isEmpty())</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        CancelSafe(*m_requests.begin());</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    m_requests.clear();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    m_reverseRequests.clear();</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    m_asynchronousRequests.clear();</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">  753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">TorcNetwork::UpdateConfiguration</a>(<span class="keywordtype">bool</span> Creating)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    QNetworkConfiguration configuration = m_manager.defaultConfiguration();</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordtype">bool</span> wasonline = m_online;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (configuration != m_configuration || Creating)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        m_configuration = configuration;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">if</span> (m_configuration.isValid())</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Network interface: %1 Bearer: %2&quot;</span>).arg(configuration.name()).arg(configuration.bearerTypeName()));</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            m_online = <span class="keyword">true</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;No valid network connection&quot;</span>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            m_online = <span class="keyword">false</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (m_online &amp;&amp; !wasonline)</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a>(<a class="code" href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473a5154ecec904db653a391442a7ee99df3">Torc::NetworkAvailable</a>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        QStringList addresses;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        QList&lt;QHostAddress&gt; entries = QNetworkInterface::allAddresses();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">foreach</span> (QHostAddress entry, entries)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            QString address = entry.toString();</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            addresses &lt;&lt; address;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            QHostInfo::lookupHost(address, <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/d73/class_torc_network.html#a060c767fbc3fc7b4fad0107f2d363498">NewHostName</a>(QHostInfo)));</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, QString(<span class="stringliteral">&quot;Network up (%1)&quot;</span>).arg(addresses.join(<span class="stringliteral">&quot;, &quot;</span>)));</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wasonline &amp;&amp; !m_online)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Network down&quot;</span>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="../../d8/d73/class_torc_network.html#ac2137ddd75d19be6a7277e6b1cb374bb">CloseConnections</a>();</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a>(<a class="code" href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473af8c2e5445befd829a232aac0c257c3a3">Torc::NetworkUnavailable</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">foreach</span> (QString host, m_hostNames)</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <a class="code" href="../../d8/d73/class_torc_network.html#a45672a9689c18dbe79ced3b04b515770">RemoveHostName</a>(host);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        m_hostNames = QStringList();</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (changed)</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <a class="code" href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a>(VB_GENERAL, LOG_INFO, <span class="stringliteral">&quot;Network configuration changed&quot;</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a>(<a class="code" href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473ab06b1b5272ccc71a4f82453c5f6c984e">Torc::NetworkChanged</a>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="../../da/dc5/class_torc_network_object.html">  811</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/dc5/class_torc_network_object.html">TorcNetworkObject</a> : <span class="keyword">public</span> <a class="code" href="../../d4/d75/class_torc_admin_object.html">TorcAdminObject</a></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="../../da/dc5/class_torc_network_object.html#a0c12fd31077fc703c0a09bcfc4f3694a">  814</a></span>&#160;    <a class="code" href="../../da/dc5/class_torc_network_object.html#a0c12fd31077fc703c0a09bcfc4f3694a">TorcNetworkObject</a>()</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      : <a class="code" href="../../d4/d75/class_torc_admin_object.html">TorcAdminObject</a>(<a class="code" href="../../dd/dd5/torcadminthread_8h.html#a459102d750996d725be76c1196f0ebdc">TORC_ADMIN_CRIT_PRIORITY</a>)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        qRegisterMetaType&lt;TorcNetworkRequest*&gt;();</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        qRegisterMetaType&lt;QNetworkReply*&gt;();</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="../../da/dc5/class_torc_network_object.html#a4a29de70acf41b86ca6d17946a1b744d">  821</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/dc5/class_torc_network_object.html#a4a29de70acf41b86ca6d17946a1b744d">Create</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="comment">// always create the network object to at least monitor network state.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="comment">// if access is disallowed, it will be made inaccessible.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="../../d8/d73/class_torc_network.html#a9210314815b6194d50b1aed3526faa7f">TorcNetwork::Setup</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="../../da/dc5/class_torc_network_object.html#a5b30dc5fb483c71ebb4d9931f0deeab7">  828</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/dc5/class_torc_network_object.html#a5b30dc5fb483c71ebb4d9931f0deeab7">Destroy</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="../../d8/d73/class_torc_network.html#a9210314815b6194d50b1aed3526faa7f">TorcNetwork::Setup</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;} <a class="code" href="../../d8/d73/class_torc_network.html#a182b4cb039dca59061aa07dd8a5f1d17">TorcNetworkObject</a>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="ttc" id="class_torc_network_request_html_ac616ca383d127c6bb21f9836f69fad40"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#ac616ca383d127c6bb21f9836f69fad40">TorcNetworkRequest::m_redirectionCount</a></div><div class="ttdeci">int m_redirectionCount</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00061">torcnetworkrequest.h:61</a></div></div>
<div class="ttc" id="torcnetwork_8h_html_aa6407b49b77c8e44dc330223aa3be9a0"><div class="ttname"><a href="../../da/da5/torcnetwork_8h.html#aa6407b49b77c8e44dc330223aa3be9a0">DEFAULT_USER_AGENT</a></div><div class="ttdeci">#define DEFAULT_USER_AGENT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/torcnetwork_8h_source.html#l00018">torcnetwork.h:18</a></div></div>
<div class="ttc" id="class_torc_network_html_a62667190dd43930564ee64ccd05d8b33"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a62667190dd43930564ee64ccd05d8b33">TorcNetwork::ConfigurationChanged</a></div><div class="ttdeci">void ConfigurationChanged(const QNetworkConfiguration &amp;Config)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00462">torcnetwork.cpp:462</a></div></div>
<div class="ttc" id="class_torc_network_html_a60e61bbd34eba36c9e06488a7a86e3f1"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a60e61bbd34eba36c9e06488a7a86e3f1">TorcNetwork::NewAsyncRequest</a></div><div class="ttdeci">void NewAsyncRequest(TorcNetworkRequest *Request, QObject *Parent)</div></div>
<div class="ttc" id="class_torc_network_html_a02eacdbc49774ec457682cc37de21633"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a02eacdbc49774ec457682cc37de21633">TorcNetwork::CancelRequest</a></div><div class="ttdeci">void CancelRequest(TorcNetworkRequest *Request)</div></div>
<div class="ttc" id="class_torc_network_request_html_aae54eea1a16be90d96c07f562e720206"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#aae54eea1a16be90d96c07f562e720206">TorcNetworkRequest::m_started</a></div><div class="ttdeci">bool m_started</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00050">torcnetworkrequest.h:50</a></div></div>
<div class="ttc" id="class_torc_network_html_a9210314815b6194d50b1aed3526faa7f"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a9210314815b6194d50b1aed3526faa7f">TorcNetwork::Setup</a></div><div class="ttdeci">static void Setup(bool Create)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00271">torcnetwork.cpp:271</a></div></div>
<div class="ttc" id="torclocalcontext_8cpp_html_a071080a60a9799e8b9609cb8898ef14f"><div class="ttname"><a href="../../da/d67/torclocalcontext_8cpp.html#a071080a60a9799e8b9609cb8898ef14f">gLocalContext</a></div><div class="ttdeci">TorcLocalContext * gLocalContext</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d67/torclocalcontext_8cpp_source.html#l00047">torclocalcontext.cpp:47</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a6f4e6578fbd07b8da012bd5c4cece8e5"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a6f4e6578fbd07b8da012bd5c4cece8e5">TorcNetworkRequest::SetReplyError</a></div><div class="ttdeci">void SetReplyError(QNetworkReply::NetworkError Error)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcb/torcnetworkrequest_8cpp_source.html#l00392">torcnetworkrequest.cpp:392</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ad5070958fc05ebd2ebe1c5c9cf857907"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ad5070958fc05ebd2ebe1c5c9cf857907">gNetwork</a></div><div class="ttdeci">TorcNetwork * gNetwork</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00031">torcnetwork.cpp:31</a></div></div>
<div class="ttc" id="class_torc_reference_counter_html_ac3b2e586cfe82404dfae25731ce24bbe"><div class="ttname"><a href="../../d6/dad/class_torc_reference_counter.html#ac3b2e586cfe82404dfae25731ce24bbe">TorcReferenceCounter::UpRef</a></div><div class="ttdeci">void UpRef(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/torcreferencecounted_8cpp_source.html#l00050">torcreferencecounted.cpp:50</a></div></div>
<div class="ttc" id="class_torc_network_html_a0c4a187dbfc0007123adc02c0b8b3c22"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a0c4a187dbfc0007123adc02c0b8b3c22">TorcNetwork::UpdateConfiguration</a></div><div class="ttdeci">void UpdateConfiguration(bool Creating=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00753">torcnetwork.cpp:753</a></div></div>
<div class="ttc" id="torchttprequest_8h_html"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html">torchttprequest.h</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a74e1165d540016e864fafbc80f0bddb1"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a74e1165d540016e864fafbc80f0bddb1">TorcNetworkRequest::m_contentType</a></div><div class="ttdeci">QString m_contentType</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00082">torcnetworkrequest.h:82</a></div></div>
<div class="ttc" id="class_torc_admin_object_html"><div class="ttname"><a href="../../d4/d75/class_torc_admin_object.html">TorcAdminObject</a></div><div class="ttdoc">A factory class for automatically running objects outside of the main loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/torcadminthread_8h_source.html#l00028">torcadminthread.h:28</a></div></div>
<div class="ttc" id="class_torc_network_request_html"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html">TorcNetworkRequest</a></div><div class="ttdoc">A wrapper around QNetworkRequest. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00010">torcnetworkrequest.h:10</a></div></div>
<div class="ttc" id="class_torc_network_html_a85aa66ee263f16d0ce6b74b88d539afa"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a85aa66ee263f16d0ce6b74b88d539afa">TorcNetwork::GetAsynchronous</a></div><div class="ttdeci">static bool GetAsynchronous(TorcNetworkRequest *Request, QObject *Parent)</div><div class="ttdoc">Queue an asynchronous HTTP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00094">torcnetwork.cpp:94</a></div></div>
<div class="ttc" id="class_torc_network_html_a18878a5e2a21592dc8018064f8f657d4"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a18878a5e2a21592dc8018064f8f657d4">TorcNetwork::ConfigurationRemoved</a></div><div class="ttdeci">void ConfigurationRemoved(const QNetworkConfiguration &amp;Config)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00468">torcnetwork.cpp:468</a></div></div>
<div class="ttc" id="torcadminthread_8h_html"><div class="ttname"><a href="../../dd/dd5/torcadminthread_8h.html">torcadminthread.h</a></div></div>
<div class="ttc" id="class_torc_network_html_a5d2e1bf5198dd9bec4b3a881d40b3c2d"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a5d2e1bf5198dd9bec4b3a881d40b3c2d">TorcNetwork::GetHostNames</a></div><div class="ttdeci">static QStringList GetHostNames(void)</div><div class="ttdoc">Retrieve the list of currently identified host names. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00183">torcnetwork.cpp:183</a></div></div>
<div class="ttc" id="class_torc_network_html_a4ce7f625cf153e5e7b07434ed688dbea"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a4ce7f625cf153e5e7b07434ed688dbea">TorcNetwork::IsGlobal</a></div><div class="ttdeci">static bool IsGlobal(const QHostAddress &amp;Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00258">torcnetwork.cpp:258</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a6c157051c7e0ef5d01fbd16ca1beeb47"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a6c157051c7e0ef5d01fbd16ca1beeb47">TorcNetworkRequest::m_type</a></div><div class="ttdeci">QNetworkAccessManager::Operation m_type</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00048">torcnetworkrequest.h:48</a></div></div>
<div class="ttc" id="class_torc_network_html_a97321aa2f3ccde2ae513cca94b277a85"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a97321aa2f3ccde2ae513cca94b277a85">TorcNetwork::IPAddressToLiteral</a></div><div class="ttdeci">static QString IPAddressToLiteral(const QHostAddress &amp;Address, int Port, bool UseLocalhost=true)</div><div class="ttdoc">Convert an IP address to a string literal. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00196">torcnetwork.cpp:196</a></div></div>
<div class="ttc" id="class_torc_network_html_a0970be131bc5bc2b6181bd618bbaddee"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a0970be131bc5bc2b6181bd618bbaddee">TorcNetwork::UpdateCompleted</a></div><div class="ttdeci">void UpdateCompleted(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00480">torcnetwork.cpp:480</a></div></div>
<div class="ttc" id="torcadminthread_8h_html_a459102d750996d725be76c1196f0ebdc"><div class="ttname"><a href="../../dd/dd5/torcadminthread_8h.html#a459102d750996d725be76c1196f0ebdc">TORC_ADMIN_CRIT_PRIORITY</a></div><div class="ttdeci">#define TORC_ADMIN_CRIT_PRIORITY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/torcadminthread_8h_source.html#l00023">torcadminthread.h:23</a></div></div>
<div class="ttc" id="class_torc_network_html_a63a043981858567c24cd286fe8f77e11"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a63a043981858567c24cd286fe8f77e11">TorcNetwork::IsAvailable</a></div><div class="ttdeci">static bool IsAvailable(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00046">torcnetwork.cpp:46</a></div></div>
<div class="ttc" id="class_torc_reference_counter_html_ae166de84902f0bd7b195ac2729cf50ac"><div class="ttname"><a href="../../d6/dad/class_torc_reference_counter.html#ae166de84902f0bd7b195ac2729cf50ac">TorcReferenceCounter::DownRef</a></div><div class="ttdeci">virtual bool DownRef(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/torcreferencecounted_8cpp_source.html#l00055">torcreferencecounted.cpp:55</a></div></div>
<div class="ttc" id="torclogging_8h_html"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html">torclogging.h</a></div></div>
<div class="ttc" id="class_torc_network_html_a58150a25e5da10432d488aa41e8cefe5"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a58150a25e5da10432d488aa41e8cefe5">TorcNetwork::IsOwnAddressPriv</a></div><div class="ttdeci">bool IsOwnAddressPriv(const QHostAddress &amp;Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00362">torcnetwork.cpp:362</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ab4719758272550cd19d3a6ba8b627397"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ab4719758272550cd19d3a6ba8b627397">gIPv4PrivateA</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv4PrivateA</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00037">torcnetwork.cpp:37</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a34532d4b91a8c1c74156600edf319c4d"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a34532d4b91a8c1c74156600edf319c4d">TorcNetworkRequest::m_postData</a></div><div class="ttdeci">const QByteArray m_postData</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00066">torcnetworkrequest.h:66</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a43037eed16f9476fd61a4a4a4261059f"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a43037eed16f9476fd61a4a4a4261059f">TorcNetworkRequest::m_httpStatus</a></div><div class="ttdeci">int m_httpStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00080">torcnetworkrequest.h:80</a></div></div>
<div class="ttc" id="class_torc_local_context_html_a187e1bdfa280592b30393cfa8ed5cd92"><div class="ttname"><a href="../../d7/d17/class_torc_local_context.html#a187e1bdfa280592b30393cfa8ed5cd92">TorcLocalContext::NotifyEvent</a></div><div class="ttdeci">static void NotifyEvent(int Event)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d67/torclocalcontext_8cpp_source.html#l00121">torclocalcontext.cpp:121</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ac926d1bed91deec99f1eb9f8390c957e"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ac926d1bed91deec99f1eb9f8390c957e">gIPv6Global</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv6Global</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00044">torcnetwork.cpp:44</a></div></div>
<div class="ttc" id="class_torc_network_html_a83f7b3d973cabf01f4c019898bfed6dc"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a83f7b3d973cabf01f4c019898bfed6dc">TorcNetwork::IsOnline</a></div><div class="ttdeci">bool IsOnline(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00357">torcnetwork.cpp:357</a></div></div>
<div class="ttc" id="class_torc_network_html_a5b1eeaf0158fe2bcf68cfafb16da76cd"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a5b1eeaf0158fe2bcf68cfafb16da76cd">TorcNetwork::ConfigurationAdded</a></div><div class="ttdeci">void ConfigurationAdded(const QNetworkConfiguration &amp;Config)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00456">torcnetwork.cpp:456</a></div></div>
<div class="ttc" id="class_torc_network_html_afea981874003c3efb564e34964de77fe"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#afea981874003c3efb564e34964de77fe">TorcNetwork::AllowableSslErrors</a></div><div class="ttdeci">static QList&lt; QSslError &gt; AllowableSslErrors(const QList&lt; QSslError &gt; &amp;Errors)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00650">torcnetwork.cpp:650</a></div></div>
<div class="ttc" id="class_torc_network_html_a2621c859447922438e43819f71ecf380"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a2621c859447922438e43819f71ecf380">TorcNetwork::AddHostName</a></div><div class="ttdeci">static void AddHostName(const QString &amp;Host)</div><div class="ttdoc">Register a known host name for this application. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00131">torcnetwork.cpp:131</a></div></div>
<div class="ttc" id="class_torc_network_html_a92de5caba3d08531ddab49aad9a9d85a"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a92de5caba3d08531ddab49aad9a9d85a">TorcNetwork::TorcNetwork</a></div><div class="ttdeci">TorcNetwork()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00313">torcnetwork.cpp:313</a></div></div>
<div class="ttc" id="torccoreutils_8h_html"><div class="ttname"><a href="../../d1/d49/torccoreutils_8h.html">torccoreutils.h</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a634250618305e4901f9d043ea3340be9"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a634250618305e4901f9d043ea3340be9">gIPv6LinkLocal</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv6LinkLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00041">torcnetwork.cpp:41</a></div></div>
<div class="ttc" id="class_torc_network_object_html_a5b30dc5fb483c71ebb4d9931f0deeab7"><div class="ttname"><a href="../../da/dc5/class_torc_network_object.html#a5b30dc5fb483c71ebb4d9931f0deeab7">TorcNetworkObject::Destroy</a></div><div class="ttdeci">void Destroy(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00828">torcnetwork.cpp:828</a></div></div>
<div class="ttc" id="class_torc_html_ae24951db8926b98a75762aef8448e473ab06b1b5272ccc71a4f82453c5f6c984e"><div class="ttname"><a href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473ab06b1b5272ccc71a4f82453c5f6c984e">Torc::NetworkChanged</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/torclocalcontext_8h_source.html#l00059">torclocalcontext.h:59</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a27e23e8bee4a49d3eacdd4fdab3702e0"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a27e23e8bee4a49d3eacdd4fdab3702e0">TorcNetworkRequest::m_byteServingAvailable</a></div><div class="ttdeci">bool m_byteServingAvailable</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00083">torcnetworkrequest.h:83</a></div></div>
<div class="ttc" id="torchttprequest_8h_html_a01340bcc9cce6aa1d156bd0468c708fca1efae52c06c4487cb6bedb29d7309bea"><div class="ttname"><a href="../../df/dd7/torchttprequest_8h.html#a01340bcc9cce6aa1d156bd0468c708fca1efae52c06c4487cb6bedb29d7309bea">HTTP_MethodNotAllowed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd7/torchttprequest_8h_source.html#l00076">torchttprequest.h:76</a></div></div>
<div class="ttc" id="class_torc_html_ae24951db8926b98a75762aef8448e473a5ef3eb5700f836924874a4179756ee3c"><div class="ttname"><a href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473a5ef3eb5700f836924874a4179756ee3c">Torc::NetworkHostNamesChanged</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/torclocalcontext_8h_source.html#l00060">torclocalcontext.h:60</a></div></div>
<div class="ttc" id="class_torc_network_html_a139cc078086476bfa81bcb157a7835c2"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a139cc078086476bfa81bcb157a7835c2">TorcNetwork::PokeRequest</a></div><div class="ttdeci">void PokeRequest(TorcNetworkRequest *Request)</div></div>
<div class="ttc" id="class_torc_network_html_a2bbf8495eed9d522bdc56a8590b060f1"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a2bbf8495eed9d522bdc56a8590b060f1">TorcNetwork::Redirected</a></div><div class="ttdeci">bool Redirected(TorcNetworkRequest *Request, QNetworkReply *Reply)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00541">torcnetwork.cpp:541</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ab5d3e848ce1ca4a3c79bffca5060c99e"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ab5d3e848ce1ca4a3c79bffca5060c99e">gNetworkHostNames</a></div><div class="ttdeci">QStringList gNetworkHostNames</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00033">torcnetwork.cpp:33</a></div></div>
<div class="ttc" id="class_torc_network_html_a50f0913259a1ad5a0f6c3faafeebd609"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a50f0913259a1ad5a0f6c3faafeebd609">TorcNetwork::IsLinkLocal</a></div><div class="ttdeci">static bool IsLinkLocal(const QHostAddress &amp;Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00229">torcnetwork.cpp:229</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a688d775ee1ffecd253eaed97ec9588a4"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a688d775ee1ffecd253eaed97ec9588a4">gIPv6UniqueLocal</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv6UniqueLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00043">torcnetwork.cpp:43</a></div></div>
<div class="ttc" id="class_torc_network_html_ab32e43110c5bcc1e37bdb30720f8335e"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#ab32e43110c5bcc1e37bdb30720f8335e">TorcNetwork::Authenticate</a></div><div class="ttdeci">void Authenticate(QNetworkReply *Reply, QAuthenticator *Authenticator)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00712">torcnetwork.cpp:712</a></div></div>
<div class="ttc" id="torcnetwork_8h_html_aeabb737e78072b4481267071dedaee54"><div class="ttname"><a href="../../da/da5/torcnetwork_8h.html#aeabb737e78072b4481267071dedaee54">DEFAULT_MAX_REDIRECTIONS</a></div><div class="ttdeci">#define DEFAULT_MAX_REDIRECTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/torcnetwork_8h_source.html#l00017">torcnetwork.h:17</a></div></div>
<div class="ttc" id="class_torc_network_html_af54988d75c6279e1fd2b2e8fc492cef5"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#af54988d75c6279e1fd2b2e8fc492cef5">TorcNetwork::DownloadProgress</a></div><div class="ttdeci">void DownloadProgress(qint64 Received, qint64 Total)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00703">torcnetwork.cpp:703</a></div></div>
<div class="ttc" id="class_torc_network_request_html_af1cef71b08f9747dd37a3a8eeb7f749f"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#af1cef71b08f9747dd37a3a8eeb7f749f">TorcNetworkRequest::m_contentLength</a></div><div class="ttdeci">qint64 m_contentLength</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00081">torcnetworkrequest.h:81</a></div></div>
<div class="ttc" id="class_torc_html_ae24951db8926b98a75762aef8448e473af8c2e5445befd829a232aac0c257c3a3"><div class="ttname"><a href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473af8c2e5445befd829a232aac0c257c3a3">Torc::NetworkUnavailable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/torclocalcontext_8h_source.html#l00058">torclocalcontext.h:58</a></div></div>
<div class="ttc" id="class_torc_network_html_a0d9035dacc836a3a0ab91fcb50118d33"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a0d9035dacc836a3a0ab91fcb50118d33">TorcNetwork::ReadyRead</a></div><div class="ttdeci">void ReadyRead(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00577">torcnetwork.cpp:577</a></div></div>
<div class="ttc" id="class_torc_network_html_a040cadbec09f8e23a99ac9c9cfced44f"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a040cadbec09f8e23a99ac9c9cfced44f">TorcNetwork::~TorcNetwork</a></div><div class="ttdeci">virtual ~TorcNetwork()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00349">torcnetwork.cpp:349</a></div></div>
<div class="ttc" id="class_torc_network_request_html_ab24a7b49bf0847b43396f7e52016b221"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#ab24a7b49bf0847b43396f7e52016b221">TorcNetworkRequest::m_rawHeaders</a></div><div class="ttdeci">QList&lt; QNetworkReply::RawHeaderPair &gt; m_rawHeaders</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00073">torcnetworkrequest.h:73</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_aa717d67381cda43fe05782b1aeec4eea"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#aa717d67381cda43fe05782b1aeec4eea">gIPv4PrivateB</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv4PrivateB</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00038">torcnetwork.cpp:38</a></div></div>
<div class="ttc" id="class_torc_network_request_html_aee4a6037863c2799c8ac4a24cfea8149"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#aee4a6037863c2799c8ac4a24cfea8149">TorcNetworkRequest::m_request</a></div><div class="ttdeci">QNetworkRequest m_request</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00077">torcnetworkrequest.h:77</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a45af4dbf7665dbad814ff65fe3b7df49"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a45af4dbf7665dbad814ff65fe3b7df49">ConfigurationTypeToString</a></div><div class="ttdeci">QString ConfigurationTypeToString(QNetworkConfiguration::Type Type)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00295">torcnetwork.cpp:295</a></div></div>
<div class="ttc" id="torcloggingdefs_8h_html_a93519f65dd0ef21fc5be0c286a833ae4"><div class="ttname"><a href="../../d1/d37/torcloggingdefs_8h.html#a93519f65dd0ef21fc5be0c286a833ae4">false</a></div><div class="ttdeci">VERBOSE_PREAMBLE General info Playback related messages File and AutoExpire related messages Network protocol related messages Audio related messages JobQueue related messages EIT related messages DSMCC carousel related messages UPnP debugging messages xmltv output and related messages Media Manager debugging messages External executable related messages false</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/torcloggingdefs_8h_source.html#l00110">torcloggingdefs.h:110</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a4479ea5993e92040f408f485e16cd9ac"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a4479ea5993e92040f408f485e16cd9ac">TorcNetworkRequest::DownloadProgress</a></div><div class="ttdeci">void DownloadProgress(qint64 Received, qint64 Total)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcb/torcnetworkrequest_8cpp_source.html#l00349">torcnetworkrequest.cpp:349</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a086311a72c0ab89496d7e21c03daa7e0"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a086311a72c0ab89496d7e21c03daa7e0">TorcNetworkRequest::Write</a></div><div class="ttdeci">void Write(QNetworkReply *Reply)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcb/torcnetworkrequest_8cpp_source.html#l00287">torcnetworkrequest.cpp:287</a></div></div>
<div class="ttc" id="class_torc_network_html_abfa4272255a3ef40373868c06c7479af"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#abfa4272255a3ef40373868c06c7479af">TorcNetwork::IsExternal</a></div><div class="ttdeci">static bool IsExternal(const QHostAddress &amp;Address)</div><div class="ttdoc">Returns true if the address is accessible from other devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00222">torcnetwork.cpp:222</a></div></div>
<div class="ttc" id="class_torc_network_html_a182b4cb039dca59061aa07dd8a5f1d17"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a182b4cb039dca59061aa07dd8a5f1d17">TorcNetwork::TorcNetworkObject</a></div><div class="ttdeci">friend class TorcNetworkObject</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/torcnetwork_8h_source.html#l00024">torcnetwork.h:24</a></div></div>
<div class="ttc" id="torcnetwork_8h_html"><div class="ttname"><a href="../../da/da5/torcnetwork_8h.html">torcnetwork.h</a></div></div>
<div class="ttc" id="class_torc_network_object_html_a0c12fd31077fc703c0a09bcfc4f3694a"><div class="ttname"><a href="../../da/dc5/class_torc_network_object.html#a0c12fd31077fc703c0a09bcfc4f3694a">TorcNetworkObject::TorcNetworkObject</a></div><div class="ttdeci">TorcNetworkObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00814">torcnetwork.cpp:814</a></div></div>
<div class="ttc" id="class_torc_network_html_a9ea3574aeee458ffd3769d3d5f8a7c5f"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a9ea3574aeee458ffd3769d3d5f8a7c5f">TorcNetwork::NewRequest</a></div><div class="ttdeci">void NewRequest(TorcNetworkRequest *Request)</div></div>
<div class="ttc" id="class_torc_network_html_a47462b93f332dd2bd796aa8846b7e7d6"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a47462b93f332dd2bd796aa8846b7e7d6">TorcNetwork::SSLErrors</a></div><div class="ttdeci">void SSLErrors(const QList&lt; QSslError &gt; &amp;Errors)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00692">torcnetwork.cpp:692</a></div></div>
<div class="ttc" id="class_torc_network_html_a00b8a9893069d128e2d6109b569d5d42"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a00b8a9893069d128e2d6109b569d5d42">TorcNetwork::CheckHeaders</a></div><div class="ttdeci">bool CheckHeaders(TorcNetworkRequest *Request, QNetworkReply *Reply)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00485">torcnetwork.cpp:485</a></div></div>
<div class="ttc" id="class_torc_network_html_a1bddd71d6afc8364587762dc28585f56"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a1bddd71d6afc8364587762dc28585f56">TorcNetwork::Poke</a></div><div class="ttdeci">static void Poke(TorcNetworkRequest *Request)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00080">torcnetwork.cpp:80</a></div></div>
<div class="ttc" id="class_torc_network_request_html_aadb5785d0c57d6b684d8e46b74813008"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#aadb5785d0c57d6b684d8e46b74813008">TorcNetworkRequest::m_replyFinished</a></div><div class="ttdeci">bool m_replyFinished</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00069">torcnetworkrequest.h:69</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a9105249b3d712e2ff819e0fe30dccd8a"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a9105249b3d712e2ff819e0fe30dccd8a">gNetworkHostNamesLock</a></div><div class="ttdeci">QReadWriteLock * gNetworkHostNamesLock</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00034">torcnetwork.cpp:34</a></div></div>
<div class="ttc" id="class_torc_network_html_a1685e2cb88a4ca0d83fdad6fc64ea924"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a1685e2cb88a4ca0d83fdad6fc64ea924">TorcNetwork::Error</a></div><div class="ttdeci">void Error(QNetworkReply::NetworkError Code)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00638">torcnetwork.cpp:638</a></div></div>
<div class="ttc" id="class_torc_network_html"><div class="ttname"><a href="../../d8/d73/class_torc_network.html">TorcNetwork</a></div><div class="ttdoc">Subclass of QNetworkAccessManager for sending network requests and monitoring the network state...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/torcnetwork_8h_source.html#l00022">torcnetwork.h:22</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ae8d1a82268a8c1aced1462f5655f3df5"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ae8d1a82268a8c1aced1462f5655f3df5">gIPv4PrivateC</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv4PrivateC</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00039">torcnetwork.cpp:39</a></div></div>
<div class="ttc" id="class_torc_network_html_ae0a866ec6804a8c72cb5194449af0cfc"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#ae0a866ec6804a8c72cb5194449af0cfc">TorcNetwork::Cancel</a></div><div class="ttdeci">static void Cancel(TorcNetworkRequest *Request)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00073">torcnetwork.cpp:73</a></div></div>
<div class="ttc" id="class_torc_network_html_a5ff1a81a0c9e4308da2a958cc024ecd8"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a5ff1a81a0c9e4308da2a958cc024ecd8">TorcNetwork::Finished</a></div><div class="ttdeci">void Finished(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00606">torcnetwork.cpp:606</a></div></div>
<div class="ttc" id="class_torc_network_html_a35ab60c3ccccedc34a81b13026569763"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a35ab60c3ccccedc34a81b13026569763">TorcNetwork::Get</a></div><div class="ttdeci">static bool Get(TorcNetworkRequest *Request)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00060">torcnetwork.cpp:60</a></div></div>
<div class="ttc" id="class_torc_network_request_html_a5e5232208a8ed890f3dc29bcf5c006ee"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#a5e5232208a8ed890f3dc29bcf5c006ee">TorcNetworkRequest::m_bufferSize</a></div><div class="ttdeci">int m_bufferSize</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/torcnetworkrequest_8h_source.html#l00056">torcnetworkrequest.h:56</a></div></div>
<div class="ttc" id="class_torc_network_html_a50d350c643dd26f3a5d53f0bc63c5327"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a50d350c643dd26f3a5d53f0bc63c5327">TorcNetwork::IsOwnAddress</a></div><div class="ttdeci">static bool IsOwnAddress(const QHostAddress &amp;Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00053">torcnetwork.cpp:53</a></div></div>
<div class="ttc" id="class_torc_network_html_ac2137ddd75d19be6a7277e6b1cb374bb"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#ac2137ddd75d19be6a7277e6b1cb374bb">TorcNetwork::CloseConnections</a></div><div class="ttdeci">void CloseConnections(void)</div><div class="ttdoc">Cancel all current network requests. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00740">torcnetwork.cpp:740</a></div></div>
<div class="ttc" id="class_torc_network_object_html_a4a29de70acf41b86ca6d17946a1b744d"><div class="ttname"><a href="../../da/dc5/class_torc_network_object.html#a4a29de70acf41b86ca6d17946a1b744d">TorcNetworkObject::Create</a></div><div class="ttdeci">void Create(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00821">torcnetwork.cpp:821</a></div></div>
<div class="ttc" id="class_torc_html_ae24951db8926b98a75762aef8448e473a5154ecec904db653a391442a7ee99df3"><div class="ttname"><a href="../../d6/db6/class_torc.html#ae24951db8926b98a75762aef8448e473a5154ecec904db653a391442a7ee99df3">Torc::NetworkAvailable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/torclocalcontext_8h_source.html#l00057">torclocalcontext.h:57</a></div></div>
<div class="ttc" id="torclocalcontext_8h_html"><div class="ttname"><a href="../../dd/dbd/torclocalcontext_8h.html">torclocalcontext.h</a></div></div>
<div class="ttc" id="class_torc_network_html_a45672a9689c18dbe79ced3b04b515770"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a45672a9689c18dbe79ced3b04b515770">TorcNetwork::RemoveHostName</a></div><div class="ttdeci">static void RemoveHostName(const QString &amp;Host)</div><div class="ttdoc">Remove a host name from the known list of host names. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00159">torcnetwork.cpp:159</a></div></div>
<div class="ttc" id="class_torc_network_html_aa764be9c0a556771dd2c29e4192edd63"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#aa764be9c0a556771dd2c29e4192edd63">TorcNetwork::OnlineStateChanged</a></div><div class="ttdeci">void OnlineStateChanged(bool Online)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00474">torcnetwork.cpp:474</a></div></div>
<div class="ttc" id="torclogging_8h_html_a73a147108bf0df6442820b82b022ef94"><div class="ttname"><a href="../../d4/df9/torclogging_8h.html#a73a147108bf0df6442820b82b022ef94">LOG</a></div><div class="ttdeci">#define LOG(_MASK_, _LEVEL_, _FORMAT_,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df9/torclogging_8h_source.html#l00031">torclogging.h:31</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a8a7e02407157ef77b049dff0a312bf8c"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a8a7e02407157ef77b049dff0a312bf8c">gIPv4LinkLocal</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv4LinkLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00036">torcnetwork.cpp:36</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_ae913f00a1c0f44c734aab1478de40ec0"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#ae913f00a1c0f44c734aab1478de40ec0">gIPv6SiteLocal</a></div><div class="ttdeci">QPair&lt; QHostAddress, int &gt; gIPv6SiteLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00042">torcnetwork.cpp:42</a></div></div>
<div class="ttc" id="torcnetwork_8cpp_html_a97c67933e644b137e8b43f6c1e5f686c"><div class="ttname"><a href="../../da/d9c/torcnetwork_8cpp.html#a97c67933e644b137e8b43f6c1e5f686c">gNetworkLock</a></div><div class="ttdeci">QMutex * gNetworkLock</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00032">torcnetwork.cpp:32</a></div></div>
<div class="ttc" id="class_torc_network_object_html"><div class="ttname"><a href="../../da/dc5/class_torc_network_object.html">TorcNetworkObject</a></div><div class="ttdoc">A static class used to create the TorcNetwork singleton in the admin thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00811">torcnetwork.cpp:811</a></div></div>
<div class="ttc" id="class_torc_network_html_a060c767fbc3fc7b4fad0107f2d363498"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a060c767fbc3fc7b4fad0107f2d363498">TorcNetwork::NewHostName</a></div><div class="ttdeci">void NewHostName(const QHostInfo &amp;Info)</div><div class="ttdoc">Receives host name updates from QHostInfo. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00720">torcnetwork.cpp:720</a></div></div>
<div class="ttc" id="class_torc_network_request_html_aaf4aed4e4bc16ce1cdf53a1bf1052c02"><div class="ttname"><a href="../../d3/ded/class_torc_network_request.html#aaf4aed4e4bc16ce1cdf53a1bf1052c02">TorcNetworkRequest::SetRange</a></div><div class="ttdeci">void SetRange(int Start, int End=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcb/torcnetworkrequest_8cpp_source.html#l00322">torcnetworkrequest.cpp:322</a></div></div>
<div class="ttc" id="class_torc_network_html_a7823cef66f9141ae778b4eb2ff3ba0b1"><div class="ttname"><a href="../../d8/d73/class_torc_network.html#a7823cef66f9141ae778b4eb2ff3ba0b1">TorcNetwork::IsLocal</a></div><div class="ttdeci">static bool IsLocal(const QHostAddress &amp;Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9c/torcnetwork_8cpp_source.html#l00238">torcnetwork.cpp:238</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 28 2018 15:38:09 for Torc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
